/*! For license information please see index.js.LICENSE.txt */
(()=>{var __webpack_modules__={13563:e=>{"use strict";e.exports={LOG:"log",AGENT:"agent",DATADOG:"datadog",AGENT_PROXY:"agent_proxy",JEST_WORKER:"jest_worker"}},69769:e=>{"use strict";e.exports={TEXT_MAP:"text_map",HTTP_HEADERS:"http_headers",BINARY:"binary",LOG:"log"}},2691:(e,t,r)=>{"use strict";const n=r(69769),s=r(53165),i=r(79188),o=r(43620),a=r(98051),c=r(13563);e.exports={formats:n,kinds:s,priority:i,tags:o,types:a,exporters:c}},53165:e=>{"use strict";e.exports={SERVER:"server",CLIENT:"client",PRODUCER:"producer",CONSUMER:"consumer"}},79188:e=>{"use strict";e.exports={USER_REJECT:-1,AUTO_REJECT:0,AUTO_KEEP:1,USER_KEEP:2}},43620:e=>{"use strict";const t={SERVICE_NAME:"service.name",RESOURCE_NAME:"resource.name",SPAN_TYPE:"span.type",SPAN_KIND:"span.kind",SAMPLING_PRIORITY:"sampling.priority",ANALYTICS:"_dd1.sr.eausr",ERROR:"error",MANUAL_KEEP:"manual.keep",MANUAL_DROP:"manual.drop",MEASURED:"_dd.measured",HTTP_URL:"http.url",HTTP_METHOD:"http.method",HTTP_STATUS_CODE:"http.status_code",HTTP_ROUTE:"http.route",HTTP_REQUEST_HEADERS:"http.request.headers",HTTP_RESPONSE_HEADERS:"http.response.headers",HTTP_USERAGENT:"http.useragent",HTTP_CLIENT_IP:"http.client_ip"};t.ANALYTICS_SAMPLE_RATE=t.ANALYTICS,e.exports=t},98051:e=>{"use strict";e.exports={HTTP:"http",WEB:"web"}},33927:(e,t,r)=>{"use strict";r(66170)},3852:(e,t,r)=>{"use strict";e.exports=r(19516)(__dirname)},75898:(e,t,r)=>{"use strict";const n=r(71017),s=r(57147),{SourceMap:i}=r(32643),o="//# sourceMappingURL=",a="//# sourceMappingURL=data:application/json;base64,",c=new Map;function u(e){const t=e.split(n.sep);return t.pop(),t.join(n.sep)}e.exports={getSourcePathAndLineFromSourceMaps:function(e,t,r=0){try{const s=c.get(e);if(s){const i=u(e),{originalSource:o,originalLine:a,originalColumn:c}=s.findEntry(t-1,r-1);return{path:n.join(i,o),line:a+1,column:c+1}}}catch(e){}return{path:e,line:t,column:r}},cacheRewrittenSourceMap:function(e,t){const r=function(e,t){const r=e.trim().split("\n"),c=r[r.length-1];let u;if(0===c.indexOf(a)){const e=c.substring(50);u=Buffer.from(e,"base64").toString("utf8")}else if(0===c.indexOf(o)){let e=c.substring(21);e&&(e=n.join(t,e),u=s.readFileSync(e).toString())}if(u)return new i(JSON.parse(u))}(t,u(e));c.set(e,r)}}},32643:(e,t,r)=>{"use strict";const{ArrayPrototypePush:n,ArrayPrototypeSlice:s,ArrayPrototypeSort:i,ArrayIsArray:o,ObjectPrototypeHasOwnProperty:a,StringPrototypeCharAt:c}=r(43410);let u;class p{constructor(e){this._string=e,this._position=0}next(){return c(this._string,this._position++)}peek(){return c(this._string,this._position)}hasNext(){return this._position<this._string.length}}function l(e){return","===e||";"===e}function d(e){let t,r=0,n=0;do{t=u[e.next()],r+=(31&t)<<n,n+=5}while(32&t);const s=1&r;return r>>>=1,s?-r|1<<31:r}function h(e,t){const{0:r,1:n}=e,{0:s,1:i}=t;return r!==s?r-s:n-i}e.exports={SourceMap:class{constructor(e){if(this._mappings=[],this._sources={},this._sources={},!u){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";u={};for(let t=0;t<e.length;++t)u[e[t]]=t}this._payload=function(e){e={...e};for(const t in e)a(e,t)&&o(e[t])&&(e[t]=s(e[t]));return e}(e),this._parseMappingPayload()}_parseMappingPayload(){this._payload.sections?this._parseSections(this._payload.sections):this._parseMap(this._payload,0,0),i(this._mappings,h)}_parseSections(e){for(let t=0;t<e.length;++t){const r=e[t];this._parseMap(r.map,r.offset.line,r.offset.column)}}findEntry(e,t){let r=0,n=this._mappings.length;for(;n>1;){const s=n>>1,i=r+s,o=this._mappings[i];e<o[0]||e===o[0]&&t<o[1]?n=s:(r=i,n-=s)}const s=this._mappings[r];return!r&&s&&(e<s[0]||e===s[0]&&t<s[1])?{}:s?{generatedLine:s[0],generatedColumn:s[1],originalSource:s[2],originalLine:s[3],originalColumn:s[4],name:s[5]}:{}}_parseMap(e,t,r){let s=0,i=0,o=0,a=0;const c=[],u={};for(let t=0;t<e.sources.length;++t){const r=e.sources[t];u[r]=r,n(c,r),this._sources[r]=!0,e.sourcesContent&&e.sourcesContent[t]&&(this._sources[r]=e.sourcesContent[t])}const h=new p(e.mappings);let f=c[s];for(;;){if(","===h.peek())h.next();else{for(;";"===h.peek();)t+=1,r=0,h.next();if(!h.hasNext())break}if(r+=d(h),l(h.peek())){n(this._mappings,[t,r]);continue}const u=d(h);let p;u&&(s+=u,f=c[s]),i+=d(h),o+=d(h),l(h.peek())||(a+=d(h),p=e.names?e.names[a]:void 0),n(this._mappings,[t,r,f,i,o,p])}}}}},43410:e=>{"use strict";function t(e){return function(t,...r){return e.apply(t,r)}}const r={ArrayPrototypePush:t(Array.prototype.push),ArrayPrototypeSlice:t(Array.prototype.slice),ArrayPrototypeSort:t(Array.prototype.sort),ArrayIsArray:Array.isArray,ObjectPrototypeHasOwnProperty:t(Object.prototype.hasOwnProperty),StringPrototypeCharAt:t(String.prototype.charAt)};e.exports=r},99664:(e,t,r)=>{const{getSourcePathAndLineFromSourceMaps:n}=r(75898),s=Symbol("_ddiastPrepareStackTrace");class i{constructor(e){const{path:t,line:r,column:s}=n(e.getFileName(),e.getLineNumber(),e.getColumnNumber());this.source=t,this.lineNumber=r,this.columnNumber=s,this.callSite=e}getThis(){return this.callSite}getTypeName(){return this.callSite.getTypeName()}getFunction(){return this.callSite.getFunction()}getFunctionName(){return this.callSite.getFunctionName()}getMethodName(){return this.callSite.getMethodName()}getFileName(){return this.source}getScriptNameOrSourceURL(){return null}getLineNumber(){return this.lineNumber}getColumnNumber(){return this.columnNumber}getEvalOrigin(){return this.callSite.getEvalOrigin()}isToplevel(){return this.callSite.isToplevel()}isEval(){return this.callSite.isEval()}isNative(){return this.callSite.isNative()}isConstructor(){return this.callSite.isConstructor()}}e.exports={getPrepareStackTrace:function(e){if(e&&e[s])return e;const t=(t,r)=>{if(e){const n=r.map((e=>new i(e)));return e(t,n)}const s=t.stack.split("\n");let o=-1;for(let e=0;e<s.length;e++)if(s[e].match(/^\s*at/gm)){o=e;break}return s.map(((e,t)=>{if(t<o)return e;const s=r[t-=o];if(!s)return e;let i=s.getFileName(),a=s.getLineNumber(),c=s.getColumnNumber();if(s.isEval()){const t=s.getEvalOrigin(),r=/.*\(((?:.:[/\\]?)?[/\\].*):(\d*):(\d*)\)/g.exec(t);if(!r)return e;i=r[1],a=r[2],c=r[3]}const{path:u,line:p,column:l}=n(i,a,c);return u!==i||p!==a||l!==c?e.replace(`${i}:${a}:${c}`,`${u}:${p}:${l}`):e})).join("\n")};return Object.defineProperty(t,s,{value:!0}),t}}},99020:(e,t,r)=>{"use strict";const{getPrepareStackTrace:n}=r(99664),{cacheRewrittenSourceMap:s}=r(75898);class i{rewrite(e,t){return{content:e}}csiMethods(){return[]}}let o;class a{constructor(e){this.nativeRewriter=o?new o(e):new i}rewrite(e,t){const r=this.nativeRewriter.rewrite(e,t);return s(t,r.content),r}csiMethods(){return this.nativeRewriter.csiMethods()}}e.exports={Rewriter:function(){try{const e=r(51721);return o=e.Rewriter,a}catch(e){return i}}(),DummyRewriter:i,getPrepareStackTrace:n}},51721:(e,t,r)=>{let n,s={};s.__wbindgen_placeholder__=e.exports;const{TextDecoder:i,TextEncoder:o}=r(73837),a=new Array(32).fill(void 0);function c(e){return a[e]}a.push(void 0,null,!0,!1);let u=a.length;function p(e){const t=c(e);return function(e){e<36||(a[e]=u,u=e)}(e),t}let l=new i("utf-8",{ignoreBOM:!0,fatal:!0});l.decode();let d=new Uint8Array;function h(){return 0===d.byteLength&&(d=new Uint8Array(n.memory.buffer)),d}function f(e,t){return l.decode(h().subarray(e,e+t))}function m(e){u===a.length&&a.push(a.length+1);const t=u;return u=a[t],a[t]=e,t}let g=0,_=new o("utf-8");const y="function"==typeof _.encodeInto?function(e,t){return _.encodeInto(e,t)}:function(e,t){const r=_.encode(e);return t.set(r),{read:e.length,written:r.length}};function b(e,t,r){if(void 0===r){const r=_.encode(e),n=t(r.length);return h().subarray(n,n+r.length).set(r),g=r.length,n}let n=e.length,s=t(n);const i=h();let o=0;for(;o<n;o++){const t=e.charCodeAt(o);if(t>127)break;i[s+o]=t}if(o!==n){0!==o&&(e=e.slice(o)),s=r(s,n,n=o+3*e.length);const t=h().subarray(s+o,s+n);o+=y(e,t).written}return g=o,s}function v(e){return null==e}let E=new Int32Array;function S(){return 0===E.byteLength&&(E=new Int32Array(n.memory.buffer)),E}let T=new Float64Array;function w(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let r="[";t>0&&(r+=w(e[0]));for(let n=1;n<t;n++)r+=", "+w(e[n]);return r+="]",r}const r=/\[object ([^\]]+)\]/.exec(toString.call(e));let n;if(!(r.length>1))return toString.call(e);if(n=r[1],"Object"==n)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:n}function I(e,t){try{return e.apply(this,t)}catch(e){n.__wbindgen_exn_store(m(e))}}class x{static __wrap(e){const t=Object.create(x.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();n.__wbg_rewriter_free(e)}constructor(e){const t=n.rewriter_new(m(e));return x.__wrap(t)}rewrite(e,t){try{const i=n.__wbindgen_add_to_stack_pointer(-16),o=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),a=g,c=b(t,n.__wbindgen_malloc,n.__wbindgen_realloc),u=g;n.rewriter_rewrite(i,this.ptr,o,a,c,u);var r=S()[i/4+0],s=S()[i/4+1];if(S()[i/4+2])throw p(s);return p(r)}finally{n.__wbindgen_add_to_stack_pointer(16)}}csiMethods(){try{const r=n.__wbindgen_add_to_stack_pointer(-16);n.rewriter_csiMethods(r,this.ptr);var e=S()[r/4+0],t=S()[r/4+1];if(S()[r/4+2])throw p(t);return p(e)}finally{n.__wbindgen_add_to_stack_pointer(16)}}}e.exports.Rewriter=x,e.exports.__wbindgen_object_drop_ref=function(e){p(e)},e.exports.__wbindgen_error_new=function(e,t){return m(new Error(f(e,t)))},e.exports.__wbindgen_boolean_get=function(e){const t=c(e);return"boolean"==typeof t?t?1:0:2},e.exports.__wbindgen_string_get=function(e,t){const r=c(t),s="string"==typeof r?r:void 0;var i=v(s)?0:b(s,n.__wbindgen_malloc,n.__wbindgen_realloc),o=g;S()[e/4+1]=o,S()[e/4+0]=i},e.exports.__wbindgen_is_object=function(e){const t=c(e);return"object"==typeof t&&null!==t},e.exports.__wbindgen_is_undefined=function(e){return void 0===c(e)},e.exports.__wbindgen_in=function(e,t){return c(e)in c(t)},e.exports.__wbindgen_is_string=function(e){return"string"==typeof c(e)},e.exports.__wbindgen_number_new=function(e){return m(e)},e.exports.__wbindgen_object_clone_ref=function(e){return m(c(e))},e.exports.__wbindgen_string_new=function(e,t){return m(f(e,t))},e.exports.__wbindgen_jsval_loose_eq=function(e,t){return c(e)==c(t)},e.exports.__wbindgen_number_get=function(e,t){const r=c(t),s="number"==typeof r?r:void 0;(0===T.byteLength&&(T=new Float64Array(n.memory.buffer)),T)[e/8+1]=v(s)?0:s,S()[e/4+0]=!v(s)},e.exports.__wbg_String_91fba7ded13ba54c=function(e,t){const r=b(String(c(t)),n.__wbindgen_malloc,n.__wbindgen_realloc),s=g;S()[e/4+1]=s,S()[e/4+0]=r},e.exports.__wbg_getwithrefkey_15c62c2b8546208d=function(e,t){return m(c(e)[c(t)])},e.exports.__wbg_set_20cbc34131e76824=function(e,t,r){c(e)[p(t)]=p(r)},e.exports.__wbg_get_57245cc7d7c7619d=function(e,t){return m(c(e)[t>>>0])},e.exports.__wbg_length_6e3bbe7c8bd4dbd8=function(e){return c(e).length},e.exports.__wbg_new_1d9a920c6bfc44a8=function(){return m(new Array)},e.exports.__wbindgen_is_function=function(e){return"function"==typeof c(e)},e.exports.__wbg_new_268f7b7dd3430798=function(){return m(new Map)},e.exports.__wbg_next_579e583d33566a86=function(e){return m(c(e).next)},e.exports.__wbg_next_aaef7c8aa5e212ac=function(){return I((function(e){return m(c(e).next())}),arguments)},e.exports.__wbg_done_1b73b0672e15f234=function(e){return c(e).done},e.exports.__wbg_value_1ccc36bc03462d71=function(e){return m(c(e).value)},e.exports.__wbg_iterator_6f9d4f28845f426c=function(){return m(Symbol.iterator)},e.exports.__wbg_get_765201544a2b6869=function(){return I((function(e,t){return m(Reflect.get(c(e),c(t)))}),arguments)},e.exports.__wbg_call_97ae9d8645dc388b=function(){return I((function(e,t){return m(c(e).call(c(t)))}),arguments)},e.exports.__wbg_new_0b9bfdd97583284e=function(){return m(new Object)},e.exports.__wbg_set_a68214f35c417fa9=function(e,t,r){c(e)[t>>>0]=p(r)},e.exports.__wbg_isArray_27c46c67f498e15d=function(e){return Array.isArray(c(e))},e.exports.__wbg_instanceof_ArrayBuffer_e5e48f4762c5610b=function(e){let t;try{t=c(e)instanceof ArrayBuffer}catch{t=!1}return t},e.exports.__wbg_set_933729cf5b66ac11=function(e,t,r){return m(c(e).set(c(t),c(r)))},e.exports.__wbg_now_58886682b7e790d7=function(){return Date.now()},e.exports.__wbg_buffer_3f3d764d4747d564=function(e){return m(c(e).buffer)},e.exports.__wbg_new_8c3f0052272a457a=function(e){return m(new Uint8Array(c(e)))},e.exports.__wbg_set_83db9690f9353e79=function(e,t,r){c(e).set(c(t),r>>>0)},e.exports.__wbg_length_9e1ae1900cb0fbd5=function(e){return c(e).length},e.exports.__wbg_instanceof_Uint8Array_971eeda69eb75003=function(e){let t;try{t=c(e)instanceof Uint8Array}catch{t=!1}return t},e.exports.__wbindgen_debug_string=function(e,t){const r=b(w(c(t)),n.__wbindgen_malloc,n.__wbindgen_realloc),s=g;S()[e/4+1]=s,S()[e/4+0]=r},e.exports.__wbindgen_throw=function(e,t){throw new Error(f(e,t))},e.exports.__wbindgen_memory=function(){return m(n.memory)};const k=r(71017).join(__dirname,"wasm_iast_rewriter_bg.wasm"),O=r(57147).readFileSync(k),A=new WebAssembly.Module(O),N=new WebAssembly.Instance(A,s);n=N.exports,e.exports.__wasm=n},39740:(e,t,r)=>{"use strict";let n;try{n=r(19516)(__dirname)}catch(e){n={createTransaction:e=>e,newTaintedString:(e,t)=>t,isTainted:()=>!1,getMetrics(){},getRanges(){},removeTransaction(){},setMaxTransactions(){},replace:(e,t)=>t,concat:(e,t)=>t,trim:(e,t)=>t,trimEnd:(e,t)=>t,slice:(e,t)=>t,substring:(e,t)=>t,substr:(e,t)=>t}}const s={newTaintedString:n.newTaintedString,isTainted:n.isTainted,getMetrics:n.getMetrics,getRanges:n.getRanges,createTransaction:n.createTransaction,removeTransaction:n.removeTransaction,setMaxTransactions:n.setMaxTransactions,replace:r(70720)(n),concat:n.concat,trim:n.trim,trimEnd:n.trimEnd,slice:n.slice,substring:n.substring,substr:n.substr};e.exports=s},70720:e=>{const t=/(\$\$)|(\$&)|(\$`)|(\$')|(\$\d)/;e.exports=function(e){function r(r,n,s){return e.isTainted(r,n,s)&&!function(e){return e.indexOf("$")>-1&&!!e.match(t)}(s)}return e.replace?e.replace:function(t,n,s,i,o){if(t&&"string"==typeof s&&"string"==typeof o)if("string"==typeof i){if(r(t,s,o)){const r=s.indexOf(i);if(r>-1)return e.replaceStringByString(t,n,s,i,o,r)}}else if(i instanceof RegExp&&r(t,s,o)){const r=[];let a=-1;for(let e=i.exec(s),t=0;null!=e;e=i.exec(s),t++){const t=e.index;if(t===a)break;r.push([t,e[0]]),a=t}return e.replaceStringByStringUsingRegex(t,n,s,i,o,r)}return n}}},8293:(e,t,r)=>{"use strict";const n=r(19516)(__dirname);e.exports=n},84083:(e,t)=>{class r{constructor(){this._array=[],this._set=new Map}static fromArray(e,t){const n=new r;for(let r=0,s=e.length;r<s;r++)n.add(e[r],t);return n}size(){return this._set.size}add(e,t){const r=this.has(e),n=this._array.length;r&&!t||this._array.push(e),r||this._set.set(e,n)}has(e){return this._set.has(e)}indexOf(e){const t=this._set.get(e);if(t>=0)return t;throw new Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)}toArray(){return this._array.slice()}}t.I=r},4336:(e,t,r)=>{const n=r(29274);t.encode=function(e){let t,r="",s=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&s,s>>>=5,s>0&&(t|=32),r+=n.encode(t)}while(s>0);return r}},29274:(e,t)=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)}},13740:(e,t)=>{function r(e,n,s,i,o,a){const c=Math.floor((n-e)/2)+e,u=o(s,i[c],!0);return 0===u?c:u>0?n-c>1?r(c,n,s,i,o,a):a==t.LEAST_UPPER_BOUND?n<i.length?n:-1:c:c-e>1?r(e,c,s,i,o,a):a==t.LEAST_UPPER_BOUND?c:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,s,i){if(0===n.length)return-1;let o=r(-1,n.length,e,n,s,i||t.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===s(n[o],n[o-1],!0);)--o;return o}},73136:(e,t,r)=>{const n=r(30896);t.H=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,t){this._array.forEach(e,t)}add(e){!function(e,t){const r=e.generatedLine,s=t.generatedLine,i=e.generatedColumn,o=t.generatedColumn;return s>r||s==r&&o>=i||n.compareByGeneratedPositionsInflated(e,t)<=0}(this._last,e)?(this._sorted=!1,this._array.push(e)):(this._last=e,this._array.push(e))}toArray(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}}},31645:(e,t,r)=>{if(function(){return"undefined"!=typeof window&&this===window}.call()){let t=null;e.exports=function(){if("string"==typeof t)return fetch(t).then((e=>e.arrayBuffer()));if(t instanceof ArrayBuffer)return Promise.resolve(t);throw new Error("You must provide the string URL or ArrayBuffer contents of lib/mappings.wasm by calling SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) before using SourceMapConsumer")},e.exports.initialize=e=>t=e}else{const t=r(57147),n=r(71017);e.exports=function(){return new Promise(((e,r)=>{const s=n.join(__dirname,"mappings.wasm");t.readFile(s,null,((t,n)=>{t?r(t):e(n.buffer)}))}))},e.exports.initialize=e=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}}},65882:(e,t,r)=>{const n=r(30896),s=r(13740),i=r(84083).I,o=(r(4336),r(31645)),a=r(29916),c=Symbol("smcInternal");class u{constructor(e,t){return e==c?Promise.resolve(this):function(e,t){let r=e;"string"==typeof e&&(r=n.parseSourceMapInput(e));const s=null!=r.sections?new l(r,t):new p(r,t);return Promise.resolve(s)}(e,t)}static initialize(e){o.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,t){return function(e,t){return p.fromSourceMap(e,t)}(e,t)}static async with(e,t,r){const n=await new u(e,t);try{return await r(n)}finally{n.destroy()}}_parseMappings(e,t){throw new Error("Subclasses must implement _parseMappings")}eachMapping(e,t,r){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}}u.prototype._version=3,u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,t.SourceMapConsumer=u;class p extends u{constructor(e,t){return super(c).then((r=>{let s=e;"string"==typeof e&&(s=n.parseSourceMapInput(e));const o=n.getArg(s,"version");let c=n.getArg(s,"sources");const u=n.getArg(s,"names",[]);let p=n.getArg(s,"sourceRoot",null);const l=n.getArg(s,"sourcesContent",null),d=n.getArg(s,"mappings"),h=n.getArg(s,"file",null);if(o!=r._version)throw new Error("Unsupported version: "+o);return p&&(p=n.normalize(p)),c=c.map(String).map(n.normalize).map((function(e){return p&&n.isAbsolute(p)&&n.isAbsolute(e)?n.relative(p,e):e})),r._names=i.fromArray(u.map(String),!0),r._sources=i.fromArray(c,!0),r._absoluteSources=r._sources.toArray().map((function(e){return n.computeSourceURL(p,e,t)})),r.sourceRoot=p,r.sourcesContent=l,r._mappings=d,r._sourceMapURL=t,r.file=h,r._computedColumnSpans=!1,r._mappingsPtr=0,r._wasm=null,a().then((e=>(r._wasm=e,r)))}))}_findSourceIndex(e){let t=e;if(null!=this.sourceRoot&&(t=n.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);for(let t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1}static fromSourceMap(e,t){return new p(e.toString())}get sources(){return this._absoluteSources.slice()}_getMappingsPtr(){return 0===this._mappingsPtr&&this._parseMappings(this._mappings,this.sourceRoot),this._mappingsPtr}_parseMappings(e,t){const r=e.length,n=this._wasm.exports.allocate_mappings(r),s=new Uint8Array(this._wasm.exports.memory.buffer,n,r);for(let t=0;t<r;t++)s[t]=e.charCodeAt(t);const i=this._wasm.exports.parse_mappings(n);if(!i){const e=this._wasm.exports.get_last_error();let t=`Error parsing mappings (code ${e}): `;switch(e){case 1:t+="the mappings contained a negative line, column, source index, or name index";break;case 2:t+="the mappings contained a number larger than 2**32";break;case 3:t+="reached EOF while in the middle of parsing a VLQ";break;case 4:t+="invalid base 64 character while parsing a VLQ";break;default:t+="unknown error code"}throw new Error(t)}this._mappingsPtr=i}eachMapping(e,t,r){const s=t||null,i=r||u.GENERATED_ORDER,o=this.sourceRoot;this._wasm.withMappingCallback((t=>{null!==t.source&&(t.source=this._sources.at(t.source),t.source=n.computeSourceURL(o,t.source,this._sourceMapURL),null!==t.name&&(t.name=this._names.at(t.name))),e.call(s,t)}),(()=>{switch(i){case u.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case u.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}}))}allGeneratedPositionsFor(e){let t=n.getArg(e,"source");const r=n.getArg(e,"line"),s=e.column||0;if(t=this._findSourceIndex(t),t<0)return[];if(r<1)throw new Error("Line numbers must be >= 1");if(s<0)throw new Error("Column numbers must be >= 0");const i=[];return this._wasm.withMappingCallback((e=>{let t=e.lastGeneratedColumn;this._computedColumnSpans&&null===t&&(t=1/0),i.push({line:e.generatedLine,column:e.generatedColumn,lastColumn:t})}),(()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),t,r-1,"column"in e,s)})),i}destroy(){0!==this._mappingsPtr&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){const t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")};if(t.generatedLine<1)throw new Error("Line numbers must be >= 1");if(t.generatedColumn<0)throw new Error("Column numbers must be >= 0");let r,s=n.getArg(e,"bias",u.GREATEST_LOWER_BOUND);if(null==s&&(s=u.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback((e=>r=e),(()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),t.generatedLine-1,t.generatedColumn,s)})),r&&r.generatedLine===t.generatedLine){let e=n.getArg(r,"source",null);null!==e&&(e=this._sources.at(e),e=n.computeSourceURL(this.sourceRoot,e,this._sourceMapURL));let t=n.getArg(r,"name",null);return null!==t&&(t=this._names.at(t)),{source:e,line:n.getArg(r,"originalLine",null),column:n.getArg(r,"originalColumn",null),name:t}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))}sourceContentFor(e,t){if(!this.sourcesContent)return null;const r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];let s,i=e;if(null!=this.sourceRoot&&(i=n.relative(this.sourceRoot,i)),null!=this.sourceRoot&&(s=n.urlParse(this.sourceRoot))){const e=i.replace(/^file:\/\//,"");if("file"==s.scheme&&this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];if((!s.path||"/"==s.path)&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(t)return null;throw new Error('"'+i+'" is not in the SourceMap.')}generatedPositionFor(e){let t=n.getArg(e,"source");if(t=this._findSourceIndex(t),t<0)return{line:null,column:null,lastColumn:null};const r={source:t,originalLine:n.getArg(e,"line"),originalColumn:n.getArg(e,"column")};if(r.originalLine<1)throw new Error("Line numbers must be >= 1");if(r.originalColumn<0)throw new Error("Column numbers must be >= 0");let s,i=n.getArg(e,"bias",u.GREATEST_LOWER_BOUND);if(null==i&&(i=u.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback((e=>s=e),(()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),r.source,r.originalLine-1,r.originalColumn,i)})),s&&s.source===r.source){let e=s.lastGeneratedColumn;return this._computedColumnSpans&&null===e&&(e=1/0),{line:n.getArg(s,"generatedLine",null),column:n.getArg(s,"generatedColumn",null),lastColumn:e}}return{line:null,column:null,lastColumn:null}}}p.prototype.consumer=u;class l extends u{constructor(e,t){return super(c).then((r=>{let s=e;"string"==typeof e&&(s=n.parseSourceMapInput(e));const o=n.getArg(s,"version"),a=n.getArg(s,"sections");if(o!=r._version)throw new Error("Unsupported version: "+o);r._sources=new i,r._names=new i,r.__generatedMappings=null,r.__originalMappings=null,r.__generatedMappingsUnsorted=null,r.__originalMappingsUnsorted=null;let c={line:-1,column:0};return Promise.all(a.map((e=>{if(e.url)throw new Error("Support for url field in sections not implemented.");const r=n.getArg(e,"offset"),s=n.getArg(r,"line"),i=n.getArg(r,"column");if(s<c.line||s===c.line&&i<c.column)throw new Error("Section offsets must be ordered and non-overlapping.");return c=r,new u(n.getArg(e,"map"),t).then((e=>({generatedOffset:{generatedLine:s+1,generatedColumn:i+1},consumer:e})))}))).then((e=>(r._sections=e,r)))}))}get _generatedMappings(){return this.__generatedMappings||this._sortGeneratedMappings(),this.__generatedMappings}get _originalMappings(){return this.__originalMappings||this._sortOriginalMappings(),this.__originalMappings}get _generatedMappingsUnsorted(){return this.__generatedMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappingsUnsorted}get _originalMappingsUnsorted(){return this.__originalMappingsUnsorted||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappingsUnsorted}_sortGeneratedMappings(){const e=this._generatedMappingsUnsorted;e.sort(n.compareByGeneratedPositionsDeflated),this.__generatedMappings=e}_sortOriginalMappings(){const e=this._originalMappingsUnsorted;e.sort(n.compareByOriginalPositions),this.__originalMappings=e}get sources(){const e=[];for(let t=0;t<this._sections.length;t++)for(let r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}originalPositionFor(e){const t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=s.search(t,this._sections,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),i=this._sections[r];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))}sourceContentFor(e,t){for(let t=0;t<this._sections.length;t++){const r=this._sections[t].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){for(let t=0;t<this._sections.length;t++){const r=this._sections[t];if(-1===r.consumer._findSourceIndex(n.getArg(e,"source")))continue;const s=r.consumer.generatedPositionFor(e);if(s)return{line:s.line+(r.generatedOffset.generatedLine-1),column:s.column+(r.generatedOffset.generatedLine===s.line?r.generatedOffset.generatedColumn-1:0)}}return{line:null,column:null}}_parseMappings(e,t){const r=this.__generatedMappingsUnsorted=[],s=this.__originalMappingsUnsorted=[];for(let e=0;e<this._sections.length;e++){const t=this._sections[e],i=[];t.consumer.eachMapping((e=>i.push(e)));for(let e=0;e<i.length;e++){const o=i[e];let a=n.computeSourceURL(t.consumer.sourceRoot,null,this._sourceMapURL);this._sources.add(a),a=this._sources.indexOf(a);let c=null;o.name&&(this._names.add(o.name),c=this._names.indexOf(o.name));const u={source:a,generatedLine:o.generatedLine+(t.generatedOffset.generatedLine-1),generatedColumn:o.generatedColumn+(t.generatedOffset.generatedLine===o.generatedLine?t.generatedOffset.generatedColumn-1:0),originalLine:o.originalLine,originalColumn:o.originalColumn,name:c};r.push(u),"number"==typeof u.originalLine&&s.push(u)}}}eachMapping(e,t,r){const s=t||null;let i;switch(r||u.GENERATED_ORDER){case u.GENERATED_ORDER:i=this._generatedMappings;break;case u.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}const o=this.sourceRoot;i.map((function(e){let t=null;return null!==e.source&&(t=this._sources.at(e.source),t=n.computeSourceURL(o,t,this._sourceMapURL)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,s)}_findMapping(e,t,r,n,i,o){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return s.search(e,t,i,o)}allGeneratedPositionsFor(e){const t=n.getArg(e,"line"),r={source:n.getArg(e,"source"),originalLine:t,originalColumn:n.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];if(r.originalLine<1)throw new Error("Line numbers must be >= 1");if(r.originalColumn<0)throw new Error("Column numbers must be >= 0");const i=[];let o=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,s.LEAST_UPPER_BOUND);if(o>=0){let r=this._originalMappings[o];if(void 0===e.column){const e=r.originalLine;for(;r&&r.originalLine===e;){let e=r.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),i.push({line:n.getArg(r,"generatedLine",null),column:n.getArg(r,"generatedColumn",null),lastColumn:e}),r=this._originalMappings[++o]}}else{const e=r.originalColumn;for(;r&&r.originalLine===t&&r.originalColumn==e;){let e=r.lastGeneratedColumn;this._computedColumnSpans&&null===e&&(e=1/0),i.push({line:n.getArg(r,"generatedLine",null),column:n.getArg(r,"generatedColumn",null),lastColumn:e}),r=this._originalMappings[++o]}}}return i}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}}},43527:(e,t,r)=>{const n=r(4336),s=r(30896),i=r(84083).I,o=r(73136).H;class a{constructor(e){e||(e={}),this._file=s.getArg(e,"file",null),this._sourceRoot=s.getArg(e,"sourceRoot",null),this._skipValidation=s.getArg(e,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new o,this._sourcesContents=null}static fromSourceMap(e){const t=e.sourceRoot,r=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){const n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=s.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(n){let i=n;null!==t&&(i=s.relative(t,n)),r._sources.has(i)||r._sources.add(i);const o=e.sourceContentFor(n);null!=o&&r.setSourceContent(n,o)})),r}addMapping(e){const t=s.getArg(e,"generated"),r=s.getArg(e,"original",null);let n=s.getArg(e,"source",null),i=s.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,i),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:i})}setSourceContent(e,t){let r=e;null!=this._sourceRoot&&(r=s.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[s.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[s.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))}applySourceMap(e,t,r){let n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}const o=this._sourceRoot;null!=o&&(n=s.relative(o,n));const a=this._mappings.toArray().length>0?new i:this._sources,c=new i;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){const n=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=n.source&&(t.source=n.source,null!=r&&(t.source=s.join(r,t.source)),null!=o&&(t.source=s.relative(o,t.source)),t.originalLine=n.line,t.originalColumn=n.column,null!=n.name&&(t.name=n.name))}const i=t.source;null==i||a.has(i)||a.add(i);const u=t.name;null==u||c.has(u)||c.add(u)}),this),this._sources=a,this._names=c,e.sources.forEach((function(t){const n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=s.join(r,t)),null!=o&&(t=s.relative(o,t)),this.setSourceContent(t,n))}),this)}_validateMapping(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!r&&!n);else if(!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))}_serializeMappings(){let e,t,r,i,o=0,a=1,c=0,u=0,p=0,l=0,d="";const h=this._mappings.toArray();for(let f=0,m=h.length;f<m;f++){if(t=h[f],e="",t.generatedLine!==a)for(o=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!s.compareByGeneratedPositionsInflated(t,h[f-1]))continue;e+=","}e+=n.encode(t.generatedColumn-o),o=t.generatedColumn,null!=t.source&&(i=this._sources.indexOf(t.source),e+=n.encode(i-l),l=i,e+=n.encode(t.originalLine-1-u),u=t.originalLine-1,e+=n.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=n.encode(r-p),p=r)),d+=e}return d}_generateSourcesContent(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=s.relative(t,e));const r=s.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)}toJSON(){const e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}}a.prototype._version=3,t.SourceMapGenerator=a},35760:(e,t,r)=>{const n=r(43527).SourceMapGenerator,s=r(30896),i=/(\r?\n)/,o="$$$isSourceNode$$$";class a{constructor(e,t,r,n,s){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==s?null:s,this[o]=!0,null!=n&&this.add(n)}static fromStringWithSourceMap(e,t,r){const n=new a,o=e.split(i);let c=0;const u=function(){return e()+(e()||"");function e(){return c<o.length?o[c++]:void 0}};let p,l=1,d=0,h=null;return t.eachMapping((function(e){if(null!==h){if(!(l<e.generatedLine)){p=o[c]||"";const t=p.substr(0,e.generatedColumn-d);return o[c]=p.substr(e.generatedColumn-d),d=e.generatedColumn,f(h,t),void(h=e)}f(h,u()),l++,d=0}for(;l<e.generatedLine;)n.add(u()),l++;d<e.generatedColumn&&(p=o[c]||"",n.add(p.substr(0,e.generatedColumn)),o[c]=p.substr(e.generatedColumn),d=e.generatedColumn),h=e}),this),c<o.length&&(h&&f(h,u()),n.add(o.splice(c).join(""))),t.sources.forEach((function(e){const i=t.sourceContentFor(e);null!=i&&(null!=r&&(e=s.join(r,e)),n.setSourceContent(e,i))})),n;function f(e,t){if(null===e||void 0===e.source)n.add(t);else{const i=r?s.join(r,e.source):e.source;n.add(new a(e.originalLine,e.originalColumn,i,t,e.name))}}}add(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[o]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this}prepend(e){if(Array.isArray(e))for(let t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[o]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this}walk(e){let t;for(let r=0,n=this.children.length;r<n;r++)t=this.children[r],t[o]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let t,r;const n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this}replaceRight(e,t){const r=this.children[this.children.length-1];return r[o]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this}setSourceContent(e,t){this.sourceContents[s.toSetString(e)]=t}walkSourceContents(e){for(let t=0,r=this.children.length;t<r;t++)this.children[t][o]&&this.children[t].walkSourceContents(e);const t=Object.keys(this.sourceContents);for(let r=0,n=t.length;r<n;r++)e(s.fromSetString(t[r]),this.sourceContents[t[r]])}toString(){let e="";return this.walk((function(t){e+=t})),e}toStringWithSourceMap(e){const t={code:"",line:1,column:0},r=new n(e);let s=!1,i=null,o=null,a=null,c=null;return this.walk((function(e,n){t.code+=e,null!==n.source&&null!==n.line&&null!==n.column?(i===n.source&&o===n.line&&a===n.column&&c===n.name||r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name}),i=n.source,o=n.line,a=n.column,c=n.name,s=!0):s&&(r.addMapping({generated:{line:t.line,column:t.column}}),i=null,s=!1);for(let o=0,a=e.length;o<a;o++)10===e.charCodeAt(o)?(t.line++,t.column=0,o+1===a?(i=null,s=!1):s&&r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}}}t.SourceNode=a},30896:(e,t)=>{t.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};const r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function s(e){const t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){let t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}t.urlParse=s,t.urlGenerate=i;const o=function(e){const r=[];return function(e){for(let t=0;t<r.length;t++)if(r[t].input===e){const e=r[0];return r[0]=r[t],r[t]=e,r[0].result}const n=function(e){let r=e;const n=s(e);if(n){if(!n.path)return e;r=n.path}const o=t.isAbsolute(r),a=[];let c=0,u=0;for(;;){if(c=u,u=r.indexOf("/",c),-1===u){a.push(r.slice(c));break}for(a.push(r.slice(c,u));u<r.length&&"/"===r[u];)u++}let p=0;for(u=a.length-1;u>=0;u--){const e=a[u];"."===e?a.splice(u,1):".."===e?p++:p>0&&(""===e?(a.splice(u+1,p),p=0):(a.splice(u,2),p--))}return r=a.join("/"),""===r&&(r=o?"/":"."),n?(n.path=r,i(n)):r}(e);return r.unshift({input:e,result:n}),r.length>32&&r.pop(),n}}();function a(e,t){""===e&&(e="."),""===t&&(t=".");const r=s(t),a=s(e);if(a&&(e=a.path||"/"),r&&!r.scheme)return a&&(r.scheme=a.scheme),i(r);if(r||t.match(n))return t;if(a&&!a.host&&!a.path)return a.host=t,i(a);const c="/"===t.charAt(0)?t:o(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,i(a)):c}t.normalize=o,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||r.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");let r=0;for(;0!==t.indexOf(e+"/");){const n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};const c=!("__proto__"in Object.create(null));function u(e){return e}function p(e){if(!e)return!1;const t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(let r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function l(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=c?u:function(e){return p(e)?"$"+e:e},t.fromSetString=c?u:function(e){return p(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,r){let n=l(e.source,t.source);return 0!==n?n:(n=e.originalLine-t.originalLine,0!==n?n:(n=e.originalColumn-t.originalColumn,0!==n||r?n:(n=e.generatedColumn-t.generatedColumn,0!==n?n:(n=e.generatedLine-t.generatedLine,0!==n?n:l(e.name,t.name)))))},t.compareByGeneratedPositionsDeflated=function(e,t,r){let n=e.generatedLine-t.generatedLine;return 0!==n?n:(n=e.generatedColumn-t.generatedColumn,0!==n||r?n:(n=l(e.source,t.source),0!==n?n:(n=e.originalLine-t.originalLine,0!==n?n:(n=e.originalColumn-t.originalColumn,0!==n?n:l(e.name,t.name)))))},t.compareByGeneratedPositionsInflated=function(e,t){let r=e.generatedLine-t.generatedLine;return 0!==r?r:(r=e.generatedColumn-t.generatedColumn,0!==r?r:(r=l(e.source,t.source),0!==r?r:(r=e.originalLine-t.originalLine,0!==r?r:(r=e.originalColumn-t.originalColumn,0!==r?r:l(e.name,t.name)))))},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,r){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),r){const e=s(r);if(!e)throw new Error("sourceMapURL could not be parsed");if(e.path){const t=e.path.lastIndexOf("/");t>=0&&(e.path=e.path.substring(0,t+1))}t=a(i(e),t)}return o(t)}},29916:(e,t,r)=>{const n=r(31645);function s(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}let i=null;e.exports=function(){if(i)return i;const e=[];return i=n().then((t=>WebAssembly.instantiate(t,{env:{mapping_callback(t,r,n,i,o,a,c,u,p,l){const d=new s;d.generatedLine=t+1,d.generatedColumn=r,n&&(d.lastGeneratedColumn=i-1),o&&(d.source=a,d.originalLine=c+1,d.originalColumn=u,p&&(d.name=l)),e[e.length-1](d)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}}))).then((t=>({exports:t.instance.exports,withMappingCallback:(t,r)=>{e.push(t);try{r()}finally{e.pop()}}}))).then(null,(e=>{throw i=null,e})),i}},53970:(e,t,r)=>{t.SourceMapGenerator=r(43527).SourceMapGenerator,t.SourceMapConsumer=r(65882).SourceMapConsumer,t.SourceNode=r(35760).SourceNode},20808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CpuProfiler=void 0;const n=r(71017),s=r(19516)((0,n.join)(__dirname,"..",".."));t.CpuProfiler=s.CpuProfiler},80304:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(62450),s=r(20808);function i(e){return{name:e.comment||e.functionName,scriptName:e.scriptName||"",scriptId:e.scriptId,lineNumber:e.line,columnNumber:e.column,hitCount:0,cpuTime:0,labelSets:[],children:[]}}class o extends s.CpuProfiler{profile(){if(0===this.frequency)return;const e=super.profile(),t={startTime:e.startTime,endTime:e.endTime,topDownRoot:{name:"(root)",scriptName:"",scriptId:0,lineNumber:0,columnNumber:0,hitCount:0,cpuTime:0,labelSets:[],children:[]}};let r=t.topDownRoot;for(const n of e.samples)if(n){e:for(const e of n.locations){const t=i(e);for(const e of r.children){const n=e;if(o=n,(s=t).name===o.name&&s.scriptName===o.scriptName&&s.scriptId===o.scriptId&&s.lineNumber===o.lineNumber&&s.columnNumber===o.columnNumber){r=n;continue e}}r.children.push(t),r=t}n.labels&&Object.keys(n.labels).length>0?r.labelSets.push({labels:n.labels,cpuTime:n.cpuTime}):(r.cpuTime+=n.cpuTime,r.hitCount++),r=t.topDownRoot}var s,o;const a=1e6/this.frequency;return(0,n.serializeCpuProfile)(t,a)}}t.default=o},90429:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.monitorOutOfMemory=t.getAllocationProfile=t.stopSamplingHeapProfiler=t.startSamplingHeapProfiler=void 0;const n=r(71017),s=r(19516)(n.join(__dirname,"..",".."));t.startSamplingHeapProfiler=function(e,t){s.heapProfiler.startSamplingHeapProfiler(e,t)},t.stopSamplingHeapProfiler=function(){s.heapProfiler.stopSamplingHeapProfiler()},t.getAllocationProfile=function(){return s.heapProfiler.getAllocationProfile()},t.monitorOutOfMemory=function(e,t,r,n,i,o){s.heapProfiler.monitorOutOfMemory(e,t,r,n,i,o)}},55411:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.monitorOutOfMemory=t.CallbackMode=t.stop=t.start=t.convertProfile=t.profile=t.v8Profile=void 0;const n=r(90429),s=r(62450);let i=!1,o=0,a=0;function c(){if(!i)throw new Error("Heap profiler is not enabled.");return(0,n.getAllocationProfile)()}function u(e,t,r){const n=1e3*Date.now()*1e3,{external:i}=process.memoryUsage();if(i>0){const t={name:"(external)",scriptName:"",children:[],allocations:[{sizeBytes:i,count:1}]};e.children.push(t)}return(0,s.serializeHeapProfile)(e,n,o,t,r)}t.v8Profile=c,t.profile=function(e,t){return u(c(),e,t)},t.convertProfile=u,t.start=function(e,t){if(i)throw new Error(`Heap profiler is already started  with intervalBytes ${o} and stackDepth ${t}`);o=e,a=t,(0,n.startSamplingHeapProfiler)(o,a),i=!0},t.stop=function(){i&&(i=!1,(0,n.stopSamplingHeapProfiler)())},t.CallbackMode={Async:1,Interrupt:2,Both:3},t.monitorOutOfMemory=function(e,r,s,o,a,c){if(!i)throw new Error("Heap profiler must already be started to call monitorOutOfMemory");let p;void 0!==a&&(p=e=>{a(u(e))}),(0,n.monitorOutOfMemory)(e,r,s,o||[],p,void 0!==c?c:t.CallbackMode.Async)}},68770:(e,t,r)=>{"use strict";e=r.nmd(e),Object.defineProperty(t,"__esModule",{value:!0}),t.heap=t.time=t.CpuProfiler=t.SourceMapper=t.encodeSync=t.encode=void 0;const n=r(57147),s=r(80304),i=r(55411),o=r(24099),a=r(13431);var c=r(24099);Object.defineProperty(t,"encode",{enumerable:!0,get:function(){return c.encode}}),Object.defineProperty(t,"encodeSync",{enumerable:!0,get:function(){return c.encodeSync}});var u=r(86606);if(Object.defineProperty(t,"SourceMapper",{enumerable:!0,get:function(){return u.SourceMapper}}),t.CpuProfiler=s.default,t.time={profile:a.profile,start:a.start},t.heap={start:i.start,stop:i.stop,profile:i.profile,convertProfile:i.convertProfile,v8Profile:i.v8Profile,monitorOutOfMemory:i.monitorOutOfMemory,CallbackMode:i.CallbackMode},e.parent&&"internal/preload"===e.parent.id){const e=t.time.start();process.on("exit",(()=>{const t=e(),r=(0,o.encodeSync)(t);(0,n.writeFileSync)(`pprof-profile-${process.pid}.pb.gz`,r)}))}},24099:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeSync=t.encode=void 0;const n=r(12352),s=r(59796),i=n(s.gzip);t.encode=async function(e){return i(e.encode())},t.encodeSync=function(e){return(0,s.gzipSync)(e.encode())}},62450:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeHeapProfile=t.serializeCpuProfile=t.serializeTimeProfile=void 0;const n=r(96986);function s(e,t,r,s,i,o){const a=[],c=[],u=[],p=new Map,l=new Map,d=t.children.map((e=>({node:e,stack:[]})));for(;d.length>0;){const e=d.pop(),t=e.node;if(i&&t.scriptName.indexOf(i)>-1)continue;if("(idle)"===t.name||"(program)"===t.name)continue;const n=e.stack,s=h(t,o);n.unshift(s.id),r(e,a);for(const e of t.children)d.push({node:e,stack:n.slice()})}function h(e,t){let r={file:e.scriptName||"",line:e.lineNumber,column:e.columnNumber,name:e.name};r.line&&t&&function(e){return void 0!==e.column&&void 0!==e.line&&e.line>0}(r)&&(r=t.mappingInfo(r));const s=`${e.scriptId}:${r.line}:${r.column}:${r.name}`;let i=l.get(s);if(void 0!==i)return c[i-1];i=c.length+1,l.set(s,i);const o=function(e,t,r,s){return new n.Line({functionId:f(e,t,r).id,line:s})}(e.scriptId,r.file,r.name,r.line),a=new n.Location({id:i,line:[o]});return c.push(a),a}function f(e,t,r){const i=`${e}:${r}`;let o=p.get(i);if(void 0!==o)return u[o-1];o=u.length+1,p.set(i,o);const a=s.dedup(r||"(anonymous)"),c=new n.Function({id:o,name:a,systemName:a,filename:s.dedup(t||"")});return u.push(c),c}e.sample=a,e.location=c,e.function=u,e.stringTable=s}function i(e){return new n.ValueType({type:e.dedup("sample"),unit:e.dedup("count")})}function o(e){return e.hitCount+e.children.reduce(((e,t)=>e+o(t)),0)}function a(e,t){const r=[];for(const[s,i]of Object.entries(e))if("number"==typeof i||"string"==typeof i){const e=new n.Label({key:t.dedup(s),num:"number"==typeof i?i:void 0,str:"string"==typeof i?t.dedup(i):void 0});r.push(e)}return r}t.serializeTimeProfile=function(e,t,r,a=!1){a&&o(e.topDownRoot)>0&&(t=Math.min(Math.max(Math.floor((e.endTime-e.startTime)/o(e.topDownRoot)),t),2*t));const c=1e3*t,u=new n.StringTable,p=i(u),l=(d=u,new n.ValueType({type:d.dedup("wall"),unit:d.dedup("nanoseconds")}));var d;const h={sampleType:[p,l],timeNanos:1e3*Date.now()*1e3,durationNanos:1e3*(e.endTime-e.startTime),periodType:l,period:c};return s(h,e.topDownRoot,((e,t)=>{if(e.node.hitCount>0){const r=new n.Sample({locationId:e.stack,value:[e.node.hitCount,e.node.hitCount*c]});t.push(r)}}),u,void 0,r),new n.Profile(h)},t.serializeCpuProfile=function(e,t,r){const o=1e3*t,c=new n.StringTable,u=i(c),p=(l=c,new n.ValueType({type:l.dedup("cpu"),unit:l.dedup("nanoseconds")}));var l;const d={sampleType:[u,p],timeNanos:1e3*Date.now()*1e3,durationNanos:e.endTime-e.startTime,periodType:p,period:o};return s(d,e.topDownRoot,((e,t)=>{for(const r of e.node.labelSets){const s=new n.Sample({locationId:e.stack,value:[1,r.cpuTime],label:a(r.labels,c)});t.push(s)}if(e.node.hitCount>0){const r=new n.Sample({locationId:e.stack,value:[e.node.hitCount,e.node.cpuTime]});t.push(r)}}),c,void 0,r),new n.Profile(d)},t.serializeHeapProfile=function(e,t,r,i,o){const a=new n.StringTable,c=(u=a,new n.ValueType({type:u.dedup("objects"),unit:u.dedup("count")}));var u;const p=function(e){return new n.ValueType({type:e.dedup("space"),unit:e.dedup("bytes")})}(a),l={sampleType:[c,p],timeNanos:t,periodType:p,period:r};return s(l,e,((e,t)=>{if(e.node.allocations.length>0)for(const r of e.node.allocations){const s=new n.Sample({locationId:e.stack,value:[r.count,r.sizeBytes*r.count]});t.push(s)}}),a,i,o),new n.Profile(l)}},86606:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SourceMapper=void 0;const n=r(57147),s=r(71017),i=Object.getOwnPropertyDescriptor(globalThis,"fetch");delete globalThis.fetch;const o=r(53970);i&&Object.defineProperty(globalThis,"fetch",i);const a=r(12352),c=r(80406),u=a(n.readFile),p=".map";class l{constructor(){this.infoMap=new Map}static async create(e){const t=[];for(const r of e)try{(await d(r)).forEach((e=>{t.push(s.resolve(r,e))}))}catch(e){throw new Error(`failed to get source maps from ${r}: ${e}`)}return async function(e){const t=c(10),r=new l,n=e.map((e=>t((()=>async function(e,t){if(!t||!t.endsWith(p))throw new Error(`The path "${t}" does not specify a source map file`);let r,n;t=s.normalize(t);try{r=await u(t,"utf8")}catch(e){throw new Error("Could not read source map file "+t+": "+e)}try{n=await new o.SourceMapConsumer(r)}catch(e){throw new Error("An error occurred while reading the sourceMap file "+t+": "+e)}const i=s.dirname(t),a=n.file?n.file:s.basename(t,p),c=s.resolve(i,a);e.set(c,{mapFileDir:i,mapConsumer:n})}(r.infoMap,e)))));try{await Promise.all(n)}catch(e){throw new Error("An error occurred while processing the source map files"+e)}return r}(t)}getMappingInfo(e){return this.infoMap.has(s.normalize(e))?this.infoMap.get(e):null}hasMappingInfo(e){return null!==this.getMappingInfo(e)}mappingInfo(e){const t=s.normalize(e.file),r=this.getMappingInfo(t);if(null===r)return e;const n={line:e.line,column:e.column,bias:o.SourceMapConsumer.LEAST_UPPER_BOUND},i=r.mapConsumer;let a=i.originalPositionFor(n);return null===a.source&&(n.bias=o.SourceMapConsumer.GREATEST_LOWER_BOUND,a=i.originalPositionFor(n)),null===a.source?e:{file:s.resolve(r.mapFileDir,a.source),line:a.line||void 0,name:a.name||e.name,column:a.column||void 0}}}async function d(e){const t=[];for await(const r of async function*(e,t=(e=>!0),r=((e,t)=>!0)){yield*async function*e(i){try{for await(const o of await n.promises.opendir(i)){const a=s.join(i,o.name);o.isDirectory()&&r(i,o.name)?yield*e(a):o.isFile()&&t(o.name)&&(await n.promises.access(a,n.constants.R_OK),yield a)}}catch(e){if(!function(e){return(t=e)instanceof Error&&"code"in t&&e.code&&["ENOENT","EPERM","EACCES","ELOOP"].includes(e.code);var t}(e))throw e}}(e)}(e,(e=>e.endsWith(".js.map")),((e,t)=>"/proc"!==e&&".git"!==t&&"node_modules"!==t)))t.push(s.relative(e,r));return t}t.SourceMapper=l},86789:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeProfiler=void 0;const n=r(71017),s=r(19516)((0,n.join)(__dirname,"..",".."));t.TimeProfiler=s.TimeProfiler},13431:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.start=t.profile=void 0;const n=r(65780),s=r(62450),i=r(86789),o=1e3,a=process.version.slice(1).split(".").map(Number)[0];function c(e=o,t,r,n=!0){const c=new i.TimeProfiler(e);let u=p();return a<16?function(t=!1){const i=c.stop(u,n);return c.dispose(),t&&(u=p()),(0,s.serializeTimeProfile)(i,e,r,!0)}:function(t=!1){let i;t&&(i=p());const o=c.stop(u,n);return i&&(u=i),t||c.dispose(),(0,s.serializeTimeProfile)(o,e,r,!0)};function p(){const e=function(e){return e||`pprof-${Date.now()}-${Math.random()}`}(t);return c.start(e,n),e}}t.profile=async function(e){const t=c(e.intervalMicros||o,e.name,e.sourceMapper,e.lineNumbers);return await(0,n.default)(e.durationMillis),t()},t.start=c},89339:function(e,t,r){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LogCollapsingHighestDenseDDSketch=t.LogCollapsingLowestDenseDDSketch=t.DDSketch=void 0;var i=r(41186),o=r(11880),a=.01,c=function(){function e(e){var t=e.mapping,r=e.store,n=e.negativeStore,s=e.zeroCount;this.mapping=t,this.store=r,this.negativeStore=n,this.zeroCount=s,this.count=this.negativeStore.count+this.zeroCount+this.store.count,this.min=1/0,this.max=-1/0,this.sum=0}return e.prototype.accept=function(e,t){if(void 0===t&&(t=1),t<=0)throw Error("Weight must be a positive number");if(e>this.mapping.minPossible){var r=this.mapping.key(e);this.store.add(r,t)}else e<-this.mapping.minPossible?(r=this.mapping.key(-e),this.negativeStore.add(r,t)):this.zeroCount+=t;this.count+=t,this.sum+=e*t,e<this.min&&(this.min=e),e>this.max&&(this.max=e)},e.prototype.getValueAtQuantile=function(e){if(e<0||e>1||0===this.count)return NaN;var t=e*(this.count-1),r=0;if(t<this.negativeStore.count){var n=this.negativeStore.count-t-1,s=this.negativeStore.keyAtRank(n,!1);r=-this.mapping.value(s)}else{if(t<this.zeroCount+this.negativeStore.count)return 0;s=this.store.keyAtRank(t-this.zeroCount-this.negativeStore.count),r=this.mapping.value(s)}return r},e.prototype.merge=function(e){if(!this.mergeable(e))throw new Error("Cannot merge two DDSketches with different `relativeAccuracy` parameters");0!==e.count&&(0!==this.count?(this.store.merge(e.store),this.zeroCount+=e.zeroCount,this.count+=e.count,this.sum+=e.sum,e.min<this.min&&(this.min=e.min),e.max>this.max&&(this.max=e.max)):this._copy(e))},e.prototype.mergeable=function(e){return this.mapping.gamma===e.mapping.gamma},e.prototype._copy=function(e){this.store.copy(e.store),this.negativeStore.copy(e.negativeStore),this.zeroCount=e.zeroCount,this.min=e.min,this.max=e.max,this.count=e.count,this.sum=e.sum},e.prototype.toProto=function(){var e=r(14209).DDSketch,t=e.create({mapping:this.mapping.toProto(),positiveValues:this.store.toProto(),negativeValues:this.negativeStore.toProto(),zeroCount:this.zeroCount});return e.encode(t).finish()},e.fromProto=function(t){var n=r(14209).DDSketch.decode(t);return new e({mapping:o.KeyMapping.fromProto(n.mapping),store:i.DenseStore.fromProto(n.positiveValues),negativeStore:i.DenseStore.fromProto(n.negativeValues),zeroCount:n.zeroCount})},e}(),u={relativeAccuracy:a},p=function(e){function t(t){var r=(void 0===t?u:t).relativeAccuracy,n=void 0===r?a:r,s=new o.LogarithmicMapping(n),c=new i.DenseStore,p=new i.DenseStore;return e.call(this,{mapping:s,store:c,negativeStore:p,zeroCount:0})||this}return s(t,e),t}(c);t.DDSketch=p;var l=function(e){function t(t){var r=void 0===t?u:t,n=r.relativeAccuracy,s=void 0===n?a:n,c=r.binLimit,p=void 0===c?2048:c,l=new o.LogarithmicMapping(s),d=new i.CollapsingLowestDenseStore(p),h=new i.CollapsingLowestDenseStore(p);return e.call(this,{mapping:l,store:d,negativeStore:h,zeroCount:0})||this}return s(t,e),t}(c);t.LogCollapsingLowestDenseDDSketch=l;var d=function(e){function t(t){var r=void 0===t?u:t,n=r.relativeAccuracy,s=void 0===n?a:n,c=r.binLimit,p=void 0===c?2048:c,l=new o.LogarithmicMapping(s),d=new i.CollapsingHighestDenseStore(p),h=new i.CollapsingHighestDenseStore(p);return e.call(this,{mapping:l,store:d,negativeStore:h,zeroCount:0})||this}return s(t,e),t}(c);t.LogCollapsingHighestDenseDDSketch=d},13355:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(89339),t)},65180:function(e,t,r){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CubicallyInterpolatedMapping=void 0;var i=r(50145),o=r(57457),a=function(e){function t(t,r){void 0===r&&(r=0);var n=e.call(this,t,r)||this;return n.A=6/35,n.B=-.6,n.C=10/7,n._multiplier/=n.C,n}return s(t,e),t.prototype._cubicLog2Approx=function(e){var t=(0,o.frexp)(e),r=t[0],n=t[1],s=2*r-1;return((this.A*s+this.B)*s+this.C)*s+(n-1)},t.prototype._cubicExp2Approx=function(e){var t=Math.floor(e),r=this.B*this.B-3*this.A*this.C,n=2*this.B*this.B*this.B-9*this.A*this.B*this.C-27*this.A*this.A*(e-t),s=Math.cbrt((n-Math.sqrt(n*n-4*r*r*r))/2),i=(-(this.B+s+r/s)/(3*this.A)+1)/2;return(0,o.ldexp)(i,t+1)},t.prototype._logGamma=function(e){return this._cubicLog2Approx(e)*this._multiplier},t.prototype._powGamma=function(e){return this._cubicExp2Approx(e/this._multiplier)},t.prototype._protoInterpolation=function(){return r(14209).IndexMapping.Interpolation.CUBIC},t}(i.KeyMapping);t.CubicallyInterpolatedMapping=a},50145:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyMapping=void 0;var n=r(11880),s=Math.pow(2,-1023),i=Number.MAX_VALUE,o=function(){function e(e,t){if(void 0===t&&(t=0),e<=0||e>=1)throw Error("Relative accuracy must be between 0 and 1 when initializing a KeyMapping");this.relativeAccuracy=e,this._offset=t;var r=2*e/(1-e);this.gamma=1+r,this._multiplier=1/Math.log1p(r),this.minPossible=s*this.gamma,this.maxPossible=i/this.gamma}return e.fromGammaOffset=function(e,t){return new this((e-1)/(e+1),t)},e.prototype.key=function(e){return Math.ceil(this._logGamma(e))+this._offset},e.prototype.value=function(e){return this._powGamma(e-this._offset)*(2/(1+this.gamma))},e.prototype.toProto=function(){return r(14209).IndexMapping.create({gamma:this.gamma,indexOffset:this._offset,interpolation:this._protoInterpolation()})},e.fromProto=function(e){if(!e||null==e.gamma||null==e.indexOffset)throw Error("Failed to decode mapping from protobuf");var t=r(14209).IndexMapping.Interpolation,s=e.interpolation,i=e.gamma,o=e.indexOffset;switch(s){case t.NONE:return n.LogarithmicMapping.fromGammaOffset(i,o);case t.LINEAR:return n.LinearlyInterpolatedMapping.fromGammaOffset(i,o);case t.CUBIC:return n.CubicallyInterpolatedMapping.fromGammaOffset(i,o);default:throw Error("Unrecognized mapping when decoding from protobuf")}},e.prototype._logGamma=function(e){return Math.log2(e)*this._multiplier},e.prototype._powGamma=function(e){return Math.pow(2,e/this._multiplier)},e.prototype._protoInterpolation=function(){return r(14209).IndexMapping.Interpolation.NONE},e}();t.KeyMapping=o},9466:function(e,t,r){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LinearlyInterpolatedMapping=void 0;var i=r(50145),o=r(57457),a=function(e){function t(t,r){return void 0===r&&(r=0),e.call(this,t,r)||this}return s(t,e),t.prototype._log2Approx=function(e){var t=(0,o.frexp)(e);return 2*t[0]-1+(t[1]-1)},t.prototype._exp2Approx=function(e){var t=Math.floor(e)+1,r=(e-t+2)/2;return(0,o.ldexp)(r,t)},t.prototype._logGamma=function(e){return Math.log2(e)*this._multiplier},t.prototype._powGamma=function(e){return Math.pow(2,e/this._multiplier)},t.prototype._protoInterpolation=function(){return r(14209).IndexMapping.Interpolation.LINEAR},t}(i.KeyMapping);t.LinearlyInterpolatedMapping=a},7548:function(e,t,r){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LogarithmicMapping=void 0;var i=function(e){function t(t,r){void 0===r&&(r=0);var n=e.call(this,t,r)||this;return n._multiplier*=Math.log(2),n}return s(t,e),t.prototype._logGamma=function(e){return Math.log2(e)*this._multiplier},t.prototype._powGamma=function(e){return Math.pow(2,e/this._multiplier)},t.prototype._protoInterpolation=function(){return r(14209).IndexMapping.Interpolation.NONE},t}(r(50145).KeyMapping);t.LogarithmicMapping=i},11880:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CubicallyInterpolatedMapping=t.LinearlyInterpolatedMapping=t.LogarithmicMapping=t.KeyMapping=void 0;var n=r(50145);Object.defineProperty(t,"KeyMapping",{enumerable:!0,get:function(){return n.KeyMapping}});var s=r(7548);Object.defineProperty(t,"LogarithmicMapping",{enumerable:!0,get:function(){return s.LogarithmicMapping}});var i=r(9466);Object.defineProperty(t,"LinearlyInterpolatedMapping",{enumerable:!0,get:function(){return i.LinearlyInterpolatedMapping}});var o=r(65180);Object.defineProperty(t,"CubicallyInterpolatedMapping",{enumerable:!0,get:function(){return o.CubicallyInterpolatedMapping}})},57457:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ldexp=t.frexp=void 0,t.frexp=function(e){if(0===e||!Number.isFinite(e))return[e,0];for(var t=Math.abs(e),r=Math.max(-1023,Math.floor(Math.log2(t))+1),n=t*Math.pow(2,-r);n<.5;)n*=2,r--;for(;n>=1;)n*=.5,r++;return e<0&&(n=-n),[n,r]},t.ldexp=function(e,t){for(var r=Math.min(3,Math.ceil(Math.abs(t)/1023)),n=e,s=0;s<r;s++)n*=Math.pow(2,Math.floor((t+s)/r));return n}},14209:(e,t,r)=>{"use strict";var n=r(62100),s=n.Reader,i=n.Writer,o=n.util,a=n.roots.default||(n.roots.default={});a.DDSketch=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.mapping=null,e.prototype.positiveValues=null,e.prototype.negativeValues=null,e.prototype.zeroCount=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.mapping&&Object.hasOwnProperty.call(e,"mapping")&&a.IndexMapping.encode(e.mapping,t.uint32(10).fork()).ldelim(),null!=e.positiveValues&&Object.hasOwnProperty.call(e,"positiveValues")&&a.Store.encode(e.positiveValues,t.uint32(18).fork()).ldelim(),null!=e.negativeValues&&Object.hasOwnProperty.call(e,"negativeValues")&&a.Store.encode(e.negativeValues,t.uint32(26).fork()).ldelim(),null!=e.zeroCount&&Object.hasOwnProperty.call(e,"zeroCount")&&t.uint32(33).double(e.zeroCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.DDSketch;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.mapping=a.IndexMapping.decode(e,e.uint32());break;case 2:n.positiveValues=a.Store.decode(e,e.uint32());break;case 3:n.negativeValues=a.Store.decode(e,e.uint32());break;case 4:n.zeroCount=e.double();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.mapping&&e.hasOwnProperty("mapping")&&(t=a.IndexMapping.verify(e.mapping))?"mapping."+t:null!=e.positiveValues&&e.hasOwnProperty("positiveValues")&&(t=a.Store.verify(e.positiveValues))?"positiveValues."+t:null!=e.negativeValues&&e.hasOwnProperty("negativeValues")&&(t=a.Store.verify(e.negativeValues))?"negativeValues."+t:null!=e.zeroCount&&e.hasOwnProperty("zeroCount")&&"number"!=typeof e.zeroCount?"zeroCount: number expected":null;var t},e.fromObject=function(e){if(e instanceof a.DDSketch)return e;var t=new a.DDSketch;if(null!=e.mapping){if("object"!=typeof e.mapping)throw TypeError(".DDSketch.mapping: object expected");t.mapping=a.IndexMapping.fromObject(e.mapping)}if(null!=e.positiveValues){if("object"!=typeof e.positiveValues)throw TypeError(".DDSketch.positiveValues: object expected");t.positiveValues=a.Store.fromObject(e.positiveValues)}if(null!=e.negativeValues){if("object"!=typeof e.negativeValues)throw TypeError(".DDSketch.negativeValues: object expected");t.negativeValues=a.Store.fromObject(e.negativeValues)}return null!=e.zeroCount&&(t.zeroCount=Number(e.zeroCount)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.mapping=null,r.positiveValues=null,r.negativeValues=null,r.zeroCount=0),null!=e.mapping&&e.hasOwnProperty("mapping")&&(r.mapping=a.IndexMapping.toObject(e.mapping,t)),null!=e.positiveValues&&e.hasOwnProperty("positiveValues")&&(r.positiveValues=a.Store.toObject(e.positiveValues,t)),null!=e.negativeValues&&e.hasOwnProperty("negativeValues")&&(r.negativeValues=a.Store.toObject(e.negativeValues,t)),null!=e.zeroCount&&e.hasOwnProperty("zeroCount")&&(r.zeroCount=t.json&&!isFinite(e.zeroCount)?String(e.zeroCount):e.zeroCount),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),a.IndexMapping=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r;return e.prototype.gamma=0,e.prototype.indexOffset=0,e.prototype.interpolation=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=i.create()),null!=e.gamma&&Object.hasOwnProperty.call(e,"gamma")&&t.uint32(9).double(e.gamma),null!=e.indexOffset&&Object.hasOwnProperty.call(e,"indexOffset")&&t.uint32(17).double(e.indexOffset),null!=e.interpolation&&Object.hasOwnProperty.call(e,"interpolation")&&t.uint32(24).int32(e.interpolation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.IndexMapping;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.gamma=e.double();break;case 2:n.indexOffset=e.double();break;case 3:n.interpolation=e.int32();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.gamma&&e.hasOwnProperty("gamma")&&"number"!=typeof e.gamma)return"gamma: number expected";if(null!=e.indexOffset&&e.hasOwnProperty("indexOffset")&&"number"!=typeof e.indexOffset)return"indexOffset: number expected";if(null!=e.interpolation&&e.hasOwnProperty("interpolation"))switch(e.interpolation){default:return"interpolation: enum value expected";case 0:case 1:case 2:case 3:}return null},e.fromObject=function(e){if(e instanceof a.IndexMapping)return e;var t=new a.IndexMapping;switch(null!=e.gamma&&(t.gamma=Number(e.gamma)),null!=e.indexOffset&&(t.indexOffset=Number(e.indexOffset)),e.interpolation){case"NONE":case 0:t.interpolation=0;break;case"LINEAR":case 1:t.interpolation=1;break;case"QUADRATIC":case 2:t.interpolation=2;break;case"CUBIC":case 3:t.interpolation=3}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.gamma=0,r.indexOffset=0,r.interpolation=t.enums===String?"NONE":0),null!=e.gamma&&e.hasOwnProperty("gamma")&&(r.gamma=t.json&&!isFinite(e.gamma)?String(e.gamma):e.gamma),null!=e.indexOffset&&e.hasOwnProperty("indexOffset")&&(r.indexOffset=t.json&&!isFinite(e.indexOffset)?String(e.indexOffset):e.indexOffset),null!=e.interpolation&&e.hasOwnProperty("interpolation")&&(r.interpolation=t.enums===String?a.IndexMapping.Interpolation[e.interpolation]:e.interpolation),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.Interpolation=(t={},(r=Object.create(t))[t[0]="NONE"]=0,r[t[1]="LINEAR"]=1,r[t[2]="QUADRATIC"]=2,r[t[3]="CUBIC"]=3,r),e}(),a.Store=function(){function e(e){if(this.binCounts={},this.contiguousBinCounts=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.binCounts=o.emptyObject,e.prototype.contiguousBinCounts=o.emptyArray,e.prototype.contiguousBinIndexOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=i.create()),null!=e.binCounts&&Object.hasOwnProperty.call(e,"binCounts"))for(var r=Object.keys(e.binCounts),n=0;n<r.length;++n)t.uint32(10).fork().uint32(8).sint32(r[n]).uint32(17).double(e.binCounts[r[n]]).ldelim();if(null!=e.contiguousBinCounts&&e.contiguousBinCounts.length){for(t.uint32(18).fork(),n=0;n<e.contiguousBinCounts.length;++n)t.double(e.contiguousBinCounts[n]);t.ldelim()}return null!=e.contiguousBinIndexOffset&&Object.hasOwnProperty.call(e,"contiguousBinIndexOffset")&&t.uint32(24).sint32(e.contiguousBinIndexOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var r,n,i=void 0===t?e.len:e.pos+t,c=new a.Store;e.pos<i;){var u=e.uint32();switch(u>>>3){case 1:c.binCounts===o.emptyObject&&(c.binCounts={});var p=e.uint32()+e.pos;for(r=0,n=0;e.pos<p;){var l=e.uint32();switch(l>>>3){case 1:r=e.sint32();break;case 2:n=e.double();break;default:e.skipType(7&l)}}c.binCounts[r]=n;break;case 2:if(c.contiguousBinCounts&&c.contiguousBinCounts.length||(c.contiguousBinCounts=[]),2==(7&u))for(p=e.uint32()+e.pos;e.pos<p;)c.contiguousBinCounts.push(e.double());else c.contiguousBinCounts.push(e.double());break;case 3:c.contiguousBinIndexOffset=e.sint32();break;default:e.skipType(7&u)}}return c},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.binCounts&&e.hasOwnProperty("binCounts")){if(!o.isObject(e.binCounts))return"binCounts: object expected";for(var t=Object.keys(e.binCounts),r=0;r<t.length;++r){if(!o.key32Re.test(t[r]))return"binCounts: integer key{k:sint32} expected";if("number"!=typeof e.binCounts[t[r]])return"binCounts: number{k:sint32} expected"}}if(null!=e.contiguousBinCounts&&e.hasOwnProperty("contiguousBinCounts")){if(!Array.isArray(e.contiguousBinCounts))return"contiguousBinCounts: array expected";for(r=0;r<e.contiguousBinCounts.length;++r)if("number"!=typeof e.contiguousBinCounts[r])return"contiguousBinCounts: number[] expected"}return null!=e.contiguousBinIndexOffset&&e.hasOwnProperty("contiguousBinIndexOffset")&&!o.isInteger(e.contiguousBinIndexOffset)?"contiguousBinIndexOffset: integer expected":null},e.fromObject=function(e){if(e instanceof a.Store)return e;var t=new a.Store;if(e.binCounts){if("object"!=typeof e.binCounts)throw TypeError(".Store.binCounts: object expected");t.binCounts={};for(var r=Object.keys(e.binCounts),n=0;n<r.length;++n)t.binCounts[r[n]]=Number(e.binCounts[r[n]])}if(e.contiguousBinCounts){if(!Array.isArray(e.contiguousBinCounts))throw TypeError(".Store.contiguousBinCounts: array expected");for(t.contiguousBinCounts=[],n=0;n<e.contiguousBinCounts.length;++n)t.contiguousBinCounts[n]=Number(e.contiguousBinCounts[n])}return null!=e.contiguousBinIndexOffset&&(t.contiguousBinIndexOffset=0|e.contiguousBinIndexOffset),t},e.toObject=function(e,t){t||(t={});var r,n={};if((t.arrays||t.defaults)&&(n.contiguousBinCounts=[]),(t.objects||t.defaults)&&(n.binCounts={}),t.defaults&&(n.contiguousBinIndexOffset=0),e.binCounts&&(r=Object.keys(e.binCounts)).length){n.binCounts={};for(var s=0;s<r.length;++s)n.binCounts[r[s]]=t.json&&!isFinite(e.binCounts[r[s]])?String(e.binCounts[r[s]]):e.binCounts[r[s]]}if(e.contiguousBinCounts&&e.contiguousBinCounts.length)for(n.contiguousBinCounts=[],s=0;s<e.contiguousBinCounts.length;++s)n.contiguousBinCounts[s]=t.json&&!isFinite(e.contiguousBinCounts[s])?String(e.contiguousBinCounts[s]):e.contiguousBinCounts[s];return null!=e.contiguousBinIndexOffset&&e.hasOwnProperty("contiguousBinIndexOffset")&&(n.contiguousBinIndexOffset=e.contiguousBinIndexOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),e.exports=a},63601:function(e,t,r){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsingHighestDenseStore=void 0;var i=r(86579),o=r(8852),a=function(e){function t(t,r){var n=e.call(this,r)||this;return n.binLimit=t,n.isCollapsed=!1,n}return s(t,e),t.prototype.merge=function(e){if(0!==e.count)if(0!==this.count){(e.minKey<this.minKey||e.maxKey>this.maxKey)&&this._extendRange(e.minKey,e.maxKey);var t=e.maxKey-e.offset+1,r=Math.max(this.maxKey+1,e.minKey)-e.offset;if(t>r){var n=(0,o.sumOfRange)(e.bins,r,t);this.bins[this.length()-1]+=n}else r=t;for(var s=e.minKey;s<r+e.offset;s++)this.bins[s-this.offset]+=e.bins[s-e.offset];this.count+=e.count}else this.copy(e)},t.prototype.copy=function(t){e.prototype.copy.call(this,t),this.isCollapsed=t.isCollapsed},t.prototype._getNewLength=function(e,t){var r=t-e+1;return Math.min(this.chunkSize*Math.ceil(r/this.chunkSize),this.binLimit)},t.prototype._adjust=function(e,t){if(t-e+1>this.length())if((t=e+this.length()+1)<=this.minKey)this.offset=e,this.maxKey=t,this.bins.fill(0),this.bins[this.length()-1]=this.count;else{var r=this.offset-e;if(r>0){var n=t-this.offset+1,s=this.maxKey-this.offset+1,i=(0,o.sumOfRange)(this.bins,n,s);this.bins.fill(0,n,s),this.bins[n-1]+=i,this.maxKey=t,this._shiftBins(r)}else this.maxKey=t,this._shiftBins(r);this.minKey=e,this.isCollapsed=!0}else this._centerBins(e,t),this.minKey=e,this.maxKey=t},t.prototype._getIndex=function(e){if(e<this.minKey){if(this.isCollapsed)return this.length()-1;if(this._extendRange(e),this.isCollapsed)return this.length()-1}else e>this.maxKey&&this._extendRange(e);return e-this.offset},t}(i.DenseStore);t.CollapsingHighestDenseStore=a},347:function(e,t,r){"use strict";var n,s=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsingLowestDenseStore=void 0;var i=r(86579),o=r(8852),a=function(e){function t(t,r){var n=e.call(this,r)||this;return n.binLimit=t,n.isCollapsed=!1,n}return s(t,e),t.prototype.merge=function(e){if(0!==e.count)if(0!==this.count){(e.minKey<this.minKey||e.maxKey>this.maxKey)&&this._extendRange(e.minKey,e.maxKey);var t=e.minKey-e.offset,r=Math.min(this.minKey,e.maxKey+1)-e.offset;if(r>t){var n=(0,o.sumOfRange)(e.bins,t,r);this.bins[0]+=n}else r=t;for(var s=r+e.offset;s<e.maxKey+1;s++)this.bins[s-this.offset]+=e.bins[s-e.offset];this.count+=e.count}else this.copy(e)},t.prototype.copy=function(t){e.prototype.copy.call(this,t),this.isCollapsed=t.isCollapsed},t.prototype._getNewLength=function(e,t){var r=t-e+1;return Math.min(this.chunkSize*Math.ceil(r/this.chunkSize),this.binLimit)},t.prototype._adjust=function(e,t){if(t-e+1>this.length()){if((e=t-this.length()+1)>=this.maxKey)this.offset=e,this.minKey=e,this.bins.fill(0),this.bins[0]=this.count;else{var r=this.offset-e;if(r<0){var n=this.minKey-this.offset,s=e-this.offset,i=(0,o.sumOfRange)(this.bins,n,s);this.bins.fill(0,n,s),this.bins[s]+=i,this.minKey=e,this._shiftBins(r)}else this.minKey=e,this._shiftBins(r)}this.maxKey=t,this.isCollapsed=!0}else this._centerBins(e,t),this.minKey=e,this.maxKey=t},t.prototype._getIndex=function(e){if(e<this.minKey){if(this.isCollapsed)return 0;if(this._extendRange(e),this.isCollapsed)return 0}else e>this.maxKey&&this._extendRange(e);return e-this.offset},t}(i.DenseStore);t.CollapsingLowestDenseStore=a},86579:function(e,t,r){"use strict";var n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,s=0,i=t.length;s<i;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DenseStore=void 0;var s=r(8852),i=function(){function e(e){void 0===e&&(e=128),this.chunkSize=e,this.bins=[],this.count=0,this.minKey=1/0,this.maxKey=-1/0,this.offset=0}return e.prototype.add=function(e,t){void 0===t&&(t=1);var r=this._getIndex(e);this.bins[r]+=t,this.count+=t},e.prototype.keyAtRank=function(e,t){void 0===t&&(t=!0);for(var r=0,n=0;n<this.length();n++)if(r+=this.bins[n],t&&r>e||!t&&r>=e+1)return n+this.offset;return this.maxKey},e.prototype.merge=function(e){if(0!==e.count)if(0!==this.count){(e.minKey<this.minKey||e.maxKey>this.maxKey)&&this._extendRange(e.minKey,e.maxKey);var t=e.minKey-e.offset,r=Math.min(this.minKey,e.maxKey+1)-e.offset;if(r>t){var n=(0,s.sumOfRange)(e.bins,t,r);this.bins[0]+=n}else r=t;for(var i=r+e.offset;i<e.maxKey+1;i++)this.bins[i-this.offset]+=e.bins[i-e.offset];this.count+=e.count}else this.copy(e)},e.prototype.copy=function(e){this.bins=n([],e.bins,!0),this.count=e.count,this.minKey=e.minKey,this.maxKey=e.maxKey,this.offset=e.offset},e.prototype.length=function(){return this.bins.length},e.prototype._getNewLength=function(e,t){var r=t-e+1;return this.chunkSize*Math.ceil(r/this.chunkSize)},e.prototype._adjust=function(e,t){this._centerBins(e,t),this.minKey=e,this.maxKey=t},e.prototype._shiftBins=function(e){var t,r;e>0?(this.bins=this.bins.slice(0,-e),(t=this.bins).unshift.apply(t,new Array(e).fill(0))):(this.bins=this.bins.slice(Math.abs(e)),(r=this.bins).push.apply(r,new Array(Math.abs(e)).fill(0))),this.offset-=e},e.prototype._centerBins=function(e,t){var r=e+Math.floor((t-e+1)/2);this._shiftBins(Math.floor(this.offset+this.length()/2)-r)},e.prototype._extendRange=function(e,t){var r;t=t||e;var n=Math.min(e,t,this.minKey),s=Math.max(e,t,this.maxKey);if(0===this.length())this.bins=new Array(this._getNewLength(n,s)).fill(0),this.offset=n,this._adjust(n,s);else if(n>=this.minKey&&s<this.offset+this.length())this.minKey=n,this.maxKey=s;else{var i=this._getNewLength(n,s);i>this.length()&&(r=this.bins).push.apply(r,new Array(i-this.length()).fill(0)),this._adjust(n,s)}},e.prototype._getIndex=function(e){return(e<this.minKey||e>this.maxKey)&&this._extendRange(e),e-this.offset},e.prototype.toProto=function(){return r(14209).Store.create({contiguousBinCounts:this.bins,contiguousBinIndexOffset:this.offset})},e.fromProto=function(e){if(!e||null==e.contiguousBinCounts||null==e.contiguousBinIndexOffset)throw Error("Failed to decode store from protobuf");var t=new this,r=e.contiguousBinIndexOffset;t.offset=r;for(var n=0,s=e.contiguousBinCounts;n<s.length;n++){var i=s[n];t.add(r,i),r+=1}return t},e}();t.DenseStore=i},41186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsingHighestDenseStore=t.CollapsingLowestDenseStore=t.DenseStore=void 0;var n=r(86579);Object.defineProperty(t,"DenseStore",{enumerable:!0,get:function(){return n.DenseStore}});var s=r(347);Object.defineProperty(t,"CollapsingLowestDenseStore",{enumerable:!0,get:function(){return s.CollapsingLowestDenseStore}});var i=r(63601);Object.defineProperty(t,"CollapsingHighestDenseStore",{enumerable:!0,get:function(){return i.CollapsingHighestDenseStore}})},8852:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sumOfRange=void 0,t.sumOfRange=function(e,t,r){for(var n=0,s=t;s<=r;s++)n+=e[s];return n}},53697:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(13355),t)},34537:e=>{"use strict";e.exports=function(e,t){for(var r=new Array(arguments.length-1),n=0,s=2,i=!0;s<arguments.length;)r[n++]=arguments[s++];return new Promise((function(s,o){r[n]=function(e){if(i)if(i=!1,e)o(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];s.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,o(e))}}))}},97419:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),s=new Array(123),i=0;i<64;)s[n[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;r.encode=function(e,t,r){for(var s,i=null,o=[],a=0,c=0;t<r;){var u=e[t++];switch(c){case 0:o[a++]=n[u>>2],s=(3&u)<<4,c=1;break;case 1:o[a++]=n[s|u>>4],s=(15&u)<<2,c=2;break;case 2:o[a++]=n[s|u>>6],o[a++]=n[63&u],c=0}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0)}return c&&(o[a++]=n[s],o[a++]=61,1===c&&(o[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var o="invalid encoding";r.decode=function(e,t,r){for(var n,i=r,a=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&a>1)break;if(void 0===(u=s[u]))throw Error(o);switch(a){case 0:n=u,a=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,a=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,a=3;break;case 3:t[r++]=(3&n)<<6|u,a=0}}if(1===a)throw Error(o);return r-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},19211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},10945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function s(e,n,s){t[0]=e,n[s]=r[0],n[s+1]=r[1],n[s+2]=r[2],n[s+3]=r[3]}function i(e,n,s){t[0]=e,n[s]=r[3],n[s+1]=r[2],n[s+2]=r[1],n[s+3]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?s:i,e.writeFloatBE=n?i:s,e.readFloatLE=n?o:a,e.readFloatBE=n?a:o}():function(){function t(e,t,r,n){var s=t<0?1:0;if(s&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((s<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((s<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((s<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function o(e,t,r){var n=e(t,r),s=2*(n>>31)+1,i=n>>>23&255,o=8388607&n;return 255===i?o?NaN:s*(1/0):0===i?1401298464324817e-60*s*o:s*Math.pow(2,i-150)*(o+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=o.bind(null,s),e.readFloatBE=o.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function s(e,n,s){t[0]=e,n[s]=r[0],n[s+1]=r[1],n[s+2]=r[2],n[s+3]=r[3],n[s+4]=r[4],n[s+5]=r[5],n[s+6]=r[6],n[s+7]=r[7]}function i(e,n,s){t[0]=e,n[s]=r[7],n[s+1]=r[6],n[s+2]=r[5],n[s+3]=r[4],n[s+4]=r[3],n[s+5]=r[2],n[s+6]=r[1],n[s+7]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?s:i,e.writeDoubleBE=n?i:s,e.readDoubleLE=n?o:a,e.readDoubleBE=n?a:o}():function(){function t(e,t,r,n,s,i){var o=n<0?1:0;if(o&&(n=-n),0===n)e(0,s,i+t),e(1/n>0?0:2147483648,s,i+r);else if(isNaN(n))e(0,s,i+t),e(2146959360,s,i+r);else if(n>17976931348623157e292)e(0,s,i+t),e((o<<31|2146435072)>>>0,s,i+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,s,i+t),e((o<<31|a/4294967296)>>>0,s,i+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=n*Math.pow(2,-c))>>>0,s,i+t),e((o<<31|c+1023<<20|1048576*a&1048575)>>>0,s,i+r)}}}function o(e,t,r,n,s){var i=e(n,s+t),o=e(n,s+r),a=2*(o>>31)+1,c=o>>>20&2047,u=4294967296*(1048575&o)+i;return 2047===c?u?NaN:a*(1/0):0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=o.bind(null,s,0,4),e.readDoubleBE=o.bind(null,i,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function i(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},67199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},76662:e=>{"use strict";e.exports=function(e,t,r){var n=r||8192,s=n>>>1,i=null,o=n;return function(r){if(r<1||r>s)return e(r);o+r>n&&(i=e(n),o=0);var a=t.call(i,o,o+=r);return 7&o&&(o=1+(7|o)),a}}},94997:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,s=null,i=[],o=0;t<r;)(n=e[t++])<128?i[o++]=n:n>191&&n<224?i[o++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[o++]=55296+(n>>10),i[o++]=56320+(1023&n)):i[o++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,i)),o=0);return s?(o&&s.push(String.fromCharCode.apply(String,i.slice(0,o))),s.join("")):String.fromCharCode.apply(String,i.slice(0,o))},r.write=function(e,t,r){for(var n,s,i=r,o=0;o<e.length;++o)(n=e.charCodeAt(o))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(s=e.charCodeAt(o+1)))?(n=65536+((1023&n)<<10)+(1023&s),++o,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}},55489:(e,t,r)=>{"use strict";const n=r(6113);e.exports="function"==typeof n.randomUUID?n.randomUUID:r(33162)},33162:(e,t,r)=>{"use strict";const n=r(6113),{validateBoolean:s,validateObject:i,codes:{ERR_OPERATION_FAILED:o}}=r(21980),{randomFillSync:a}=n;function c(e){const t=Buffer.alloc(e);return a(t)}let u,p,l,d=0;function h(e,t=0){const r=function(){if(void 0===l){l=new Array(256);for(let e=0;e<l.length;e++){const t=e.toString(16);l[e]=t.padStart(2,"0")}}return l}();return r[e[t]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[15&e[t+6]|64]+r[e[t+7]]+"-"+r[63&e[t+8]|128]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]}e.exports=function(e){void 0!==e&&i(e,"options");const{disableEntropyCache:t=!1}=e||{};return s(t,"options.disableEntropyCache"),t?function(){if(p||(p=c(2048)),void 0===p)throw new o("Out of memory");return a(p),h(p)}():function(){if(u||(u=c(2048)),void 0===u)throw new o("Out of memory");return 0===d&&a(u),d=(d+1)%128,h(u,16*d)}()}},21980:(e,t,r)=>{"use strict";const n=r(39491),s=r(73837),i=["string","function","number","object","Function","Object","boolean","bigint","symbol"];class o extends TypeError{constructor(e){super(`Operation failed: ${e}`),this.code=this.constructor.name,Object.defineProperties(this,{toString:{value(){return`${this.name} [${this.code}]: ${this.message}`},enumerable:!1,writable:!0,configurable:!0}})}}class a extends TypeError{constructor(e,t,r){super(),n("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let o="The ";if(e.endsWith(" argument"))o+=`${e} `;else{const t=e.includes(".")?"property":"argument";o+=`"${e}" ${t} `}o+="must be ";const a=[],c=[],u=[];for(const e of t)n("string"==typeof e,"All expected entries have to be of type string"),i.includes(e)?a.push(e.toLowerCase()):classRegExp.test(e)?c.push(e):(n("object"!==e,'The value "object" should be written as "Object"'),u.push(e));if(c.length>0){const e=a.indexOf("object");-1!==e&&(a.splice(e,1),c.push("Object"))}if(a.length>0){if(a.length>2){const e=a.pop();o+=`one of type ${a.join(", ")}, or ${e}`}else 2===a.length?o+=`one of type ${a[0]} or ${a[1]}`:o+=`of type ${a[0]}`;(c.length>0||u.length>0)&&(o+=" or ")}if(c.length>0){if(c.length>2){const e=c.pop();o+=`an instance of ${c.join(", ")}, or ${e}`}else o+=`an instance of ${c[0]}`,2===c.length&&(o+=` or ${c[1]}`);u.length>0&&(o+=" or ")}if(u.length>0)if(u.length>2){const e=u.pop();o+=`one of ${u.join(", ")}, or ${e}`}else 2===u.length?o+=`one of ${u[0]} or ${u[1]}`:(u[0].toLowerCase()!==u[0]&&(o+="an "),o+=`${u[0]}`);if(null==r)o+=`. Received ${r}`;else if("function"==typeof r&&r.name)o+=`. Received function ${r.name}`;else if("object"==typeof r)r.constructor&&r.constructor.name?o+=`. Received an instance of ${r.constructor.name}`:o+=`. Received ${s.inspect(r,{depth:-1})}`;else{let e=s.inspect(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),o+=`. Received type ${typeof r} (${e})`}this.code=this.constructor.name,Object.defineProperties(this,{message:{value:o,enumerable:!1,writable:!0,configurable:!0},toString:{value(){return`${this.name} [${this.code}]: ${this.message}`},enumerable:!1,writable:!0,configurable:!0}})}}e.exports={validateBoolean:function(e,t){if("boolean"!=typeof e)throw new a(t,"boolean",e)},validateObject:function(e,t,{nullable:r=!1,allowArray:n=!1,allowFunction:s=!1}={}){if(!r&&null===e||!n&&Array.isArray(e)||"object"!=typeof e&&(!s||"function"!=typeof e))throw new a(t,"Object",e)},codes:{ERR_OPERATION_FAILED:o}}},65780:e=>{"use strict";const t=()=>{const e=new Error("Delay aborted");return e.name="AbortError",e},r=({clearTimeout:e,setTimeout:r,willResolve:n})=>(s,{value:i,signal:o}={})=>{if(o&&o.aborted)return Promise.reject(t());let a,c,u;const p=e||clearTimeout,l=()=>{p(a),u(t())},d=new Promise(((e,t)=>{c=()=>{o&&o.removeEventListener("abort",l),n?e(i):t(i)},u=t,a=(r||setTimeout)(c,s)}));return o&&o.addEventListener("abort",l,{once:!0}),d.clear=()=>{p(a),a=null,c()},d},n=e=>{const t=r({...e,willResolve:!0});return t.reject=r({...e,willResolve:!1}),t.range=(e,r,n)=>t(((e,t)=>Math.floor(Math.random()*(t-e+1)+e))(e,r),n),t},s=n();s.createWithTimers=n,e.exports=s,e.exports.default=s},65822:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLError=i;var n=r(36278),s=r(39016);function i(e,t,r,n,o,a,c){var u=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,p=r;if(!p&&u){var l=u[0];p=l&&l.loc&&l.loc.source}var d=n;!d&&u&&(d=u.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),d&&0===d.length&&(d=void 0);var h=void 0;n&&r?h=n.map((function(e){return(0,s.getLocation)(r,e)})):u&&(h=u.reduce((function(e,t){return t.loc&&e.push((0,s.getLocation)(t.loc.source,t.loc.start)),e}),[])),Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:h||void 0,enumerable:!0},path:{value:o||void 0,enumerable:!0},nodes:{value:u||void 0},source:{value:p||void 0},positions:{value:d||void 0},originalError:{value:a},extensions:{value:c||a&&a.extensions}}),a&&a.stack?Object.defineProperty(this,"stack",{value:a.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,i):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}i.prototype=Object.create(Error.prototype,{constructor:{value:i},name:{value:"GraphQLError"},toString:{value:function(){return(0,n.printError)(this)}}})},66908:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.formatError=function(e){return e||(0,i.default)(0,"Received null or undefined error."),n({},e.extensions,{message:e.message||"An unknown error occurred.",locations:e.locations,path:e.path})};var s,i=(s=r(7706))&&s.__esModule?s:{default:s}},6972:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(65822);Object.defineProperty(t,"GraphQLError",{enumerable:!0,get:function(){return n.GraphQLError}});var s=r(50338);Object.defineProperty(t,"syntaxError",{enumerable:!0,get:function(){return s.syntaxError}});var i=r(31993);Object.defineProperty(t,"locatedError",{enumerable:!0,get:function(){return i.locatedError}});var o=r(36278);Object.defineProperty(t,"printError",{enumerable:!0,get:function(){return o.printError}});var a=r(66908);Object.defineProperty(t,"formatError",{enumerable:!0,get:function(){return a.formatError}})},31993:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locatedError=function(e,t,r){return e&&Array.isArray(e.path)?e:new n.GraphQLError(e&&e.message,e&&e.nodes||t,e&&e.source,e&&e.positions,r,e)};var n=r(65822)},36278:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printError=function(e){var t=[];if(e.nodes)e.nodes.forEach((function(e){e.loc&&t.push(s(e.loc.source,(0,n.getLocation)(e.loc.source,e.loc.start)))}));else if(e.source&&e.locations){var r=e.source;e.locations.forEach((function(e){t.push(s(r,e))}))}return 0===t.length?e.message:[e.message].concat(t).join("\n\n")+"\n"};var n=r(39016);function s(e,t){var r=t.line,n=e.locationOffset.line-1,s=function(e,t){return 1===t.line?e.locationOffset.column-1:0}(e,t),a=r+n,c=t.column+s,u=(a-1).toString(),p=a.toString(),l=(a+1).toString(),d=l.length,h=e.body.split(/\r\n|[\n\r]/g);return h[0]=i(e.locationOffset.column-1)+h[0],[e.name+" ("+a+":"+c+")",r>=2&&o(d,u)+": "+h[r-2],o(d,p)+": "+h[r-1],i(2+d+c-1)+"^",r<h.length&&o(d,l)+": "+h[r]].filter(Boolean).join("\n")}function i(e){return Array(e+1).join(" ")}function o(e,t){return i(e-t.length)+t}},50338:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntaxError=function(e,t,r){return new n.GraphQLError("Syntax Error: "+r,void 0,e,[t])};var n=r(65822)},90192:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultFieldResolver=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.execute=function(e,t,r,n,s,i,o){return 1===arguments.length?E(e.schema,e.document,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver):E(e,t,r,n,s,i,o)},t.responsePathAsArray=T,t.addPath=w,t.assertValidExecutionArguments=I,t.buildExecutionContext=x,t.getOperationRootType=k,t.collectFields=A,t.buildResolveInfo=L,t.resolveFieldValueOrError=D,t.getFieldDef=H;var s=r(70439),i=r(6972),o=v(r(7706)),a=v(r(39573)),c=v(r(38290)),u=v(r(4221)),p=v(r(55456)),l=v(r(43179)),d=v(r(19915)),h=r(85115),f=r(2828),m=r(38840),g=r(55003),_=(r(26829),r(98155)),y=r(27197),b=r(51671);function v(e){return e&&e.__esModule?e:{default:e}}function E(e,t,r,n,s,i,o){I(e,t,s);var a=x(e,t,r,n,s,i,o);if(Array.isArray(a))return{errors:a};var c=function(e,t,r){var n=k(e.schema,t),s=A(e,n,t.selectionSet,Object.create(null),Object.create(null)),i=void 0;try{var o="mutation"===t.operation?function(e,t,r,n,s){return(0,d.default)(Object.keys(s),(function(n,i){var o=s[i],a=w(undefined,i),c=C(e,t,r,o,a);return void 0===c?n:(0,u.default)(c)?c.then((function(e){return n[i]=e,n})):(n[i]=c,n)}),Object.create(null))}(e,n,r,0,s):O(e,n,r,i,s);return(0,u.default)(o)?o.then(void 0,(function(t){return e.errors.push(t),Promise.resolve(null)})):o}catch(t){return e.errors.push(t),null}}(a,a.operation,r);return S(a,c)}function S(e,t){return(0,u.default)(t)?t.then((function(t){return S(e,t)})):0===e.errors.length?{data:t}:{errors:e.errors,data:t}}function T(e){for(var t=[],r=e;r;)t.push(r.key),r=r.prev;return t.reverse()}function w(e,t){return{prev:e,key:t}}function I(e,t,r){t||(0,o.default)(0,"Must provide document"),(0,b.assertValidSchema)(e),r&&"object"!==(void 0===r?"undefined":n(r))&&(0,o.default)(0,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function x(e,t,r,n,s,a,c){for(var u=[],p=void 0,l=!1,d=Object.create(null),h=0;h<t.definitions.length;h++){var g=t.definitions[h];switch(g.kind){case f.Kind.OPERATION_DEFINITION:!a&&p?l=!0:(!a||g.name&&g.name.value===a)&&(p=g);break;case f.Kind.FRAGMENT_DEFINITION:d[g.name.value]=g}}p?l&&u.push(new i.GraphQLError("Must provide operation name if query contains multiple operations.")):a?u.push(new i.GraphQLError('Unknown operation named "'+a+'".')):u.push(new i.GraphQLError("Must provide an operation."));var _=void 0;if(p){var y=(0,m.getVariableValues)(e,p.variableDefinitions||[],s||{});y.errors?u.push.apply(u,y.errors):_=y.coerced}return 0!==u.length?u:(p||(0,o.default)(0,"Has operation if no errors."),_||(0,o.default)(0,"Has variables if no errors."),{schema:e,fragments:d,rootValue:r,contextValue:n,operation:p,variableValues:_,fieldResolver:c||V,errors:u})}function k(e,t){switch(t.operation){case"query":var r=e.getQueryType();if(!r)throw new i.GraphQLError("Schema does not define the required query root type.",[t]);return r;case"mutation":var n=e.getMutationType();if(!n)throw new i.GraphQLError("Schema is not configured for mutations.",[t]);return n;case"subscription":var s=e.getSubscriptionType();if(!s)throw new i.GraphQLError("Schema is not configured for subscriptions.",[t]);return s;default:throw new i.GraphQLError("Can only execute queries, mutations and subscriptions.",[t])}}function O(e,t,r,n,s){var i=!1,o=Object.keys(s).reduce((function(o,a){var c=s[a],p=w(n,a),l=C(e,t,r,c,p);return void 0===l||(o[a]=l,!i&&(0,u.default)(l)&&(i=!0)),o}),Object.create(null));return i?(0,l.default)(o):o}function A(e,t,r,n,s){for(var i=0;i<r.selections.length;i++){var o=r.selections[i];switch(o.kind){case f.Kind.FIELD:if(!N(e,o))continue;var a=(p=o).alias?p.alias.value:p.name.value;n[a]||(n[a]=[]),n[a].push(o);break;case f.Kind.INLINE_FRAGMENT:if(!N(e,o)||!R(e,o,t))continue;A(e,t,o.selectionSet,n,s);break;case f.Kind.FRAGMENT_SPREAD:var c=o.name.value;if(s[c]||!N(e,o))continue;s[c]=!0;var u=e.fragments[c];if(!u||!R(e,u,t))continue;A(e,t,u.selectionSet,n,s)}}var p;return n}function N(e,t){var r=(0,m.getDirectiveValues)(y.GraphQLSkipDirective,t,e.variableValues);if(r&&!0===r.if)return!1;var n=(0,m.getDirectiveValues)(y.GraphQLIncludeDirective,t,e.variableValues);return!n||!1!==n.if}function R(e,t,r){var n=t.typeCondition;if(!n)return!0;var s=(0,h.typeFromAST)(e.schema,n);return s===r||!!(0,g.isAbstractType)(s)&&e.schema.isPossibleType(s,r)}function C(e,t,r,n,s){var i=n[0].name.value,o=H(e.schema,t,i);if(o){var a=o.resolve||e.fieldResolver,c=L(e,o,n,t,s),u=D(e,o,n,a,r,c);return P(e,o.type,n,c,s,u)}}function L(e,t,r,n,s){return{fieldName:r[0].name.value,fieldNodes:r,returnType:t.type,parentType:n,path:s,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}function D(e,t,r,n,s,i){try{var o=n(s,(0,m.getArgumentValues)(t,r[0],e.variableValues),e.contextValue,i);return(0,u.default)(o)?o.then(void 0,M):o}catch(e){return M(e)}}function M(e){return e instanceof Error?e:new Error(e||void 0)}function P(e,t,r,n,s,i){if((0,g.isNonNullType)(t))return j(e,t,r,n,s,i);try{var o=j(e,t,r,n,s,i);return(0,u.default)(o)?o.then(void 0,(function(t){return e.errors.push(t),Promise.resolve(null)})):o}catch(t){return e.errors.push(t),null}}function j(e,t,r,n,s,o){try{var a=q(e,t,r,n,s,o);return(0,u.default)(a)?a.then(void 0,(function(e){return Promise.reject((0,i.locatedError)(M(e),r,T(s)))})):a}catch(e){throw(0,i.locatedError)(M(e),r,T(s))}}function q(e,t,r,i,p,l){if((0,u.default)(l))return l.then((function(n){return q(e,t,r,i,p,n)}));if(l instanceof Error)throw l;if((0,g.isNonNullType)(t)){var d=q(e,t.ofType,r,i,p,l);if(null===d)throw new Error("Cannot return null for non-nullable field "+i.parentType.name+"."+i.fieldName+".");return d}if((0,c.default)(l))return null;if((0,g.isListType)(t))return function(e,t,r,n,i,a){(0,s.isCollection)(a)||(0,o.default)(0,"Expected Iterable, but did not find one for field "+n.parentType.name+"."+n.fieldName+".");var c=t.ofType,p=!1,l=[];return(0,s.forEach)(a,(function(t,s){var o=w(i,s),a=P(e,c,r,n,o,t);!p&&(0,u.default)(a)&&(p=!0),l.push(a)})),p?Promise.all(l):l}(e,t,r,i,p,l);if((0,g.isLeafType)(t))return function(e,t){e.serialize||(0,o.default)(0,"Missing serialize method on type");var r=e.serialize(t);if((0,a.default)(r))throw new Error('Expected a value of type "'+String(e)+'" but received: '+String(t));return r}(t,l);if((0,g.isAbstractType)(t))return function(e,t,r,s,i,o){var a=t.resolveType?t.resolveType(o,e.contextValue,s):function(e,t,r,s){if(null!==e&&"object"===(void 0===e?"undefined":n(e))&&"string"==typeof e.__typename)return e.__typename;for(var i=r.schema.getPossibleTypes(s),o=[],a=0;a<i.length;a++){var c=i[a];if(c.isTypeOf){var p=c.isTypeOf(e,t,r);if((0,u.default)(p))o[a]=p;else if(p)return c}}return o.length?Promise.all(o).then((function(e){for(var t=0;t<e.length;t++)if(e[t])return i[t]})):void 0}(o,e.contextValue,s,t);return(0,u.default)(a)?a.then((function(n){return F(e,U(n,e,t,r,s,o),r,s,i,o)})):F(e,U(a,e,t,r,s,o),r,s,i,o)}(e,t,r,i,p,l);if((0,g.isObjectType)(t))return F(e,t,r,i,p,l);throw new Error('Cannot complete value of unexpected type "'+String(t)+'".')}function U(e,t,r,n,s,o){var a="string"==typeof e?t.schema.getType(e):e;if(!(0,g.isObjectType)(a))throw new i.GraphQLError("Abstract type "+r.name+" must resolve to an Object type at runtime for field "+s.parentType.name+"."+s.fieldName+' with value "'+String(o)+'", received "'+String(a)+'". Either the '+r.name+' type should provide a "resolveType" function or each possible types should provide an "isTypeOf" function.',n);if(!t.schema.isPossibleType(r,a))throw new i.GraphQLError('Runtime Object type "'+a.name+'" is not a possible type for "'+r.name+'".',n);return a}function F(e,t,r,n,s,i){if(t.isTypeOf){var o=t.isTypeOf(i,e.contextValue,n);if((0,u.default)(o))return o.then((function(n){if(!n)throw $(t,i,r);return B(e,t,r,0,s,i)}));if(!o)throw $(t,i,r)}return B(e,t,r,0,s,i)}function $(e,t,r){return new i.GraphQLError('Expected value of type "'+e.name+'" but got: '+String(t)+".",r)}function B(e,t,r,n,s,i){return O(e,t,i,s,G(e,t,r))}var G=(0,p.default)((function(e,t,r){for(var n=Object.create(null),s=Object.create(null),i=0;i<r.length;i++){var o=r[i].selectionSet;o&&(n=A(e,t,o,n,s))}return n})),V=t.defaultFieldResolver=function(e,t,r,s){if("object"===(void 0===e?"undefined":n(e))||"function"==typeof e){var i=e[s.fieldName];return"function"==typeof i?e[s.fieldName](t,r,s):i}};function H(e,t,r){return r===_.SchemaMetaFieldDef.name&&e.getQueryType()===t?_.SchemaMetaFieldDef:r===_.TypeMetaFieldDef.name&&e.getQueryType()===t?_.TypeMetaFieldDef:r===_.TypeNameMetaFieldDef.name?_.TypeNameMetaFieldDef:t.getFields()[r]}},38840:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVariableValues=function(e,t,r){for(var s=[],o={},p=0;p<t.length;p++){var h=t[p],f=h.variable.name.value,m=(0,c.typeFromAST)(e,h.type);if((0,d.isInputType)(m)){var g=r[f];if((0,i.default)(g))(0,d.isNonNullType)(m)?s.push(new n.GraphQLError('Variable "$'+f+'" of required type "'+String(m)+'" was not provided.',[h])):h.defaultValue&&(o[f]=(0,u.valueFromAST)(h.defaultValue,m));else{var _=(0,a.coerceValue)(g,m,h),y=_.errors;y?function(){var e='Variable "$'+f+'" got invalid value '+JSON.stringify(g)+"; ";y.forEach((function(t){t.message=e+t.message})),s.push.apply(s,y)}():o[f]=_.value}}else s.push(new n.GraphQLError('Variable "$'+f+'" expected value of type "'+(0,l.print)(h.type)+'" which cannot be used as an input type.',[h.type]))}return 0===s.length?{errors:void 0,coerced:o}:{errors:s,coerced:void 0}},t.getArgumentValues=f,t.getDirectiveValues=function(e,t,r){var n=t.directives&&(0,s.default)(t.directives,(function(t){return t.name.value===e.name}));if(n)return f(e,n,r)};var n=r(6972),s=h(r(11771)),i=h(r(39573)),o=h(r(82863)),a=r(13723),c=r(85115),u=r(23770),p=r(2828),l=r(23033),d=r(55003);function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r){var s={},a=e.args,c=t.arguments;if(!a||!c)return s;for(var h=(0,o.default)(c,(function(e){return e.name.value})),f=0;f<a.length;f++){var m=a[f],g=m.name,_=m.type,y=h[g],b=m.defaultValue;if(y)if(y.value.kind===p.Kind.VARIABLE){var v=y.value.name.value;if(r&&Object.prototype.hasOwnProperty.call(r,v)&&!(0,i.default)(r[v]))s[g]=r[v];else if((0,i.default)(b)){if((0,d.isNonNullType)(_))throw new n.GraphQLError('Argument "'+g+'" of required type "'+String(_)+'" was provided the variable "$'+v+'" which was not provided a runtime value.',[y.value])}else s[g]=b}else{var E=y.value,S=(0,u.valueFromAST)(E,_,r);if((0,i.default)(S))throw new n.GraphQLError('Argument "'+g+'" has invalid value '+(0,l.print)(E)+".",[y.value]);s[g]=S}else if((0,i.default)(b)){if((0,d.isNonNullType)(_))throw new n.GraphQLError('Argument "'+g+'" of required type "'+String(_)+'" was not provided.',[t])}else s[g]=b}return s}},11771:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}},85752:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(process,function(e,t){return e instanceof t})},7706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)throw new Error(t)}},39573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e||e!=e}},38290:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null==e||e!=e}},4221:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Boolean(e&&"function"==typeof e.then)}},82863:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.reduce((function(e,r){return e[t(r)]=r,e}),Object.create(null))}},87154:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return e.reduce((function(e,n){return e[t(n)]=r(n),e}),Object.create(null))}},55456:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0;return function(r,n,s){t||(t=new WeakMap);var i=t.get(r),o=void 0;if(i){if(o=i.get(n)){var a=o.get(s);if(void 0!==a)return a}}else i=new WeakMap,t.set(r,i);o||(o=new WeakMap,i.set(n,o));var c=e.apply(this,arguments);return o.set(s,c),c}}},8836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))};t.default=r},11854:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.slice(0,r);return t.reduce((function(e,r,n){return e+(t.length>2?", ":" ")+(n===t.length-1?"or ":"")+r}))};var r=5},43179:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.keys(e),r=t.map((function(t){return e[t]}));return Promise.all(r).then((function(e){return e.reduce((function(e,r,n){return e[t[n]]=r,e}),Object.create(null))}))}},19915:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return e.reduce((function(e,r){return(0,s.default)(e)?e.then((function(e){return t(e,r)})):t(e,r)}),r)};var n,s=(n=r(4221))&&n.__esModule?n:{default:n}},78070:(e,t)=>{"use strict";function r(e,t){if(e===t)return 0;var r=void 0,n=void 0,s=[],i=e.toLowerCase(),o=t.toLowerCase(),a=i.length,c=o.length;if(i===o)return 1;for(r=0;r<=a;r++)s[r]=[r];for(n=1;n<=c;n++)s[0][n]=n;for(r=1;r<=a;r++)for(n=1;n<=c;n++){var u=i[r-1]===o[n-1]?0:1;s[r][n]=Math.min(s[r-1][n]+1,s[r][n-1]+1,s[r-1][n-1]+u),r>1&&n>1&&i[r-1]===o[n-2]&&i[r-2]===o[n-1]&&(s[r][n]=Math.min(s[r][n],s[r-2][n-2]+u))}return s[a][c]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=Object.create(null),s=t.length,i=e.length/2,o=0;o<s;o++){var a=r(e,t[o]);a<=Math.max(i,t[o].length/2,1)&&(n[t[o]]=a)}return Object.keys(n).sort((function(e,t){return n[e]-n[t]}))}},6879:(e,t)=>{"use strict";function r(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function n(e){return r(e)===e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.split(/\r\n|[\n\r]/g),s=null,i=1;i<t.length;i++){var o=t[i],a=r(o);if(a<o.length&&(null===s||a<s)&&0===(s=a))break}if(s)for(var c=1;c<t.length;c++)t[c]=t[c].slice(s);for(;t.length>0&&n(t[0]);)t.shift();for(;t.length>0&&n(t[t.length-1]);)t.pop();return t.join("\n")}},78333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveLocation=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"})},2828:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Kind=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",VARIABLE:"Variable",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension",DIRECTIVE_DEFINITION:"DirectiveDefinition"})},54274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenKind=void 0,t.createLexer=function(e,t){var r=new l(c.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:r,token:r,line:1,lineStart:0,advance:o,lookahead:a}},t.getTokenDesc=function(e){var t=e.value;return t?e.kind+' "'+t+'"':e.kind};var n,s=r(6972),i=(n=r(6879))&&n.__esModule?n:{default:n};function o(){return this.lastToken=this.token,this.token=this.lookahead()}function a(){var e=this.token;if(e.kind!==c.EOF)do{e=e.next||(e.next=h(this,e))}while(e.kind===c.COMMENT);return e}var c=t.TokenKind=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),u=String.prototype.charCodeAt,p=String.prototype.slice;function l(e,t,r,n,s,i,o){this.kind=e,this.start=t,this.end=r,this.line=n,this.column=s,this.value=o,this.prev=i,this.next=null}function d(e){return isNaN(e)?c.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'+("00"+e.toString(16).toUpperCase()).slice(-4)+'"'}function h(e,t){var r=e.source,n=r.body,o=n.length,a=function(e,t,r){for(var n=e.length,s=t;s<n;){var i=u.call(e,s);if(9===i||32===i||44===i||65279===i)++s;else if(10===i)++s,++r.line,r.lineStart=s;else{if(13!==i)break;10===u.call(e,s+1)?s+=2:++s,++r.line,r.lineStart=s}}return s}(n,t.end,e),h=e.line,g=1+a-e.lineStart;if(a>=o)return new l(c.EOF,o,o,h,g,t);var _=u.call(n,a);if(_<32&&9!==_&&10!==_&&13!==_)throw(0,s.syntaxError)(r,a,"Cannot contain the invalid character "+d(_)+".");switch(_){case 33:return new l(c.BANG,a,a+1,h,g,t);case 35:return function(e,t,r,n,s){var i=e.body,o=void 0,a=t;do{o=u.call(i,++a)}while(null!==o&&(o>31||9===o));return new l(c.COMMENT,t,a,r,n,s,p.call(i,t+1,a))}(r,a,h,g,t);case 36:return new l(c.DOLLAR,a,a+1,h,g,t);case 38:return new l(c.AMP,a,a+1,h,g,t);case 40:return new l(c.PAREN_L,a,a+1,h,g,t);case 41:return new l(c.PAREN_R,a,a+1,h,g,t);case 46:if(46===u.call(n,a+1)&&46===u.call(n,a+2))return new l(c.SPREAD,a,a+3,h,g,t);break;case 58:return new l(c.COLON,a,a+1,h,g,t);case 61:return new l(c.EQUALS,a,a+1,h,g,t);case 64:return new l(c.AT,a,a+1,h,g,t);case 91:return new l(c.BRACKET_L,a,a+1,h,g,t);case 93:return new l(c.BRACKET_R,a,a+1,h,g,t);case 123:return new l(c.BRACE_L,a,a+1,h,g,t);case 124:return new l(c.PIPE,a,a+1,h,g,t);case 125:return new l(c.BRACE_R,a,a+1,h,g,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,r,n,s){for(var i=e.body,o=i.length,a=t+1,d=0;a!==o&&null!==(d=u.call(i,a))&&(95===d||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122);)++a;return new l(c.NAME,t,a,r,n,s,p.call(i,t,a))}(r,a,h,g,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,r,n,i,o){var a=e.body,h=r,m=t,g=!1;if(45===h&&(h=u.call(a,++m)),48===h){if((h=u.call(a,++m))>=48&&h<=57)throw(0,s.syntaxError)(e,m,"Invalid number, unexpected digit after 0: "+d(h)+".")}else m=f(e,m,h),h=u.call(a,m);return 46===h&&(g=!0,h=u.call(a,++m),m=f(e,m,h),h=u.call(a,m)),69!==h&&101!==h||(g=!0,43!==(h=u.call(a,++m))&&45!==h||(h=u.call(a,++m)),m=f(e,m,h)),new l(g?c.FLOAT:c.INT,t,m,n,i,o,p.call(a,t,m))}(r,a,_,h,g,t);case 34:return 34===u.call(n,a+1)&&34===u.call(n,a+2)?function(e,t,r,n,o){for(var a=e.body,h=t+3,f=h,m=0,g="";h<a.length&&null!==(m=u.call(a,h));){if(34===m&&34===u.call(a,h+1)&&34===u.call(a,h+2))return g+=p.call(a,f,h),new l(c.BLOCK_STRING,t,h+3,r,n,o,(0,i.default)(g));if(m<32&&9!==m&&10!==m&&13!==m)throw(0,s.syntaxError)(e,h,"Invalid character within String: "+d(m)+".");92===m&&34===u.call(a,h+1)&&34===u.call(a,h+2)&&34===u.call(a,h+3)?(g+=p.call(a,f,h)+'"""',f=h+=4):++h}throw(0,s.syntaxError)(e,h,"Unterminated string.")}(r,a,h,g,t):function(e,t,r,n,i){for(var o,a,h,f,g=e.body,_=t+1,y=_,b=0,v="";_<g.length&&null!==(b=u.call(g,_))&&10!==b&&13!==b;){if(34===b)return v+=p.call(g,y,_),new l(c.STRING,t,_+1,r,n,i,v);if(b<32&&9!==b)throw(0,s.syntaxError)(e,_,"Invalid character within String: "+d(b)+".");if(++_,92===b){switch(v+=p.call(g,y,_-1),b=u.call(g,_)){case 34:v+='"';break;case 47:v+="/";break;case 92:v+="\\";break;case 98:v+="\b";break;case 102:v+="\f";break;case 110:v+="\n";break;case 114:v+="\r";break;case 116:v+="\t";break;case 117:var E=(o=u.call(g,_+1),a=u.call(g,_+2),h=u.call(g,_+3),f=u.call(g,_+4),m(o)<<12|m(a)<<8|m(h)<<4|m(f));if(E<0)throw(0,s.syntaxError)(e,_,"Invalid character escape sequence: \\u"+g.slice(_+1,_+5)+".");v+=String.fromCharCode(E),_+=4;break;default:throw(0,s.syntaxError)(e,_,"Invalid character escape sequence: \\"+String.fromCharCode(b)+".")}y=++_}}throw(0,s.syntaxError)(e,_,"Unterminated string.")}(r,a,h,g,t)}throw(0,s.syntaxError)(r,a,function(e){return 39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character "+d(e)+"."}(_))}function f(e,t,r){var n=e.body,i=t,o=r;if(o>=48&&o<=57){do{o=u.call(n,++i)}while(o>=48&&o<=57);return i}throw(0,s.syntaxError)(e,i,"Invalid number, expected digit but got: "+d(o)+".")}function m(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}l.prototype.toJSON=l.prototype.inspect=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},39016:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=function(e,t){for(var r=/\r\n|[\n\r]/g,n=1,s=t+1,i=void 0;(i=r.exec(e.body))&&i.index<t;)n+=1,s=t+1-(i.index+i[0].length);return{line:n,column:s}}},88370:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e,t){var r="string"==typeof e?new n.Source(e):e;if(!(r instanceof n.Source))throw new TypeError("Must provide Source. Received: "+String(r));return function(e){var t=e.token;W(e,i.TokenKind.SOF);var r=[];do{r.push(u(e))}while(!Q(e,i.TokenKind.EOF));return{kind:o.Kind.DOCUMENT,definitions:r,loc:H(e,t)}}((0,i.createLexer)(r,t||{}))},t.parseValue=function(e,t){var r="string"==typeof e?new n.Source(e):e,s=(0,i.createLexer)(r,t||{});W(s,i.TokenKind.SOF);var o=S(s,!1);return W(s,i.TokenKind.EOF),o},t.parseType=function(e,t){var r="string"==typeof e?new n.Source(e):e,s=(0,i.createLexer)(r,t||{});W(s,i.TokenKind.SOF);var o=A(s);return W(s,i.TokenKind.EOF),o},t.parseConstValue=w,t.parseTypeReference=A,t.parseNamedType=N;var n=r(12412),s=r(6972),i=r(54274),o=r(2828),a=r(78333);function c(e){var t=W(e,i.TokenKind.NAME);return{kind:o.Kind.NAME,value:t.value,loc:H(e,t)}}function u(e){if(K(e,i.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return p(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"extend":case"directive":return R(e)}else{if(K(e,i.TokenKind.BRACE_L))return p(e);if(C(e))return R(e)}throw J(e)}function p(e){if(K(e,i.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return l(e);case"fragment":return function(e){var t=e.token;return Y(e,"fragment"),e.options.experimentalFragmentVariables?{kind:o.Kind.FRAGMENT_DEFINITION,name:E(e),variableDefinitions:h(e),typeCondition:(Y(e,"on"),N(e)),directives:k(e,!1),selectionSet:g(e),loc:H(e,t)}:{kind:o.Kind.FRAGMENT_DEFINITION,name:E(e),typeCondition:(Y(e,"on"),N(e)),directives:k(e,!1),selectionSet:g(e),loc:H(e,t)}}(e)}else if(K(e,i.TokenKind.BRACE_L))return l(e);throw J(e)}function l(e){var t=e.token;if(K(e,i.TokenKind.BRACE_L))return{kind:o.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:g(e),loc:H(e,t)};var r=d(e),n=void 0;return K(e,i.TokenKind.NAME)&&(n=c(e)),{kind:o.Kind.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:h(e),directives:k(e,!1),selectionSet:g(e),loc:H(e,t)}}function d(e){var t=W(e,i.TokenKind.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw J(e,t)}function h(e){return K(e,i.TokenKind.PAREN_L)?Z(e,i.TokenKind.PAREN_L,f,i.TokenKind.PAREN_R):[]}function f(e){var t=e.token;return{kind:o.Kind.VARIABLE_DEFINITION,variable:m(e),type:(W(e,i.TokenKind.COLON),A(e)),defaultValue:Q(e,i.TokenKind.EQUALS)?S(e,!0):void 0,loc:H(e,t)}}function m(e){var t=e.token;return W(e,i.TokenKind.DOLLAR),{kind:o.Kind.VARIABLE,name:c(e),loc:H(e,t)}}function g(e){var t=e.token;return{kind:o.Kind.SELECTION_SET,selections:Z(e,i.TokenKind.BRACE_L,_,i.TokenKind.BRACE_R),loc:H(e,t)}}function _(e){return K(e,i.TokenKind.SPREAD)?function(e){var t=e.token;if(W(e,i.TokenKind.SPREAD),K(e,i.TokenKind.NAME)&&"on"!==e.token.value)return{kind:o.Kind.FRAGMENT_SPREAD,name:E(e),directives:k(e,!1),loc:H(e,t)};var r=void 0;return"on"===e.token.value&&(e.advance(),r=N(e)),{kind:o.Kind.INLINE_FRAGMENT,typeCondition:r,directives:k(e,!1),selectionSet:g(e),loc:H(e,t)}}(e):function(e){var t=e.token,r=c(e),n=void 0,s=void 0;return Q(e,i.TokenKind.COLON)?(n=r,s=c(e)):s=r,{kind:o.Kind.FIELD,alias:n,name:s,arguments:y(e,!1),directives:k(e,!1),selectionSet:K(e,i.TokenKind.BRACE_L)?g(e):void 0,loc:H(e,t)}}(e)}function y(e,t){var r=t?v:b;return K(e,i.TokenKind.PAREN_L)?Z(e,i.TokenKind.PAREN_L,r,i.TokenKind.PAREN_R):[]}function b(e){var t=e.token;return{kind:o.Kind.ARGUMENT,name:c(e),value:(W(e,i.TokenKind.COLON),S(e,!1)),loc:H(e,t)}}function v(e){var t=e.token;return{kind:o.Kind.ARGUMENT,name:c(e),value:(W(e,i.TokenKind.COLON),w(e)),loc:H(e,t)}}function E(e){if("on"===e.token.value)throw J(e);return c(e)}function S(e,t){var r=e.token;switch(r.kind){case i.TokenKind.BRACKET_L:return function(e,t){var r=e.token,n=t?w:I;return{kind:o.Kind.LIST,values:X(e,i.TokenKind.BRACKET_L,n,i.TokenKind.BRACKET_R),loc:H(e,r)}}(e,t);case i.TokenKind.BRACE_L:return function(e,t){var r=e.token;W(e,i.TokenKind.BRACE_L);for(var n=[];!Q(e,i.TokenKind.BRACE_R);)n.push(x(e,t));return{kind:o.Kind.OBJECT,fields:n,loc:H(e,r)}}(e,t);case i.TokenKind.INT:return e.advance(),{kind:o.Kind.INT,value:r.value,loc:H(e,r)};case i.TokenKind.FLOAT:return e.advance(),{kind:o.Kind.FLOAT,value:r.value,loc:H(e,r)};case i.TokenKind.STRING:case i.TokenKind.BLOCK_STRING:return T(e);case i.TokenKind.NAME:return"true"===r.value||"false"===r.value?(e.advance(),{kind:o.Kind.BOOLEAN,value:"true"===r.value,loc:H(e,r)}):"null"===r.value?(e.advance(),{kind:o.Kind.NULL,loc:H(e,r)}):(e.advance(),{kind:o.Kind.ENUM,value:r.value,loc:H(e,r)});case i.TokenKind.DOLLAR:if(!t)return m(e)}throw J(e)}function T(e){var t=e.token;return e.advance(),{kind:o.Kind.STRING,value:t.value,block:t.kind===i.TokenKind.BLOCK_STRING,loc:H(e,t)}}function w(e){return S(e,!0)}function I(e){return S(e,!1)}function x(e,t){var r=e.token;return{kind:o.Kind.OBJECT_FIELD,name:c(e),value:(W(e,i.TokenKind.COLON),S(e,t)),loc:H(e,r)}}function k(e,t){for(var r=[];K(e,i.TokenKind.AT);)r.push(O(e,t));return r}function O(e,t){var r=e.token;return W(e,i.TokenKind.AT),{kind:o.Kind.DIRECTIVE,name:c(e),arguments:y(e,t),loc:H(e,r)}}function A(e){var t=e.token,r=void 0;return Q(e,i.TokenKind.BRACKET_L)?(r=A(e),W(e,i.TokenKind.BRACKET_R),r={kind:o.Kind.LIST_TYPE,type:r,loc:H(e,t)}):r=N(e),Q(e,i.TokenKind.BANG)?{kind:o.Kind.NON_NULL_TYPE,type:r,loc:H(e,t)}:r}function N(e){var t=e.token;return{kind:o.Kind.NAMED_TYPE,name:c(e),loc:H(e,t)}}function R(e){var t=C(e)?e.lookahead():e.token;if(t.kind===i.TokenKind.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Y(e,"schema");var r=k(e,!0),n=Z(e,i.TokenKind.BRACE_L,D,i.TokenKind.BRACE_R);return{kind:o.Kind.SCHEMA_DEFINITION,directives:r,operationTypes:n,loc:H(e,t)}}(e);case"scalar":return function(e){var t=e.token,r=L(e);Y(e,"scalar");var n=c(e),s=k(e,!0);return{kind:o.Kind.SCALAR_TYPE_DEFINITION,description:r,name:n,directives:s,loc:H(e,t)}}(e);case"type":return function(e){var t=e.token,r=L(e);Y(e,"type");var n=c(e),s=M(e),i=k(e,!0),a=P(e);return{kind:o.Kind.OBJECT_TYPE_DEFINITION,description:r,name:n,interfaces:s,directives:i,fields:a,loc:H(e,t)}}(e);case"interface":return function(e){var t=e.token,r=L(e);Y(e,"interface");var n=c(e),s=k(e,!0),i=P(e);return{kind:o.Kind.INTERFACE_TYPE_DEFINITION,description:r,name:n,directives:s,fields:i,loc:H(e,t)}}(e);case"union":return function(e){var t=e.token,r=L(e);Y(e,"union");var n=c(e),s=k(e,!0),i=F(e);return{kind:o.Kind.UNION_TYPE_DEFINITION,description:r,name:n,directives:s,types:i,loc:H(e,t)}}(e);case"enum":return function(e){var t=e.token,r=L(e);Y(e,"enum");var n=c(e),s=k(e,!0),i=$(e);return{kind:o.Kind.ENUM_TYPE_DEFINITION,description:r,name:n,directives:s,values:i,loc:H(e,t)}}(e);case"input":return function(e){var t=e.token,r=L(e);Y(e,"input");var n=c(e),s=k(e,!0),i=G(e);return{kind:o.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:n,directives:s,fields:i,loc:H(e,t)}}(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===i.TokenKind.NAME)switch(t.value){case"scalar":return function(e){var t=e.token;Y(e,"extend"),Y(e,"scalar");var r=c(e),n=k(e,!0);if(0===n.length)throw J(e);return{kind:o.Kind.SCALAR_TYPE_EXTENSION,name:r,directives:n,loc:H(e,t)}}(e);case"type":return function(e){var t=e.token;Y(e,"extend"),Y(e,"type");var r=c(e),n=M(e),s=k(e,!0),i=P(e);if(0===n.length&&0===s.length&&0===i.length)throw J(e);return{kind:o.Kind.OBJECT_TYPE_EXTENSION,name:r,interfaces:n,directives:s,fields:i,loc:H(e,t)}}(e);case"interface":return function(e){var t=e.token;Y(e,"extend"),Y(e,"interface");var r=c(e),n=k(e,!0),s=P(e);if(0===n.length&&0===s.length)throw J(e);return{kind:o.Kind.INTERFACE_TYPE_EXTENSION,name:r,directives:n,fields:s,loc:H(e,t)}}(e);case"union":return function(e){var t=e.token;Y(e,"extend"),Y(e,"union");var r=c(e),n=k(e,!0),s=F(e);if(0===n.length&&0===s.length)throw J(e);return{kind:o.Kind.UNION_TYPE_EXTENSION,name:r,directives:n,types:s,loc:H(e,t)}}(e);case"enum":return function(e){var t=e.token;Y(e,"extend"),Y(e,"enum");var r=c(e),n=k(e,!0),s=$(e);if(0===n.length&&0===s.length)throw J(e);return{kind:o.Kind.ENUM_TYPE_EXTENSION,name:r,directives:n,values:s,loc:H(e,t)}}(e);case"input":return function(e){var t=e.token;Y(e,"extend"),Y(e,"input");var r=c(e),n=k(e,!0),s=G(e);if(0===n.length&&0===s.length)throw J(e);return{kind:o.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:n,fields:s,loc:H(e,t)}}(e)}throw J(e,t)}(e);case"directive":return function(e){var t=e.token,r=L(e);Y(e,"directive"),W(e,i.TokenKind.AT);var n=c(e),s=q(e);Y(e,"on");var a=function(e){Q(e,i.TokenKind.PIPE);var t=[];do{t.push(V(e))}while(Q(e,i.TokenKind.PIPE));return t}(e);return{kind:o.Kind.DIRECTIVE_DEFINITION,description:r,name:n,arguments:s,locations:a,loc:H(e,t)}}(e)}throw J(e,t)}function C(e){return K(e,i.TokenKind.STRING)||K(e,i.TokenKind.BLOCK_STRING)}function L(e){if(C(e))return T(e)}function D(e){var t=e.token,r=d(e);W(e,i.TokenKind.COLON);var n=N(e);return{kind:o.Kind.OPERATION_TYPE_DEFINITION,operation:r,type:n,loc:H(e,t)}}function M(e){var t=[];if("implements"===e.token.value){e.advance(),Q(e,i.TokenKind.AMP);do{t.push(N(e))}while(Q(e,i.TokenKind.AMP)||e.options.allowLegacySDLImplementsInterfaces&&K(e,i.TokenKind.NAME))}return t}function P(e){return e.options.allowLegacySDLEmptyFields&&K(e,i.TokenKind.BRACE_L)&&e.lookahead().kind===i.TokenKind.BRACE_R?(e.advance(),e.advance(),[]):K(e,i.TokenKind.BRACE_L)?Z(e,i.TokenKind.BRACE_L,j,i.TokenKind.BRACE_R):[]}function j(e){var t=e.token,r=L(e),n=c(e),s=q(e);W(e,i.TokenKind.COLON);var a=A(e),u=k(e,!0);return{kind:o.Kind.FIELD_DEFINITION,description:r,name:n,arguments:s,type:a,directives:u,loc:H(e,t)}}function q(e){return K(e,i.TokenKind.PAREN_L)?Z(e,i.TokenKind.PAREN_L,U,i.TokenKind.PAREN_R):[]}function U(e){var t=e.token,r=L(e),n=c(e);W(e,i.TokenKind.COLON);var s=A(e),a=void 0;Q(e,i.TokenKind.EQUALS)&&(a=w(e));var u=k(e,!0);return{kind:o.Kind.INPUT_VALUE_DEFINITION,description:r,name:n,type:s,defaultValue:a,directives:u,loc:H(e,t)}}function F(e){var t=[];if(Q(e,i.TokenKind.EQUALS)){Q(e,i.TokenKind.PIPE);do{t.push(N(e))}while(Q(e,i.TokenKind.PIPE))}return t}function $(e){return K(e,i.TokenKind.BRACE_L)?Z(e,i.TokenKind.BRACE_L,B,i.TokenKind.BRACE_R):[]}function B(e){var t=e.token,r=L(e),n=c(e),s=k(e,!0);return{kind:o.Kind.ENUM_VALUE_DEFINITION,description:r,name:n,directives:s,loc:H(e,t)}}function G(e){return K(e,i.TokenKind.BRACE_L)?Z(e,i.TokenKind.BRACE_L,U,i.TokenKind.BRACE_R):[]}function V(e){var t=e.token,r=c(e);if(a.DirectiveLocation.hasOwnProperty(r.value))return r;throw J(e,t)}function H(e,t){if(!e.options.noLocation)return new z(t,e.lastToken,e.source)}function z(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}function K(e,t){return e.token.kind===t}function Q(e,t){var r=e.token.kind===t;return r&&e.advance(),r}function W(e,t){var r=e.token;if(r.kind===t)return e.advance(),r;throw(0,s.syntaxError)(e.source,r.start,"Expected "+t+", found "+(0,i.getTokenDesc)(r))}function Y(e,t){var r=e.token;if(r.kind===i.TokenKind.NAME&&r.value===t)return e.advance(),r;throw(0,s.syntaxError)(e.source,r.start,'Expected "'+t+'", found '+(0,i.getTokenDesc)(r))}function J(e,t){var r=t||e.token;return(0,s.syntaxError)(e.source,r.start,"Unexpected "+(0,i.getTokenDesc)(r))}function X(e,t,r,n){W(e,t);for(var s=[];!Q(e,n);)s.push(r(e));return s}function Z(e,t,r,n){W(e,t);for(var s=[r(e)];!Q(e,n);)s.push(r(e));return s}z.prototype.toJSON=z.prototype.inspect=function(){return{start:this.start,end:this.end}}},23033:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,n.visit)(e,{leave:s})};var n=r(80285),s={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return o(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,r=e.name,n=c("(",o(e.variableDefinitions,", "),")"),s=o(e.directives," "),i=e.selectionSet;return r||s||n||"query"!==t?o([t,o([r,n]),s,i]," "):i},VariableDefinition:function(e){return e.variable+": "+e.type+c(" = ",e.defaultValue)},SelectionSet:function(e){return a(e.selections)},Field:function(e){var t=e.alias,r=e.name,n=e.arguments,s=e.directives,i=e.selectionSet;return o([c("",t,": ")+r+c("(",o(n,", "),")"),o(s," "),i]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+c(" ",o(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,r=e.directives,n=e.selectionSet;return o(["...",c("on ",t),o(r," "),n]," ")},FragmentDefinition:function(e){var t=e.name,r=e.typeCondition,n=e.variableDefinitions,s=e.directives,i=e.selectionSet;return"fragment "+t+c("(",o(n,", "),")")+" on "+r+" "+c("",o(s," ")," ")+i},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var r=e.value;return e.block?function(e,t){var r=e.replace(/"""/g,'\\"""');return" "!==e[0]&&"\t"!==e[0]||-1!==e.indexOf("\n")?'"""\n'+(t?r:u(r))+'\n"""':'"""'+r.replace(/"$/,'"\n')+'"""'}(r,"description"===t):JSON.stringify(r)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+o(e.values,", ")+"]"},ObjectValue:function(e){return"{"+o(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+c("(",o(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,r=e.operationTypes;return o(["schema",o(t," "),a(r)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:i((function(e){return o(["scalar",e.name,o(e.directives," ")]," ")})),ObjectTypeDefinition:i((function(e){var t=e.name,r=e.interfaces,n=e.directives,s=e.fields;return o(["type",t,c("implements ",o(r," & ")),o(n," "),a(s)]," ")})),FieldDefinition:i((function(e){var t=e.name,r=e.arguments,n=e.type,s=e.directives;return t+c("(",o(r,", "),")")+": "+n+c(" ",o(s," "))})),InputValueDefinition:i((function(e){var t=e.name,r=e.type,n=e.defaultValue,s=e.directives;return o([t+": "+r,c("= ",n),o(s," ")]," ")})),InterfaceTypeDefinition:i((function(e){var t=e.name,r=e.directives,n=e.fields;return o(["interface",t,o(r," "),a(n)]," ")})),UnionTypeDefinition:i((function(e){var t=e.name,r=e.directives,n=e.types;return o(["union",t,o(r," "),n&&0!==n.length?"= "+o(n," | "):""]," ")})),EnumTypeDefinition:i((function(e){var t=e.name,r=e.directives,n=e.values;return o(["enum",t,o(r," "),a(n)]," ")})),EnumValueDefinition:i((function(e){return o([e.name,o(e.directives," ")]," ")})),InputObjectTypeDefinition:i((function(e){var t=e.name,r=e.directives,n=e.fields;return o(["input",t,o(r," "),a(n)]," ")})),ScalarTypeExtension:function(e){return o(["extend scalar",e.name,o(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,r=e.interfaces,n=e.directives,s=e.fields;return o(["extend type",t,c("implements ",o(r," & ")),o(n," "),a(s)]," ")},InterfaceTypeExtension:function(e){var t=e.name,r=e.directives,n=e.fields;return o(["extend interface",t,o(r," "),a(n)]," ")},UnionTypeExtension:function(e){var t=e.name,r=e.directives,n=e.types;return o(["extend union",t,o(r," "),n&&0!==n.length?"= "+o(n," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,r=e.directives,n=e.values;return o(["extend enum",t,o(r," "),a(n)]," ")},InputObjectTypeExtension:function(e){var t=e.name,r=e.directives,n=e.fields;return o(["extend input",t,o(r," "),a(n)]," ")},DirectiveDefinition:i((function(e){var t=e.name,r=e.arguments,n=e.locations;return"directive @"+t+c("(",o(r,", "),")")+" on "+o(n," | ")}))};function i(e){return function(t){return o([t.description,e(t)],"\n")}}function o(e,t){return e?e.filter((function(e){return e})).join(t||""):""}function a(e){return e&&0!==e.length?"{\n"+u(o(e,"\n"))+"\n}":""}function c(e,t,r){return t?e+t+(r||""):""}function u(e){return e&&"  "+e.replace(/\n/g,"\n  ")}},12412:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Source=void 0;var n,s=(n=r(7706))&&n.__esModule?n:{default:n};t.Source=function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.body=t,this.name=r||"GraphQL request",this.locationOffset=n||{line:1,column:1},this.locationOffset.line>0||(0,s.default)(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||(0,s.default)(0,"column in locationOffset is 1-indexed and must be positive")}},80285:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visit=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,a=void 0,c=Array.isArray(e),u=[e],p=-1,l=[],d=void 0,h=void 0,f=void 0,m=[],g=[],_=e;do{var y=++p===u.length,b=y&&0!==l.length;if(y){if(h=0===g.length?void 0:m[m.length-1],d=f,f=g.pop(),b){if(c)d=d.slice();else{var v={};for(var E in d)d.hasOwnProperty(E)&&(v[E]=d[E]);d=v}for(var S=0,T=0;T<l.length;T++){var w=l[T][0],I=l[T][1];c&&(w-=S),c&&null===I?(d.splice(w,1),S++):d[w]=I}}p=a.index,u=a.keys,l=a.edits,c=a.inArray,a=a.prev}else{if(h=f?c?p:u[p]:void 0,null==(d=f?f[h]:_))continue;f&&m.push(h)}var x=void 0;if(!Array.isArray(d)){if(!s(d))throw new Error("Invalid AST Node: "+JSON.stringify(d));var k=i(t,d.kind,y);if(k){if((x=k.call(t,d,h,f,m,g))===n)break;if(!1===x){if(!y){m.pop();continue}}else if(void 0!==x&&(l.push([h,x]),!y)){if(!s(x)){m.pop();continue}d=x}}}void 0===x&&b&&l.push([h,d]),y?m.pop():(a={inArray:c,index:p,keys:u,edits:l,prev:a},u=(c=Array.isArray(d))?d:o[d.kind]||[],p=-1,l=[],f&&g.push(f),f=d)}while(void 0!==a);return 0!==l.length&&(_=l[l.length-1][1]),_},t.visitInParallel=function(e){var t=new Array(e.length);return{enter:function(r){for(var s=0;s<e.length;s++)if(!t[s]){var o=i(e[s],r.kind,!1);if(o){var a=o.apply(e[s],arguments);if(!1===a)t[s]=r;else if(a===n)t[s]=n;else if(void 0!==a)return a}}},leave:function(r){for(var s=0;s<e.length;s++)if(t[s])t[s]===r&&(t[s]=null);else{var o=i(e[s],r.kind,!0);if(o){var a=o.apply(e[s],arguments);if(a===n)t[s]=n;else if(void 0!==a&&!1!==a)return a}}}}},t.visitWithTypeInfo=function(e,t){return{enter:function(r){e.enter(r);var n=i(t,r.kind,!1);if(n){var o=n.apply(t,arguments);return void 0!==o&&(e.leave(r),s(o)&&e.enter(o)),o}},leave:function(r){var n=i(t,r.kind,!0),s=void 0;return n&&(s=n.apply(t,arguments)),e.leave(r),s}}},t.getVisitFn=i;var r=t.QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"]},n=t.BREAK={};function s(e){return Boolean(e&&"string"==typeof e.kind)}function i(e,t,r){var n=e[t];if(n){if(!r&&"function"==typeof n)return n;var s=r?n.leave:n.enter;if("function"==typeof s)return s}else{var i=r?e.leave:e.enter;if(i){if("function"==typeof i)return i;var o=i[t];if("function"==typeof o)return o}}}},55003:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLInputObjectType=t.GraphQLEnumType=t.GraphQLUnionType=t.GraphQLInterfaceType=t.GraphQLObjectType=t.GraphQLScalarType=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.isType=d,t.assertType=h,t.isScalarType=f,t.assertScalarType=function(e){return f(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL Scalar type."),e},t.isObjectType=m,t.assertObjectType=function(e){return m(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL Object type."),e},t.isInterfaceType=g,t.assertInterfaceType=function(e){return g(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL Interface type."),e},t.isUnionType=_,t.assertUnionType=function(e){return _(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL Union type."),e},t.isEnumType=y,t.assertEnumType=function(e){return y(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL Enum type."),e},t.isInputObjectType=b,t.assertInputObjectType=function(e){return b(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL Input Object type."),e},t.isListType=v,t.assertListType=function(e){return v(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL List type."),e},t.isNonNullType=E,t.assertNonNullType=function(e){return E(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL Non-Null type."),e},t.isInputType=S,t.assertInputType=function(e){return S(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL input type."),e},t.isOutputType=T,t.assertOutputType=function(e){return T(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL output type."),e},t.isLeafType=w,t.assertLeafType=function(e){return w(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL leaf type."),e},t.isCompositeType=I,t.assertCompositeType=function(e){return I(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL composite type."),e},t.isAbstractType=x,t.assertAbstractType=function(e){return x(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL abstract type."),e},t.GraphQLList=k,t.GraphQLNonNull=A,t.isWrappingType=R,t.assertWrappingType=function(e){return R(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL wrapping type."),e},t.isNullableType=C,t.assertNullableType=L,t.getNullableType=function(e){if(e)return E(e)?e.ofType:e},t.isNamedType=D,t.assertNamedType=function(e){return D(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL named type."),e},t.getNamedType=function(e){if(e){for(var t=e;R(t);)t=t.ofType;return t}};var i=p(r(85752)),o=p(r(7706)),a=p(r(39573)),c=r(2828),u=r(67784);function p(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return f(e)||m(e)||g(e)||_(e)||y(e)||b(e)||v(e)||E(e)}function h(e){return d(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL type."),e}function f(e){return(0,i.default)(e,P)}function m(e){return(0,i.default)(e,j)}function g(e){return(0,i.default)(e,F)}function _(e){return(0,i.default)(e,$)}function y(e){return(0,i.default)(e,B)}function b(e){return(0,i.default)(e,G)}function v(e){return(0,i.default)(e,k)}function E(e){return(0,i.default)(e,A)}function S(e){return f(e)||y(e)||b(e)||R(e)&&S(e.ofType)}function T(e){return f(e)||m(e)||g(e)||_(e)||y(e)||R(e)&&T(e.ofType)}function w(e){return f(e)||y(e)}function I(e){return m(e)||g(e)||_(e)}function x(e){return g(e)||_(e)}function k(e){if(!(this instanceof k))return new k(e);this.ofType=h(e)}var O=k.prototype;function A(e){if(!(this instanceof A))return new A(e);this.ofType=L(e)}O.toString=O.toJSON=O.inspect=function(){return"["+String(this.ofType)+"]"};var N=A.prototype;function R(e){return v(e)||E(e)}function C(e){return d(e)&&!E(e)}function L(e){return C(e)||(0,o.default)(0,"Expected "+String(e)+" to be a GraphQL nullable type."),e}function D(e){return f(e)||m(e)||g(e)||_(e)||y(e)||b(e)}function M(e){return"function"==typeof e?e():e}N.toString=N.toJSON=N.inspect=function(){return String(this.ofType)+"!"};var P=t.GraphQLScalarType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this._scalarConfig=t,"string"!=typeof t.name&&(0,o.default)(0,"Must provide name."),"function"!=typeof t.serialize&&(0,o.default)(0,this.name+' must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.'),(t.parseValue||t.parseLiteral)&&("function"!=typeof t.parseValue||"function"!=typeof t.parseLiteral)&&(0,o.default)(0,this.name+' must provide both "parseValue" and "parseLiteral" functions.')}return e.prototype.serialize=function(e){return(0,this._scalarConfig.serialize)(e)},e.prototype.parseValue=function(e){var t=this._scalarConfig.parseValue;if(!(0,a.default)(e))return t?t(e):e},e.prototype.parseLiteral=function(e,t){var r=this._scalarConfig.parseLiteral;return r?r(e,t):(0,u.valueFromASTUntyped)(e,t)},e.prototype.toString=function(){return this.name},e}();P.prototype.toJSON=P.prototype.inspect=P.prototype.toString;var j=t.GraphQLObjectType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this.extensionASTNodes=t.extensionASTNodes,this.isTypeOf=t.isTypeOf,this._typeConfig=t,"string"!=typeof t.name&&(0,o.default)(0,"Must provide name."),t.isTypeOf&&"function"!=typeof t.isTypeOf&&(0,o.default)(0,this.name+' must provide "isTypeOf" as a function.')}return e.prototype.getFields=function(){return this._fields||(this._fields=q(this,this._typeConfig.fields))},e.prototype.getInterfaces=function(){return this._interfaces||(this._interfaces=(this,e=M(this._typeConfig.interfaces)||[],Array.isArray(e)||(0,o.default)(0,this.name+" interfaces must be an Array or a function which returns an Array."),e));var e},e.prototype.toString=function(){return this.name},e}();function q(e,t){var r=M(t)||{};U(r)||(0,o.default)(0,e.name+" fields must be an object with field names as keys or a function which returns such an object.");var n=Object.create(null);return Object.keys(r).forEach((function(t){var i=r[t];U(i)||(0,o.default)(0,e.name+"."+t+" field config must be an object"),i.hasOwnProperty("isDeprecated")&&(0,o.default)(0,e.name+"."+t+' should provide "deprecationReason" instead of "isDeprecated".');var a,c=s({},i,{isDeprecated:Boolean(i.deprecationReason),name:t});null!=(a=c.resolve)&&"function"!=typeof a&&(0,o.default)(0,e.name+"."+t+" field resolver must be a function if provided, but got: "+String(c.resolve)+".");var u=i.args;u?(U(u)||(0,o.default)(0,e.name+"."+t+" args must be an object with argument names as keys."),c.args=Object.keys(u).map((function(e){var t=u[e];return{name:e,description:void 0===t.description?null:t.description,type:t.type,defaultValue:t.defaultValue,astNode:t.astNode}}))):c.args=[],n[t]=c})),n}function U(e){return e&&"object"===(void 0===e?"undefined":n(e))&&!Array.isArray(e)}j.prototype.toJSON=j.prototype.inspect=j.prototype.toString;var F=t.GraphQLInterfaceType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this.extensionASTNodes=t.extensionASTNodes,this.resolveType=t.resolveType,this._typeConfig=t,"string"!=typeof t.name&&(0,o.default)(0,"Must provide name."),t.resolveType&&"function"!=typeof t.resolveType&&(0,o.default)(0,this.name+' must provide "resolveType" as a function.')}return e.prototype.getFields=function(){return this._fields||(this._fields=q(this,this._typeConfig.fields))},e.prototype.toString=function(){return this.name},e}();F.prototype.toJSON=F.prototype.inspect=F.prototype.toString;var $=t.GraphQLUnionType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this.resolveType=t.resolveType,this._typeConfig=t,"string"!=typeof t.name&&(0,o.default)(0,"Must provide name."),t.resolveType&&"function"!=typeof t.resolveType&&(0,o.default)(0,this.name+' must provide "resolveType" as a function.')}return e.prototype.getTypes=function(){return this._types||(this._types=(this,e=M(this._typeConfig.types)||[],Array.isArray(e)||(0,o.default)(0,"Must provide Array of types or a function which returns such an array for Union "+this.name+"."),e));var e},e.prototype.toString=function(){return this.name},e}();$.prototype.toJSON=$.prototype.inspect=$.prototype.toString;var B=t.GraphQLEnumType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this._enumConfig=t,"string"!=typeof t.name&&(0,o.default)(0,"Must provide name.")}return e.prototype.getValues=function(){return this._values||(this._values=(e=this,U(t=this._enumConfig.values)||(0,o.default)(0,e.name+" values must be an object with value names as keys."),Object.keys(t).map((function(r){var n=t[r];return U(n)||(0,o.default)(0,e.name+"."+r+' must refer to an object with a "value" key representing an internal value but got: '+String(n)+"."),n.hasOwnProperty("isDeprecated")&&(0,o.default)(0,e.name+"."+r+' should provide "deprecationReason" instead of "isDeprecated".'),{name:r,description:n.description,isDeprecated:Boolean(n.deprecationReason),deprecationReason:n.deprecationReason,astNode:n.astNode,value:n.hasOwnProperty("value")?n.value:r}}))));var e,t},e.prototype.getValue=function(e){return this._getNameLookup()[e]},e.prototype.serialize=function(e){var t=this._getValueLookup().get(e);if(t)return t.name},e.prototype.parseValue=function(e){if("string"==typeof e){var t=this._getNameLookup()[e];if(t)return t.value}},e.prototype.parseLiteral=function(e,t){if(e.kind===c.Kind.ENUM){var r=this._getNameLookup()[e.value];if(r)return r.value}},e.prototype._getValueLookup=function(){if(!this._valueLookup){var e=new Map;this.getValues().forEach((function(t){e.set(t.value,t)})),this._valueLookup=e}return this._valueLookup},e.prototype._getNameLookup=function(){if(!this._nameLookup){var e=Object.create(null);this.getValues().forEach((function(t){e[t.name]=t})),this._nameLookup=e}return this._nameLookup},e.prototype.toString=function(){return this.name},e}();B.prototype.toJSON=B.prototype.inspect=B.prototype.toString;var G=t.GraphQLInputObjectType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this._typeConfig=t,"string"!=typeof t.name&&(0,o.default)(0,"Must provide name.")}return e.prototype.getFields=function(){return this._fields||(this._fields=this._defineFieldMap())},e.prototype._defineFieldMap=function(){var e=this,t=M(this._typeConfig.fields)||{};U(t)||(0,o.default)(0,this.name+" fields must be an object with field names as keys or a function which returns such an object.");var r=Object.create(null);return Object.keys(t).forEach((function(n){var i=s({},t[n],{name:n});i.hasOwnProperty("resolve")&&(0,o.default)(0,e.name+"."+n+" field type has a resolve property, but Input Types cannot define resolvers."),r[n]=i})),r},e.prototype.toString=function(){return this.name},e}();G.prototype.toJSON=G.prototype.toString,G.prototype.inspect=G.prototype.toString},27197:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.specifiedDirectives=t.GraphQLDeprecatedDirective=t.DEFAULT_DEPRECATION_REASON=t.GraphQLSkipDirective=t.GraphQLIncludeDirective=t.GraphQLDirective=void 0,t.isDirective=function(e){return(0,i.default)(e,u)},t.isSpecifiedDirective=function(e){return f.some((function(t){return t.name===e.name}))};var n=r(55003),s=r(52229),i=c(r(85752)),o=c(r(7706)),a=r(78333);function c(e){return e&&e.__esModule?e:{default:e}}var u=t.GraphQLDirective=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t.name,this.description=t.description,this.locations=t.locations,this.astNode=t.astNode,t.name||(0,o.default)(0,"Directive must be named."),Array.isArray(t.locations)||(0,o.default)(0,"Must provide locations for directive.");var r=t.args;r?(Array.isArray(r)&&(0,o.default)(0,"@"+t.name+" args must be an object with argument names as keys."),this.args=Object.keys(r).map((function(e){var t=r[e];return{name:e,description:void 0===t.description?null:t.description,type:t.type,defaultValue:t.defaultValue,astNode:t.astNode}}))):this.args=[]},p=t.GraphQLIncludeDirective=new u({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[a.DirectiveLocation.FIELD,a.DirectiveLocation.FRAGMENT_SPREAD,a.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:(0,n.GraphQLNonNull)(s.GraphQLBoolean),description:"Included when true."}}}),l=t.GraphQLSkipDirective=new u({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[a.DirectiveLocation.FIELD,a.DirectiveLocation.FRAGMENT_SPREAD,a.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:(0,n.GraphQLNonNull)(s.GraphQLBoolean),description:"Skipped when true."}}}),d=t.DEFAULT_DEPRECATION_REASON="No longer supported",h=t.GraphQLDeprecatedDirective=new u({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[a.DirectiveLocation.FIELD_DEFINITION,a.DirectiveLocation.ENUM_VALUE],args:{reason:{type:s.GraphQLString,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted in [Markdown](https://daringfireball.net/projects/markdown/).",defaultValue:d}}}),f=t.specifiedDirectives=[p,l,h]},98155:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.introspectionTypes=t.TypeNameMetaFieldDef=t.TypeMetaFieldDef=t.SchemaMetaFieldDef=t.__TypeKind=t.TypeKind=t.__EnumValue=t.__InputValue=t.__Field=t.__Type=t.__DirectiveLocation=t.__Directive=t.__Schema=void 0,t.isIntrospectionType=function(e){return(0,a.isNamedType)(e)&&(e.name===l.name||e.name===d.name||e.name===h.name||e.name===f.name||e.name===m.name||e.name===g.name||e.name===_.name||e.name===b.name)};var n=p(r(39573)),s=p(r(8836)),i=r(68115),o=r(23033),a=r(55003),c=r(52229),u=r(78333);function p(e){return e&&e.__esModule?e:{default:e}}var l=t.__Schema=new a.GraphQLObjectType({name:"__Schema",isIntrospection:!0,description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:function(){return{types:{description:"A list of all types supported by this server.",type:(0,a.GraphQLNonNull)((0,a.GraphQLList)((0,a.GraphQLNonNull)(f))),resolve:function(e){return(0,s.default)(e.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:(0,a.GraphQLNonNull)(f),resolve:function(e){return e.getQueryType()}},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:f,resolve:function(e){return e.getMutationType()}},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:f,resolve:function(e){return e.getSubscriptionType()}},directives:{description:"A list of all directives supported by this server.",type:(0,a.GraphQLNonNull)((0,a.GraphQLList)((0,a.GraphQLNonNull)(d))),resolve:function(e){return e.getDirectives()}}}}}),d=t.__Directive=new a.GraphQLObjectType({name:"__Directive",isIntrospection:!0,description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:function(){return{name:{type:(0,a.GraphQLNonNull)(c.GraphQLString)},description:{type:c.GraphQLString},locations:{type:(0,a.GraphQLNonNull)((0,a.GraphQLList)((0,a.GraphQLNonNull)(h)))},args:{type:(0,a.GraphQLNonNull)((0,a.GraphQLList)((0,a.GraphQLNonNull)(g))),resolve:function(e){return e.args||[]}},onOperation:{deprecationReason:"Use `locations`.",type:(0,a.GraphQLNonNull)(c.GraphQLBoolean),resolve:function(e){return-1!==e.locations.indexOf(u.DirectiveLocation.QUERY)||-1!==e.locations.indexOf(u.DirectiveLocation.MUTATION)||-1!==e.locations.indexOf(u.DirectiveLocation.SUBSCRIPTION)}},onFragment:{deprecationReason:"Use `locations`.",type:(0,a.GraphQLNonNull)(c.GraphQLBoolean),resolve:function(e){return-1!==e.locations.indexOf(u.DirectiveLocation.FRAGMENT_SPREAD)||-1!==e.locations.indexOf(u.DirectiveLocation.INLINE_FRAGMENT)||-1!==e.locations.indexOf(u.DirectiveLocation.FRAGMENT_DEFINITION)}},onField:{deprecationReason:"Use `locations`.",type:(0,a.GraphQLNonNull)(c.GraphQLBoolean),resolve:function(e){return-1!==e.locations.indexOf(u.DirectiveLocation.FIELD)}}}}}),h=t.__DirectiveLocation=new a.GraphQLEnumType({name:"__DirectiveLocation",isIntrospection:!0,description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:u.DirectiveLocation.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:u.DirectiveLocation.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:u.DirectiveLocation.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:u.DirectiveLocation.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:u.DirectiveLocation.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:u.DirectiveLocation.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:u.DirectiveLocation.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},SCHEMA:{value:u.DirectiveLocation.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:u.DirectiveLocation.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:u.DirectiveLocation.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:u.DirectiveLocation.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:u.DirectiveLocation.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:u.DirectiveLocation.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:u.DirectiveLocation.UNION,description:"Location adjacent to a union definition."},ENUM:{value:u.DirectiveLocation.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:u.DirectiveLocation.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:u.DirectiveLocation.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:u.DirectiveLocation.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),f=t.__Type=new a.GraphQLObjectType({name:"__Type",isIntrospection:!0,description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name and description, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:function(){return{kind:{type:(0,a.GraphQLNonNull)(b),resolve:function(e){if((0,a.isScalarType)(e))return y.SCALAR;if((0,a.isObjectType)(e))return y.OBJECT;if((0,a.isInterfaceType)(e))return y.INTERFACE;if((0,a.isUnionType)(e))return y.UNION;if((0,a.isEnumType)(e))return y.ENUM;if((0,a.isInputObjectType)(e))return y.INPUT_OBJECT;if((0,a.isListType)(e))return y.LIST;if((0,a.isNonNullType)(e))return y.NON_NULL;throw new Error("Unknown kind of type: "+e)}},name:{type:c.GraphQLString},description:{type:c.GraphQLString},fields:{type:(0,a.GraphQLList)((0,a.GraphQLNonNull)(m)),args:{includeDeprecated:{type:c.GraphQLBoolean,defaultValue:!1}},resolve:function(e,t){var r=t.includeDeprecated;if((0,a.isObjectType)(e)||(0,a.isInterfaceType)(e)){var n=(0,s.default)(e.getFields());return r||(n=n.filter((function(e){return!e.deprecationReason}))),n}return null}},interfaces:{type:(0,a.GraphQLList)((0,a.GraphQLNonNull)(f)),resolve:function(e){if((0,a.isObjectType)(e))return e.getInterfaces()}},possibleTypes:{type:(0,a.GraphQLList)((0,a.GraphQLNonNull)(f)),resolve:function(e,t,r,n){var s=n.schema;if((0,a.isAbstractType)(e))return s.getPossibleTypes(e)}},enumValues:{type:(0,a.GraphQLList)((0,a.GraphQLNonNull)(_)),args:{includeDeprecated:{type:c.GraphQLBoolean,defaultValue:!1}},resolve:function(e,t){var r=t.includeDeprecated;if((0,a.isEnumType)(e)){var n=e.getValues();return r||(n=n.filter((function(e){return!e.deprecationReason}))),n}}},inputFields:{type:(0,a.GraphQLList)((0,a.GraphQLNonNull)(g)),resolve:function(e){if((0,a.isInputObjectType)(e))return(0,s.default)(e.getFields())}},ofType:{type:f}}}}),m=t.__Field=new a.GraphQLObjectType({name:"__Field",isIntrospection:!0,description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:function(){return{name:{type:(0,a.GraphQLNonNull)(c.GraphQLString)},description:{type:c.GraphQLString},args:{type:(0,a.GraphQLNonNull)((0,a.GraphQLList)((0,a.GraphQLNonNull)(g))),resolve:function(e){return e.args||[]}},type:{type:(0,a.GraphQLNonNull)(f)},isDeprecated:{type:(0,a.GraphQLNonNull)(c.GraphQLBoolean)},deprecationReason:{type:c.GraphQLString}}}}),g=t.__InputValue=new a.GraphQLObjectType({name:"__InputValue",isIntrospection:!0,description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:function(){return{name:{type:(0,a.GraphQLNonNull)(c.GraphQLString)},description:{type:c.GraphQLString},type:{type:(0,a.GraphQLNonNull)(f)},defaultValue:{type:c.GraphQLString,description:"A GraphQL-formatted string representing the default value for this input value.",resolve:function(e){return(0,n.default)(e.defaultValue)?null:(0,o.print)((0,i.astFromValue)(e.defaultValue,e.type))}}}}}),_=t.__EnumValue=new a.GraphQLObjectType({name:"__EnumValue",isIntrospection:!0,description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:function(){return{name:{type:(0,a.GraphQLNonNull)(c.GraphQLString)},description:{type:c.GraphQLString},isDeprecated:{type:(0,a.GraphQLNonNull)(c.GraphQLBoolean)},deprecationReason:{type:c.GraphQLString}}}}),y=t.TypeKind={SCALAR:"SCALAR",OBJECT:"OBJECT",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",INPUT_OBJECT:"INPUT_OBJECT",LIST:"LIST",NON_NULL:"NON_NULL"},b=t.__TypeKind=new a.GraphQLEnumType({name:"__TypeKind",isIntrospection:!0,description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:y.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:y.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:y.INTERFACE,description:"Indicates this type is an interface. `fields` and `possibleTypes` are valid fields."},UNION:{value:y.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:y.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:y.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:y.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:y.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}});t.SchemaMetaFieldDef={name:"__schema",type:(0,a.GraphQLNonNull)(l),description:"Access the current type schema of this server.",args:[],resolve:function(e,t,r,n){return n.schema}},t.TypeMetaFieldDef={name:"__type",type:f,description:"Request the type information of a single type.",args:[{name:"name",type:(0,a.GraphQLNonNull)(c.GraphQLString)}],resolve:function(e,t,r,n){var s=t.name;return n.schema.getType(s)}},t.TypeNameMetaFieldDef={name:"__typename",type:(0,a.GraphQLNonNull)(c.GraphQLString),description:"The name of the current Object type at runtime.",args:[],resolve:function(e,t,r,n){return n.parentType.name}},t.introspectionTypes=[l,d,h,f,m,g,_,b]},52229:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.specifiedScalarTypes=t.GraphQLID=t.GraphQLBoolean=t.GraphQLString=t.GraphQLFloat=t.GraphQLInt=void 0,t.isSpecifiedScalarType=function(e){return(0,n.isNamedType)(e)&&(e.name===d.name||e.name===c.name||e.name===p.name||e.name===h.name||e.name===f.name)};var n=r(55003),s=r(2828),i=2147483647,o=-2147483648;function a(e){if(""===e)throw new TypeError("Int cannot represent non 32-bit signed integer value: (empty string)");var t=Number(e);if(t!=t||t>i||t<o)throw new TypeError("Int cannot represent non 32-bit signed integer value: "+String(e));var r=Math.floor(t);if(r!==t)throw new TypeError("Int cannot represent non-integer value: "+String(e));return r}var c=t.GraphQLInt=new n.GraphQLScalarType({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1. ",serialize:a,parseValue:a,parseLiteral:function(e){if(e.kind===s.Kind.INT){var t=parseInt(e.value,10);if(t<=i&&t>=o)return t}}});function u(e){if(""===e)throw new TypeError("Float cannot represent non numeric value: (empty string)");var t=Number(e);if(t==t)return t;throw new TypeError("Float cannot represent non numeric value: "+String(e))}var p=t.GraphQLFloat=new n.GraphQLScalarType({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point). ",serialize:u,parseValue:u,parseLiteral:function(e){return e.kind===s.Kind.FLOAT||e.kind===s.Kind.INT?parseFloat(e.value):void 0}});function l(e){if(Array.isArray(e))throw new TypeError("String cannot represent an array value: ["+String(e)+"]");return String(e)}var d=t.GraphQLString=new n.GraphQLScalarType({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize:l,parseValue:l,parseLiteral:function(e){return e.kind===s.Kind.STRING?e.value:void 0}}),h=t.GraphQLBoolean=new n.GraphQLScalarType({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize:Boolean,parseValue:Boolean,parseLiteral:function(e){return e.kind===s.Kind.BOOLEAN?e.value:void 0}}),f=t.GraphQLID=new n.GraphQLScalarType({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize:String,parseValue:String,parseLiteral:function(e){return e.kind===s.Kind.STRING||e.kind===s.Kind.INT?e.value:void 0}});t.specifiedScalarTypes=[d,c,p,h,f]},26829:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLSchema=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isSchema=function(e){return(0,c.default)(e,d)};var s=r(55003),i=r(27197),o=r(98155),a=l(r(11771)),c=l(r(85752)),u=l(r(7706)),p=l(r(8836));function l(e){return e&&e.__esModule?e:{default:e}}var d=t.GraphQLSchema=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&t.assumeValid?this.__validationErrors=[]:("object"!==(void 0===t?"undefined":n(t))&&(0,u.default)(0,"Must provide configuration object."),t.types&&!Array.isArray(t.types)&&(0,u.default)(0,'"types" must be Array if provided but got: '+String(t.types)+"."),t.directives&&!Array.isArray(t.directives)&&(0,u.default)(0,'"directives" must be Array if provided but got: '+String(t.directives)+"."),t.allowedLegacyNames&&!Array.isArray(t.allowedLegacyNames)&&(0,u.default)(0,'"allowedLegacyNames" must be Array if provided but got: '+String(t.allowedLegacyNames)+".")),this.__allowedLegacyNames=t.allowedLegacyNames,this._queryType=t.query,this._mutationType=t.mutation,this._subscriptionType=t.subscription,this._directives=t.directives||i.specifiedDirectives,this.astNode=t.astNode;var a=[this.getQueryType(),this.getMutationType(),this.getSubscriptionType(),o.__Schema],c=t.types;c&&(a=a.concat(c));var p=Object.create(null);p=a.reduce(h,p),p=this._directives.reduce(f,p),this._typeMap=p,this._implementations=Object.create(null),Object.keys(this._typeMap).forEach((function(e){var t=r._typeMap[e];(0,s.isObjectType)(t)&&t.getInterfaces().forEach((function(e){if((0,s.isInterfaceType)(e)){var n=r._implementations[e.name];n?n.push(t):r._implementations[e.name]=[t]}}))}))}return e.prototype.getQueryType=function(){return this._queryType},e.prototype.getMutationType=function(){return this._mutationType},e.prototype.getSubscriptionType=function(){return this._subscriptionType},e.prototype.getTypeMap=function(){return this._typeMap},e.prototype.getType=function(e){return this.getTypeMap()[e]},e.prototype.getPossibleTypes=function(e){return(0,s.isUnionType)(e)?e.getTypes():this._implementations[e.name]},e.prototype.isPossibleType=function(e,t){var r=this._possibleTypeMap;if(r||(this._possibleTypeMap=r=Object.create(null)),!r[e.name]){var n=this.getPossibleTypes(e);Array.isArray(n)||(0,u.default)(0,"Could not find possible implementing types for "+e.name+" in schema. Check that schema.types is defined and is an array of all possible types in the schema."),r[e.name]=n.reduce((function(e,t){return e[t.name]=!0,e}),Object.create(null))}return Boolean(r[e.name][t.name])},e.prototype.getDirectives=function(){return this._directives},e.prototype.getDirective=function(e){return(0,a.default)(this.getDirectives(),(function(t){return t.name===e}))},e}();function h(e,t){if(!t)return e;if((0,s.isWrappingType)(t))return h(e,t.ofType);if(e[t.name])return e[t.name]!==t&&(0,u.default)(0,'Schema must contain unique named types but contains multiple types named "'+t.name+'".'),e;e[t.name]=t;var r=e;return(0,s.isUnionType)(t)&&(r=t.getTypes().reduce(h,r)),(0,s.isObjectType)(t)&&(r=t.getInterfaces().reduce(h,r)),((0,s.isObjectType)(t)||(0,s.isInterfaceType)(t))&&(0,p.default)(t.getFields()).forEach((function(e){if(e.args){var t=e.args.map((function(e){return e.type}));r=t.reduce(h,r)}r=h(r,e.type)})),(0,s.isInputObjectType)(t)&&(0,p.default)(t.getFields()).forEach((function(e){r=h(r,e.type)})),r}function f(e,t){return(0,i.isDirective)(t)?t.args.reduce((function(e,t){return h(e,t.type)}),e):e}},51671:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchema=f,t.assertValidSchema=function(e){var t=f(e);if(0!==t.length)throw new Error(t.map((function(e){return e.message})).join("\n\n"))};var n=r(55003),s=r(27197),i=r(98155),o=r(26829),a=h(r(11771)),c=h(r(7706)),u=h(r(8836)),p=r(65822),l=r(26526),d=r(80298);function h(e){return e&&e.__esModule?e:{default:e}}function f(e){if((0,o.isSchema)(e)||(0,c.default)(0,"Expected "+String(e)+" to be a GraphQL schema."),e.__validationErrors)return e.__validationErrors;var t=new m(e);!function(e){var t=e.schema,r=t.getQueryType();r?(0,n.isObjectType)(r)||e.reportError("Query root type must be Object type, it cannot be "+String(r)+".",g(t,r,"query")):e.reportError("Query root type must be provided.",t.astNode);var s=t.getMutationType();s&&!(0,n.isObjectType)(s)&&e.reportError("Mutation root type must be Object type if provided, it cannot be "+String(s)+".",g(t,s,"mutation"));var i=t.getSubscriptionType();i&&!(0,n.isObjectType)(i)&&e.reportError("Subscription root type must be Object type if provided, it cannot be "+String(i)+".",g(t,i,"subscription"))}(t),function(e){e.schema.getDirectives().forEach((function(t){if((0,s.isDirective)(t)){_(e,t);var r=Object.create(null);t.args.forEach((function(s){var i=s.name;_(e,s),r[i]?e.reportError("Argument @"+t.name+"("+i+":) can only be defined once.",k(t,i)):(r[i]=!0,(0,n.isInputType)(s.type)||e.reportError("The type of @"+t.name+"("+i+":) must be Input Type but got: "+String(s.type)+".",function(e,t){var r=k(e,t)[0];return r&&r.type}(t,i)))}))}else e.reportError("Expected directive but got: "+String(t)+".",t&&t.astNode)}))}(t),function(e){var t=e.schema.getTypeMap();(0,u.default)(t).forEach((function(t){(0,n.isNamedType)(t)?((0,i.isIntrospectionType)(t)||_(e,t),(0,n.isObjectType)(t)?(y(e,t),function(e,t){var r=Object.create(null);t.getInterfaces().forEach((function(s){(0,n.isInterfaceType)(s)?r[s.name]?e.reportError("Type "+t.name+" can only implement "+s.name+" once.",v(t,s)):(r[s.name]=!0,function(e,t,r){var s=t.getFields(),i=r.getFields();Object.keys(i).forEach((function(o){var c=s[o],u=i[o];c?((0,d.isTypeSubTypeOf)(e.schema,c.type,u.type)||e.reportError("Interface field "+r.name+"."+o+" expects type "+String(u.type)+" but "+t.name+"."+o+" is type "+String(c.type)+".",[T(r,o),T(t,o)]),u.args.forEach((function(n){var s=n.name,i=(0,a.default)(c.args,(function(e){return e.name===s}));i?(0,d.isEqualType)(n.type,i.type)||e.reportError("Interface field argument "+r.name+"."+o+"("+s+":) expects type "+String(n.type)+" but "+t.name+"."+o+"("+s+":) is type "+String(i.type)+".",[x(r,o,s),x(t,o,s)]):e.reportError("Interface field argument "+r.name+"."+o+"("+s+":) expected but "+t.name+"."+o+" does not provide it.",[w(r,o,s),E(t,o)])})),c.args.forEach((function(s){var i=s.name;!(0,a.default)(u.args,(function(e){return e.name===i}))&&(0,n.isNonNullType)(s.type)&&e.reportError("Object field argument "+t.name+"."+o+"("+i+":) is of required type "+String(s.type)+" but is not also provided by the Interface field "+r.name+"."+o+".",[x(t,o,i),E(r,o)])}))):e.reportError("Interface field "+r.name+"."+o+" expected but "+t.name+" does not provide it.",[E(r,o),t.astNode])}))}(e,t,s)):e.reportError("Type "+String(t)+" must only implement Interface types, it cannot implement "+String(s)+".",function(e,t){return v(e,t)[0]}(t,s))}))}(e,t)):(0,n.isInterfaceType)(t)?y(e,t):(0,n.isUnionType)(t)?function(e,t){var r=t.getTypes();0===r.length&&e.reportError("Union type "+t.name+" must define one or more member types.",t.astNode);var s=Object.create(null);r.forEach((function(r){s[r.name]?e.reportError("Union type "+t.name+" can only include type "+r.name+" once.",O(t,r.name)):(s[r.name]=!0,(0,n.isObjectType)(r)||e.reportError("Union type "+t.name+" can only include Object types, it cannot include "+String(r)+".",O(t,String(r))))}))}(e,t):(0,n.isEnumType)(t)?function(e,t){var r=t.getValues();0===r.length&&e.reportError("Enum type "+t.name+" must define one or more values.",t.astNode),r.forEach((function(r){var n=r.name,s=function(e,t){return e.astNode&&e.astNode.values&&e.astNode.values.filter((function(e){return e.name.value===t}))}(t,n);s&&s.length>1&&e.reportError("Enum type "+t.name+" can include value "+n+" only once.",s),_(e,r),"true"!==n&&"false"!==n&&"null"!==n||e.reportError("Enum type "+t.name+" cannot include value: "+n+".",r.astNode)}))}(e,t):(0,n.isInputObjectType)(t)&&function(e,t){var r=(0,u.default)(t.getFields());0===r.length&&e.reportError("Input Object type "+t.name+" must define one or more fields.",t.astNode),r.forEach((function(r){_(e,r),(0,n.isInputType)(r.type)||e.reportError("The type of "+t.name+"."+r.name+" must be Input Type but got: "+String(r.type)+".",r.astNode&&r.astNode.type)}))}(e,t)):e.reportError("Expected GraphQL named type but got: "+String(t)+".",t&&t.astNode)}))}(t);var r=t.getErrors();return e.__validationErrors=r,r}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._errors=[],this.schema=t}return e.prototype.reportError=function(e,t){var r=(Array.isArray(t)?t:[t]).filter(Boolean);this.addError(new p.GraphQLError(e,r))},e.prototype.addError=function(e){this._errors.push(e)},e.prototype.getErrors=function(){return this._errors},e}();function g(e,t,r){var n=e.astNode,s=n&&n.operationTypes.find((function(e){return e.operation===r}));return s?s.type:t&&t.astNode}function _(e,t){if(!e.schema.__allowedLegacyNames||-1===e.schema.__allowedLegacyNames.indexOf(t.name)){var r=(0,l.isValidNameError)(t.name,t.astNode||void 0);r&&e.addError(r)}}function y(e,t){var r=(0,u.default)(t.getFields());0===r.length&&e.reportError("Type "+t.name+" must define one or more fields.",b(t)),r.forEach((function(r){_(e,r);var s=S(t,r.name);if(s.length>1)e.reportError("Field "+t.name+"."+r.name+" can only be defined once.",s);else{(0,n.isOutputType)(r.type)||e.reportError("The type of "+t.name+"."+r.name+" must be Output Type but got: "+String(r.type)+".",T(t,r.name));var i=Object.create(null);r.args.forEach((function(s){var o=s.name;_(e,s),i[o]&&e.reportError("Field argument "+t.name+"."+r.name+"("+o+":) can only be defined once.",I(t,r.name,o)),i[o]=!0,(0,n.isInputType)(s.type)||e.reportError("The type of "+t.name+"."+r.name+"("+o+":) must be Input Type but got: "+String(s.type)+".",x(t,r.name,o))}))}}))}function b(e){return e.astNode?e.extensionASTNodes?[e.astNode].concat(e.extensionASTNodes):[e.astNode]:e.extensionASTNodes||[]}function v(e,t){for(var r=[],n=function(e){return e.astNode?e.extensionASTNodes?[e.astNode].concat(e.extensionASTNodes):[e.astNode]:e.extensionASTNodes||[]}(e),s=0;s<n.length;s++){var i=n[s];i&&i.interfaces&&i.interfaces.forEach((function(e){e.name.value===t.name&&r.push(e)}))}return r}function E(e,t){return S(e,t)[0]}function S(e,t){for(var r=[],n=b(e),s=0;s<n.length;s++){var i=n[s];i&&i.fields&&i.fields.forEach((function(e){e.name.value===t&&r.push(e)}))}return r}function T(e,t){var r=E(e,t);return r&&r.type}function w(e,t,r){return I(e,t,r)[0]}function I(e,t,r){var n=[],s=E(e,t);return s&&s.arguments&&s.arguments.forEach((function(e){e.name.value===r&&n.push(e)})),n}function x(e,t,r){var n=w(e,t,r);return n&&n.type}function k(e,t){var r=[],n=e.astNode;return n&&n.arguments&&n.arguments.forEach((function(e){e.name.value===t&&r.push(e)})),r}function O(e,t){return e.astNode&&e.astNode.types&&e.astNode.types.filter((function(e){return e.name.value===t}))}},36226:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeInfo=void 0;var n,s=r(2828),i=r(55003),o=r(98155),a=r(85115),c=(n=r(11771))&&n.__esModule?n:{default:n};function u(e,t,r){var n=r.name.value;return n===o.SchemaMetaFieldDef.name&&e.getQueryType()===t?o.SchemaMetaFieldDef:n===o.TypeMetaFieldDef.name&&e.getQueryType()===t?o.TypeMetaFieldDef:n===o.TypeNameMetaFieldDef.name&&(0,i.isCompositeType)(t)?o.TypeNameMetaFieldDef:(0,i.isObjectType)(t)||(0,i.isInterfaceType)(t)?t.getFields()[n]:void 0}t.TypeInfo=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._schema=t,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=r||u,n&&((0,i.isInputType)(n)&&this._inputTypeStack.push(n),(0,i.isCompositeType)(n)&&this._parentTypeStack.push(n),(0,i.isOutputType)(n)&&this._typeStack.push(n))}return e.prototype.getType=function(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]},e.prototype.getParentType=function(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]},e.prototype.getInputType=function(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]},e.prototype.getParentInputType=function(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]},e.prototype.getFieldDef=function(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]},e.prototype.getDirective=function(){return this._directive},e.prototype.getArgument=function(){return this._argument},e.prototype.getEnumValue=function(){return this._enumValue},e.prototype.enter=function(e){var t=this._schema;switch(e.kind){case s.Kind.SELECTION_SET:var r=(0,i.getNamedType)(this.getType());this._parentTypeStack.push((0,i.isCompositeType)(r)?r:void 0);break;case s.Kind.FIELD:var n=this.getParentType(),o=void 0,u=void 0;n&&(o=this._getFieldDef(t,n,e))&&(u=o.type),this._fieldDefStack.push(o),this._typeStack.push((0,i.isOutputType)(u)?u:void 0);break;case s.Kind.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case s.Kind.OPERATION_DEFINITION:var p=void 0;"query"===e.operation?p=t.getQueryType():"mutation"===e.operation?p=t.getMutationType():"subscription"===e.operation&&(p=t.getSubscriptionType()),this._typeStack.push((0,i.isObjectType)(p)?p:void 0);break;case s.Kind.INLINE_FRAGMENT:case s.Kind.FRAGMENT_DEFINITION:var l=e.typeCondition,d=l?(0,a.typeFromAST)(t,l):(0,i.getNamedType)(this.getType());this._typeStack.push((0,i.isOutputType)(d)?d:void 0);break;case s.Kind.VARIABLE_DEFINITION:var h=(0,a.typeFromAST)(t,e.type);this._inputTypeStack.push((0,i.isInputType)(h)?h:void 0);break;case s.Kind.ARGUMENT:var f=void 0,m=void 0,g=this.getDirective()||this.getFieldDef();g&&(f=(0,c.default)(g.args,(function(t){return t.name===e.name.value})))&&(m=f.type),this._argument=f,this._inputTypeStack.push((0,i.isInputType)(m)?m:void 0);break;case s.Kind.LIST:var _=(0,i.getNullableType)(this.getInputType()),y=(0,i.isListType)(_)?_.ofType:_;this._inputTypeStack.push((0,i.isInputType)(y)?y:void 0);break;case s.Kind.OBJECT_FIELD:var b=(0,i.getNamedType)(this.getInputType()),v=void 0;if((0,i.isInputObjectType)(b)){var E=b.getFields()[e.name.value];E&&(v=E.type)}this._inputTypeStack.push((0,i.isInputType)(v)?v:void 0);break;case s.Kind.ENUM:var S=(0,i.getNamedType)(this.getInputType()),T=void 0;(0,i.isEnumType)(S)&&(T=S.getValue(e.value)),this._enumValue=T}},e.prototype.leave=function(e){switch(e.kind){case s.Kind.SELECTION_SET:this._parentTypeStack.pop();break;case s.Kind.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case s.Kind.DIRECTIVE:this._directive=null;break;case s.Kind.OPERATION_DEFINITION:case s.Kind.INLINE_FRAGMENT:case s.Kind.FRAGMENT_DEFINITION:this._typeStack.pop();break;case s.Kind.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case s.Kind.ARGUMENT:this._argument=null,this._inputTypeStack.pop();break;case s.Kind.LIST:case s.Kind.OBJECT_FIELD:this._inputTypeStack.pop();break;case s.Kind.ENUM:this._enumValue=null}},e}()},26526:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertValidName=function(e){var t=a(e);if(t)throw t;return e},t.isValidNameError=a;var n,s=r(65822),i=(n=r(7706))&&n.__esModule?n:{default:n},o=/^[_a-zA-Z][_a-zA-Z0-9]*$/;function a(e,t){return"string"!=typeof e&&(0,i.default)(0,"Expected string"),e.length>1&&"_"===e[0]&&"_"===e[1]?new s.GraphQLError('Name "'+e+'" must not begin with "__", which is reserved by GraphQL introspection.',t):o.test(e)?void 0:new s.GraphQLError('Names must match /^[_a-zA-Z][_a-zA-Z0-9]*$/ but "'+e+'" does not.',t)}},68115:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.astFromValue=function e(t,r){if((0,u.isNonNullType)(r)){var l=e(t,r.ofType);return l&&l.kind===c.Kind.NULL?null:l}if(null===t)return{kind:c.Kind.NULL};if((0,o.default)(t))return null;if((0,u.isListType)(r)){var h=r.ofType;if((0,s.isCollection)(t)){var f=[];return(0,s.forEach)(t,(function(t){var r=e(t,h);r&&f.push(r)})),{kind:c.Kind.LIST,values:f}}return e(t,h)}if((0,u.isInputObjectType)(r)){if(null===t||"object"!==(void 0===t?"undefined":n(t)))return null;var m=(0,a.default)(r.getFields()),g=[];return m.forEach((function(r){var n=e(t[r.name],r.type);n&&g.push({kind:c.Kind.OBJECT_FIELD,name:{kind:c.Kind.NAME,value:r.name},value:n})})),{kind:c.Kind.OBJECT,fields:g}}if((0,u.isScalarType)(r)||(0,u.isEnumType)(r)){var _=r.serialize(t);if((0,i.default)(_))return null;if("boolean"==typeof _)return{kind:c.Kind.BOOLEAN,value:_};if("number"==typeof _){var y=String(_);return d.test(y)?{kind:c.Kind.INT,value:y}:{kind:c.Kind.FLOAT,value:y}}if("string"==typeof _)return(0,u.isEnumType)(r)?{kind:c.Kind.ENUM,value:_}:r===p.GraphQLID&&d.test(_)?{kind:c.Kind.INT,value:_}:{kind:c.Kind.STRING,value:_};throw new TypeError("Cannot convert value to AST: "+String(_))}throw new Error("Unknown type: "+r+".")};var s=r(70439),i=l(r(38290)),o=l(r(39573)),a=l(r(8836)),c=r(2828),u=r(55003),p=r(52229);function l(e){return e&&e.__esModule?e:{default:e}}var d=/^-?(0|[1-9][0-9]*)$/},42906:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ASTDefinitionBuilder=void 0,t.buildASTSchema=y,t.getDescription=E,t.buildSchema=function(e,t){return y((0,c.parse)(e,t),t)};var n=g(r(82863)),s=g(r(87154)),i=r(23770),o=g(r(6879)),a=r(54274),c=r(88370),u=r(38840),p=r(2828),l=r(55003),d=r(27197),h=r(98155),f=r(52229),m=r(26829);function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(t.kind===p.Kind.LIST_TYPE)return(0,l.GraphQLList)(_(e,t.type));if(t.kind===p.Kind.NON_NULL_TYPE){var r=_(e,t.type);return(0,l.GraphQLNonNull)((0,l.assertNullableType)(r))}return e}function y(e,t){if(!e||e.kind!==p.Kind.DOCUMENT)throw new Error("Must provide a document ast.");for(var r=void 0,n=[],s=Object.create(null),i=[],o=0;o<e.definitions.length;o++){var a=e.definitions[o];switch(a.kind){case p.Kind.SCHEMA_DEFINITION:if(r)throw new Error("Must provide only one schema definition.");r=a;break;case p.Kind.SCALAR_TYPE_DEFINITION:case p.Kind.OBJECT_TYPE_DEFINITION:case p.Kind.INTERFACE_TYPE_DEFINITION:case p.Kind.ENUM_TYPE_DEFINITION:case p.Kind.UNION_TYPE_DEFINITION:case p.Kind.INPUT_OBJECT_TYPE_DEFINITION:var c=a.name.value;if(s[c])throw new Error('Type "'+c+'" was defined more than once.');n.push(a),s[c]=a;break;case p.Kind.DIRECTIVE_DEFINITION:i.push(a)}}var u,l=r?(u={},r.operationTypes.forEach((function(e){var t=e.type.name.value,r=e.operation;if(u[r])throw new Error("Must provide only one "+r+" type in schema.");if(!s[t])throw new Error("Specified "+r+' type "'+t+'" not found in document.');u[r]=e.type})),u):{query:s.Query,mutation:s.Mutation,subscription:s.Subscription},h=new b(s,t,(function(e){throw new Error('Type "'+e.name.value+'" not found in document.')})),f=h.buildTypes(n),g=i.map((function(e){return h.buildDirective(e)}));return g.some((function(e){return"skip"===e.name}))||g.push(d.GraphQLSkipDirective),g.some((function(e){return"include"===e.name}))||g.push(d.GraphQLIncludeDirective),g.some((function(e){return"deprecated"===e.name}))||g.push(d.GraphQLDeprecatedDirective),new m.GraphQLSchema({query:l.query?h.buildType(l.query):null,mutation:l.mutation?h.buildType(l.mutation):null,subscription:l.subscription?h.buildType(l.subscription):null,types:f,directives:g,astNode:r,assumeValid:t&&t.assumeValid,allowedLegacyNames:t&&t.allowedLegacyNames})}var b=t.ASTDefinitionBuilder=function(){function e(t,r,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._typeDefinitionsMap=t,this._options=r,this._resolveType=s,this._cache=(0,n.default)(f.specifiedScalarTypes.concat(h.introspectionTypes),(function(e){return e.name}))}return e.prototype.buildTypes=function(e){var t=this;return e.map((function(e){return t.buildType(e)}))},e.prototype.buildType=function(e){var t=e.name.value;if(!this._cache[t])if(e.kind===p.Kind.NAMED_TYPE){var r=this._typeDefinitionsMap[t];this._cache[t]=r?this._makeSchemaDef(r):this._resolveType(e)}else this._cache[t]=this._makeSchemaDef(e);return this._cache[t]},e.prototype._buildWrappedType=function(e){var t=this.buildType(function(e){for(var t=e;t.kind===p.Kind.LIST_TYPE||t.kind===p.Kind.NON_NULL_TYPE;)t=t.type;return t}(e));return _(t,e)},e.prototype.buildDirective=function(e){return new d.GraphQLDirective({name:e.name.value,description:E(e,this._options),locations:e.locations.map((function(e){return e.value})),args:e.arguments&&this._makeInputValues(e.arguments),astNode:e})},e.prototype.buildField=function(e){return{type:this._buildWrappedType(e.type),description:E(e,this._options),args:e.arguments&&this._makeInputValues(e.arguments),deprecationReason:v(e),astNode:e}},e.prototype._makeSchemaDef=function(e){switch(e.kind){case p.Kind.OBJECT_TYPE_DEFINITION:return this._makeTypeDef(e);case p.Kind.INTERFACE_TYPE_DEFINITION:return this._makeInterfaceDef(e);case p.Kind.ENUM_TYPE_DEFINITION:return this._makeEnumDef(e);case p.Kind.UNION_TYPE_DEFINITION:return this._makeUnionDef(e);case p.Kind.SCALAR_TYPE_DEFINITION:return this._makeScalarDef(e);case p.Kind.INPUT_OBJECT_TYPE_DEFINITION:return this._makeInputObjectDef(e);default:throw new Error('Type kind "'+e.kind+'" not supported.')}},e.prototype._makeTypeDef=function(e){var t=this,r=e.name.value,n=e.interfaces;return new l.GraphQLObjectType({name:r,description:E(e,this._options),fields:function(){return t._makeFieldDefMap(e)},interfaces:n?function(){return t.buildTypes(n)}:[],astNode:e})},e.prototype._makeFieldDefMap=function(e){var t=this;return e.fields?(0,s.default)(e.fields,(function(e){return e.name.value}),(function(e){return t.buildField(e)})):{}},e.prototype._makeInputValues=function(e){var t=this;return(0,s.default)(e,(function(e){return e.name.value}),(function(e){var r=t._buildWrappedType(e.type);return{type:r,description:E(e,t._options),defaultValue:(0,i.valueFromAST)(e.defaultValue,r),astNode:e}}))},e.prototype._makeInterfaceDef=function(e){var t=this;return new l.GraphQLInterfaceType({name:e.name.value,description:E(e,this._options),fields:function(){return t._makeFieldDefMap(e)},astNode:e})},e.prototype._makeEnumDef=function(e){var t=this;return new l.GraphQLEnumType({name:e.name.value,description:E(e,this._options),values:e.values?(0,s.default)(e.values,(function(e){return e.name.value}),(function(e){return{description:E(e,t._options),deprecationReason:v(e),astNode:e}})):{},astNode:e})},e.prototype._makeUnionDef=function(e){return new l.GraphQLUnionType({name:e.name.value,description:E(e,this._options),types:e.types?this.buildTypes(e.types):[],astNode:e})},e.prototype._makeScalarDef=function(e){return new l.GraphQLScalarType({name:e.name.value,description:E(e,this._options),astNode:e,serialize:function(e){return e}})},e.prototype._makeInputObjectDef=function(e){var t=this;return new l.GraphQLInputObjectType({name:e.name.value,description:E(e,this._options),fields:function(){return e.fields?t._makeInputValues(e.fields):{}},astNode:e})},e}();function v(e){var t=(0,u.getDirectiveValues)(d.GraphQLDeprecatedDirective,e);return t&&t.reason}function E(e,t){if(e.description)return e.description.value;if(t&&t.commentDescriptions){var r=function(e){var t=e.loc;if(t){for(var r=[],n=t.startToken.prev;n&&n.kind===a.TokenKind.COMMENT&&n.next&&n.prev&&n.line+1===n.next.line&&n.line!==n.prev.line;){var s=String(n.value);r.push(s),n=n.prev}return r.reverse().join("\n")}}(e);if(void 0!==r)return(0,o.default)("\n"+r)}}},48686:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildClientSchema=function(e,t){var r=e.__schema,f=(0,s.default)(r.types,(function(e){return e.name})),m=(0,s.default)(h.specifiedScalarTypes.concat(d.introspectionTypes),(function(e){return e.name}));function g(e){if(e.kind===d.TypeKind.LIST){var t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");return(0,p.GraphQLList)(g(t))}if(e.kind===d.TypeKind.NON_NULL){var r=e.ofType;if(!r)throw new Error("Decorated type deeper than introspection query.");var n=g(r);return(0,p.GraphQLNonNull)((0,p.assertNullableType)(n))}if(!e.name)throw new Error("Unknown type reference: "+JSON.stringify(e));return _(e.name)}function _(e){if(m[e])return m[e];var t=f[e];if(!t)throw new Error("Invalid or incomplete schema, unknown type: "+e+". Ensure that a full introspection query is used in order to build a client schema.");var r=function(e){if(e&&e.name&&e.kind)switch(e.kind){case d.TypeKind.SCALAR:return r=e,new p.GraphQLScalarType({name:r.name,description:r.description,serialize:function(e){return e}});case d.TypeKind.OBJECT:return function(e){if(!e.interfaces)throw new Error("Introspection result missing interfaces: "+JSON.stringify(e));return new p.GraphQLObjectType({name:e.name,description:e.description,interfaces:e.interfaces.map(b),fields:function(){return v(e)}})}(e);case d.TypeKind.INTERFACE:return t=e,new p.GraphQLInterfaceType({name:t.name,description:t.description,fields:function(){return v(t)}});case d.TypeKind.UNION:return function(e){if(!e.possibleTypes)throw new Error("Introspection result missing possibleTypes: "+JSON.stringify(e));return new p.GraphQLUnionType({name:e.name,description:e.description,types:e.possibleTypes.map(y)})}(e);case d.TypeKind.ENUM:return function(e){if(!e.enumValues)throw new Error("Introspection result missing enumValues: "+JSON.stringify(e));return new p.GraphQLEnumType({name:e.name,description:e.description,values:(0,i.default)(e.enumValues,(function(e){return e.name}),(function(e){return{description:e.description,deprecationReason:e.deprecationReason}}))})}(e);case d.TypeKind.INPUT_OBJECT:return function(e){if(!e.inputFields)throw new Error("Introspection result missing inputFields: "+JSON.stringify(e));return new p.GraphQLInputObjectType({name:e.name,description:e.description,fields:function(){return E(e.inputFields)}})}(e)}var t,r;throw new Error("Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema:"+JSON.stringify(e))}(t);return m[e]=r,r}function y(e){var t=g(e);return(0,p.assertObjectType)(t)}function b(e){var t=g(e);return(0,p.assertInterfaceType)(t)}function v(e){if(!e.fields)throw new Error("Introspection result missing fields: "+JSON.stringify(e));return(0,i.default)(e.fields,(function(e){return e.name}),(function(e){if(!e.args)throw new Error("Introspection result missing field args: "+JSON.stringify(e));return{description:e.description,deprecationReason:e.deprecationReason,type:(t=e.type,r=g(t),(0,p.isOutputType)(r)||(0,n.default)(0,"Introspection must provide output type for fields."),r),args:E(e.args)};var t,r}))}function E(e){return(0,i.default)(e,(function(e){return e.name}),S)}function S(e){var t=function(e){var t=g(e);return(0,p.isInputType)(t)||(0,n.default)(0,"Introspection must provide input type for arguments."),t}(e.type),r=e.defaultValue?(0,o.valueFromAST)((0,a.parseValue)(e.defaultValue),t):void 0;return{name:e.name,description:e.description,type:t,defaultValue:r}}var T=r.types.map((function(e){return _(e.name)})),w=r.queryType?y(r.queryType):null,I=r.mutationType?y(r.mutationType):null,x=r.subscriptionType?y(r.subscriptionType):null,k=r.directives?r.directives.map((function(e){var t=e.locations?e.locations.slice():[].concat(e.onField?[u.DirectiveLocation.FIELD]:[],e.onOperation?[u.DirectiveLocation.QUERY,u.DirectiveLocation.MUTATION,u.DirectiveLocation.SUBSCRIPTION]:[],e.onFragment?[u.DirectiveLocation.FRAGMENT_DEFINITION,u.DirectiveLocation.FRAGMENT_SPREAD,u.DirectiveLocation.INLINE_FRAGMENT]:[]);if(!e.args)throw new Error("Introspection result missing directive args: "+JSON.stringify(e));return new l.GraphQLDirective({name:e.name,description:e.description,locations:t,args:E(e.args)})})):[];return new c.GraphQLSchema({query:w,mutation:I,subscription:x,types:T,directives:k,assumeValid:t&&t.assumeValid,allowedLegacyNames:t&&t.allowedLegacyNames})};var n=f(r(7706)),s=f(r(82863)),i=f(r(87154)),o=r(23770),a=r(88370),c=r(26829),u=r(78333),p=r(55003),l=r(27197),d=r(98155),h=r(52229);function f(e){return e&&e.__esModule?e:{default:e}}},13723:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.coerceValue=function e(t,r,u,l){if((0,p.isNonNullType)(r))return(0,o.default)(t)?h([g("Expected non-nullable type "+String(r)+" not to be null",u,l)]):e(t,r.ofType,u,l);if((0,o.default)(t))return d(null);if((0,p.isScalarType)(r))try{var b=r.parseValue(t);return(0,i.default)(b)?h([g("Expected type "+r.name,u,l)]):d(b)}catch(e){return h([g("Expected type "+r.name,u,l,e.message,e)])}if((0,p.isEnumType)(r)){if("string"==typeof t){var v=r.getValue(t);if(v)return d(v.value)}var E=(0,c.default)(String(t),r.getValues().map((function(e){return e.name}))),S=0!==E.length?"did you mean "+(0,a.default)(E)+"?":void 0;return h([g("Expected type "+r.name,u,l,S)])}if((0,p.isListType)(r)){var T=r.ofType;if((0,s.isCollection)(t)){var w=void 0,I=[];return(0,s.forEach)(t,(function(t,r){var n=e(t,T,u,m(l,r));n.errors?w=f(w,n.errors):w||I.push(n.value)})),w?h(w):d(I)}var x=e(t,T,u);return x.errors?x:d([x.value])}if((0,p.isInputObjectType)(r)){if("object"!==(void 0===t?"undefined":n(t)))return h([g("Expected type "+r.name+" to be an object",u,l)]);var k=void 0,O={},A=r.getFields();for(var N in A)if(y.call(A,N)){var R=A[N],C=t[N];if((0,i.default)(C))(0,i.default)(R.defaultValue)?(0,p.isNonNullType)(R.type)&&(k=f(k,g("Field "+_(m(l,N))+" of required type "+String(R.type)+" was not provided",u))):O[N]=R.defaultValue;else{var L=e(C,R.type,u,m(l,N));L.errors?k=f(k,L.errors):k||(O[N]=L.value)}}for(var D in t)if(y.call(t,D)&&!A[D]){var M=(0,c.default)(D,Object.keys(A)),P=0!==M.length?"did you mean "+(0,a.default)(M)+"?":void 0;k=f(k,g('Field "'+D+'" is not defined by type '+r.name,u,l,P))}return k?h(k):d(O)}throw new Error("Unexpected type: "+r+".")};var s=r(70439),i=l(r(39573)),o=l(r(38290)),a=l(r(11854)),c=l(r(78070)),u=r(6972),p=r(55003);function l(e){return e&&e.__esModule?e:{default:e}}function d(e){return{errors:void 0,value:e}}function h(e){return{errors:e,value:void 0}}function f(e,t){return(e||[]).concat(t)}function m(e,t){return{prev:e,key:t}}function g(e,t,r,n,s){var i=_(r);return new u.GraphQLError(e+(i?" at "+i:"")+(n?"; "+n:"."),t,void 0,void 0,void 0,s)}function _(e){for(var t="",r=e;r;)t=("string"==typeof r.key?"."+r.key:"["+String(r.key)+"]")+t,r=r.prev;return t?"value"+t:""}var y=Object.prototype.hasOwnProperty},96078:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatAST=function(e){for(var t=[],r=0;r<e.length;r++)for(var n=e[r].definitions,s=0;s<n.length;s++)t.push(n[s]);return{kind:"Document",definitions:t}}},83242:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSchema=function(e,t,r){(0,c.isSchema)(e)||(0,n.default)(0,"Must provide valid GraphQLSchema"),(!t||t.kind!==l.Kind.DOCUMENT)&&(0,n.default)(0,"Must provide valid Document AST");for(var d=Object.create(null),f=Object.create(null),m=[],g=0;g<t.definitions.length;g++){var _=t.definitions[g];switch(_.kind){case l.Kind.OBJECT_TYPE_DEFINITION:case l.Kind.INTERFACE_TYPE_DEFINITION:case l.Kind.ENUM_TYPE_DEFINITION:case l.Kind.UNION_TYPE_DEFINITION:case l.Kind.SCALAR_TYPE_DEFINITION:case l.Kind.INPUT_OBJECT_TYPE_DEFINITION:var y=_.name.value;if(e.getType(y))throw new a.GraphQLError('Type "'+y+'" already exists in the schema. It cannot also be defined in this type definition.',[_]);d[y]=_;break;case l.Kind.OBJECT_TYPE_EXTENSION:case l.Kind.INTERFACE_TYPE_EXTENSION:var b=_.name.value,v=e.getType(b);if(!v)throw new a.GraphQLError('Cannot extend type "'+b+'" because it does not exist in the existing schema.',[_]);h(v,_);var E=f[b];f[b]=E?E.concat([_]):[_];break;case l.Kind.DIRECTIVE_DEFINITION:var S=_.name.value;if(e.getDirective(S))throw new a.GraphQLError('Directive "'+S+'" already exists in the schema. It cannot be redefined.',[_]);m.push(_);break;case l.Kind.SCALAR_TYPE_EXTENSION:case l.Kind.UNION_TYPE_EXTENSION:case l.Kind.ENUM_TYPE_EXTENSION:case l.Kind.INPUT_OBJECT_TYPE_EXTENSION:throw new Error("The "+_.kind+" kind is not yet supported by extendSchema().")}}if(0===Object.keys(f).length&&0===Object.keys(d).length&&0===m.length)return e;var T,w=new o.ASTDefinitionBuilder(d,r,(function(t){var r=t.name.value,n=e.getType(r);if(n)return P(n);throw new a.GraphQLError('Unknown type: "'+r+'". Ensure that this type exists either in the original schema, or is added in a type definition.',[t])})),I=Object.create(null),x=e.getQueryType(),k=x?P(x):null,O=e.getMutationType(),A=O?P(O):null,N=e.getSubscriptionType(),R=N?P(N):null,C=[].concat((0,i.default)(e.getTypeMap()).map((function(e){return P(e)})),w.buildTypes((0,i.default)(d))),L=e.__allowedLegacyNames,D=r&&r.allowedLegacyNames,M=L&&D?L.concat(D):L||D;return new c.GraphQLSchema({query:k,mutation:A,subscription:R,types:C,directives:(T=e.getDirectives(),T||(0,n.default)(0,"schema must have default directives"),T.concat(m.map((function(e){return w.buildDirective(e)})))),astNode:e.astNode,allowedLegacyNames:M});function P(e){return I[e.name]||(I[e.name]=function(e){return(0,u.isIntrospectionType)(e)?e:(0,p.isObjectType)(e)?function(e){var t=e.name,r=f[t]?e.extensionASTNodes?e.extensionASTNodes.concat(f[t]):f[t]:e.extensionASTNodes;return new p.GraphQLObjectType({name:t,description:e.description,interfaces:function(){return function(e){var t=e.getInterfaces().map(P),r=f[e.name];return r&&r.forEach((function(e){e.interfaces.forEach((function(e){t.push(w.buildType(e))}))})),t}(e)},fields:function(){return j(e)},astNode:e.astNode,extensionASTNodes:r,isTypeOf:e.isTypeOf})}(e):(0,p.isInterfaceType)(e)?function(e){var t=e.name,r=f[t]?e.extensionASTNodes?e.extensionASTNodes.concat(f[t]):f[t]:e.extensionASTNodes;return new p.GraphQLInterfaceType({name:e.name,description:e.description,fields:function(){return j(e)},astNode:e.astNode,extensionASTNodes:r,resolveType:e.resolveType})}(e):(0,p.isUnionType)(e)?function(e){return new p.GraphQLUnionType({name:e.name,description:e.description,types:e.getTypes().map(P),astNode:e.astNode,resolveType:e.resolveType})}(e):e}(e)),I[e.name]}function j(e){var t=Object.create(null),r=e.getFields();Object.keys(r).forEach((function(e){var n=r[e];t[e]={description:n.description,deprecationReason:n.deprecationReason,type:q(n.type),args:(0,s.default)(n.args,(function(e){return e.name})),astNode:n.astNode,resolve:n.resolve}}));var n=f[e.name];return n&&n.forEach((function(n){n.fields.forEach((function(n){var s=n.name.value;if(r[s])throw new a.GraphQLError('Field "'+e.name+"."+s+'" already exists in the schema. It cannot also be defined in this type extension.',[n]);t[s]=w.buildField(n)}))})),t}function q(e){return(0,p.isListType)(e)?(0,p.GraphQLList)(q(e.ofType)):(0,p.isNonNullType)(e)?(0,p.GraphQLNonNull)(q(e.ofType)):P(e)}};var n=d(r(7706)),s=d(r(82863)),i=d(r(8836)),o=r(42906),a=r(65822),c=r(26829),u=r(98155),p=r(55003),l=(r(27197),r(2828));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){switch(t.kind){case l.Kind.OBJECT_TYPE_EXTENSION:if(!(0,p.isObjectType)(e))throw new a.GraphQLError('Cannot extend non-object type "'+e.name+'".',[t]);break;case l.Kind.INTERFACE_TYPE_EXTENSION:if(!(0,p.isInterfaceType)(e))throw new a.GraphQLError('Cannot extend non-interface type "'+e.name+'".',[t])}}},73298:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DangerousChangeType=t.BreakingChangeType=void 0,t.findBreakingChanges=function(e,t){return[].concat(c(e,t),u(e,t),d(e,t),h(e,t).breakingChanges,g(e,t),y(e,t),p(e,t).breakingChanges,v(e,t),S(e,t),T(e,t),w(e,t),x(e,t))},t.findDangerousChanges=function(e,t){return[].concat(p(e,t).dangerousChanges,b(e,t),E(e,t),_(e,t),h(e,t).dangerousChanges)},t.findRemovedTypes=c,t.findTypesThatChangedKind=u,t.findArgChanges=p,t.findFieldsThatChangedTypeOnObjectOrInterfaceTypes=d,t.findFieldsThatChangedTypeOnInputObjectTypes=h,t.findTypesRemovedFromUnions=g,t.findTypesAddedToUnions=_,t.findValuesRemovedFromEnums=y,t.findValuesAddedToEnums=b,t.findInterfacesRemovedFromObjectTypes=v,t.findInterfacesAddedToObjectTypes=E,t.findRemovedDirectives=S,t.findRemovedDirectiveArgs=T,t.findAddedNonNullDirectiveArgs=w,t.findRemovedLocationsForDirective=I,t.findRemovedDirectiveLocations=x;var n,s=r(55003),i=(n=(r(27197),r(26829),r(82863)))&&n.__esModule?n:{default:n},o=t.BreakingChangeType={FIELD_CHANGED_KIND:"FIELD_CHANGED_KIND",FIELD_REMOVED:"FIELD_REMOVED",TYPE_CHANGED_KIND:"TYPE_CHANGED_KIND",TYPE_REMOVED:"TYPE_REMOVED",TYPE_REMOVED_FROM_UNION:"TYPE_REMOVED_FROM_UNION",VALUE_REMOVED_FROM_ENUM:"VALUE_REMOVED_FROM_ENUM",ARG_REMOVED:"ARG_REMOVED",ARG_CHANGED_KIND:"ARG_CHANGED_KIND",NON_NULL_ARG_ADDED:"NON_NULL_ARG_ADDED",NON_NULL_INPUT_FIELD_ADDED:"NON_NULL_INPUT_FIELD_ADDED",INTERFACE_REMOVED_FROM_OBJECT:"INTERFACE_REMOVED_FROM_OBJECT",DIRECTIVE_REMOVED:"DIRECTIVE_REMOVED",DIRECTIVE_ARG_REMOVED:"DIRECTIVE_ARG_REMOVED",DIRECTIVE_LOCATION_REMOVED:"DIRECTIVE_LOCATION_REMOVED",NON_NULL_DIRECTIVE_ARG_ADDED:"NON_NULL_DIRECTIVE_ARG_ADDED"},a=t.DangerousChangeType={ARG_DEFAULT_VALUE_CHANGE:"ARG_DEFAULT_VALUE_CHANGE",VALUE_ADDED_TO_ENUM:"VALUE_ADDED_TO_ENUM",INTERFACE_ADDED_TO_OBJECT:"INTERFACE_ADDED_TO_OBJECT",TYPE_ADDED_TO_UNION:"TYPE_ADDED_TO_UNION",NULLABLE_INPUT_FIELD_ADDED:"NULLABLE_INPUT_FIELD_ADDED",NULLABLE_ARG_ADDED:"NULLABLE_ARG_ADDED"};function c(e,t){var r=e.getTypeMap(),n=t.getTypeMap(),s=[];return Object.keys(r).forEach((function(e){n[e]||s.push({type:o.TYPE_REMOVED,description:e+" was removed."})})),s}function u(e,t){var r=e.getTypeMap(),n=t.getTypeMap(),s=[];return Object.keys(r).forEach((function(e){if(n[e]){var t=r[e],i=n[e];t.constructor!==i.constructor&&s.push({type:o.TYPE_CHANGED_KIND,description:e+" changed from "+l(t)+" to "+l(i)+"."})}})),s}function p(e,t){var r=e.getTypeMap(),n=t.getTypeMap(),i=[],c=[];return Object.keys(r).forEach((function(e){var t=r[e],u=n[e];if(((0,s.isObjectType)(t)||(0,s.isInterfaceType)(t))&&((0,s.isObjectType)(u)||(0,s.isInterfaceType)(u))&&u.constructor===t.constructor){var p=t.getFields(),l=u.getFields();Object.keys(p).forEach((function(e){l[e]&&(p[e].args.forEach((function(r){var n=l[e].args.find((function(e){return e.name===r.name}));n?m(r.type,n.type)?void 0!==r.defaultValue&&r.defaultValue!==n.defaultValue&&c.push({type:a.ARG_DEFAULT_VALUE_CHANGE,description:t.name+"."+e+" arg "+r.name+" has changed defaultValue"}):i.push({type:o.ARG_CHANGED_KIND,description:t.name+"."+e+" arg "+r.name+" has changed type from "+r.type.toString()+" to "+n.type.toString()}):i.push({type:o.ARG_REMOVED,description:t.name+"."+e+" arg "+r.name+" was removed"})})),l[e].args.forEach((function(t){p[e].args.find((function(e){return e.name===t.name}))||((0,s.isNonNullType)(t.type)?i.push({type:o.NON_NULL_ARG_ADDED,description:"A non-null arg "+t.name+" on "+u.name+"."+e+" was added"}):c.push({type:a.NULLABLE_ARG_ADDED,description:"A nullable arg "+t.name+" on "+u.name+"."+e+" was added"}))})))}))}})),{breakingChanges:i,dangerousChanges:c}}function l(e){if((0,s.isScalarType)(e))return"a Scalar type";if((0,s.isObjectType)(e))return"an Object type";if((0,s.isInterfaceType)(e))return"an Interface type";if((0,s.isUnionType)(e))return"a Union type";if((0,s.isEnumType)(e))return"an Enum type";if((0,s.isInputObjectType)(e))return"an Input type";throw new TypeError("Unknown type "+e.constructor.name)}function d(e,t){var r=e.getTypeMap(),n=t.getTypeMap(),i=[];return Object.keys(r).forEach((function(e){var t=r[e],a=n[e];if(((0,s.isObjectType)(t)||(0,s.isInterfaceType)(t))&&((0,s.isObjectType)(a)||(0,s.isInterfaceType)(a))&&a.constructor===t.constructor){var c=t.getFields(),u=a.getFields();Object.keys(c).forEach((function(t){if(t in u){var r=c[t].type,n=u[t].type;if(!f(r,n)){var a=(0,s.isNamedType)(r)?r.name:r.toString(),p=(0,s.isNamedType)(n)?n.name:n.toString();i.push({type:o.FIELD_CHANGED_KIND,description:e+"."+t+" changed type from "+a+" to "+p+"."})}}else i.push({type:o.FIELD_REMOVED,description:e+"."+t+" was removed."})}))}})),i}function h(e,t){var r=e.getTypeMap(),n=t.getTypeMap(),i=[],c=[];return Object.keys(r).forEach((function(e){var t=r[e],u=n[e];if((0,s.isInputObjectType)(t)&&(0,s.isInputObjectType)(u)){var p=t.getFields(),l=u.getFields();Object.keys(p).forEach((function(t){if(t in l){var r=p[t].type,n=l[t].type;if(!m(r,n)){var a=(0,s.isNamedType)(r)?r.name:r.toString(),c=(0,s.isNamedType)(n)?n.name:n.toString();i.push({type:o.FIELD_CHANGED_KIND,description:e+"."+t+" changed type from "+a+" to "+c+"."})}}else i.push({type:o.FIELD_REMOVED,description:e+"."+t+" was removed."})})),Object.keys(l).forEach((function(e){e in p||((0,s.isNonNullType)(l[e].type)?i.push({type:o.NON_NULL_INPUT_FIELD_ADDED,description:"A non-null field "+e+" on input type "+u.name+" was added."}):c.push({type:a.NULLABLE_INPUT_FIELD_ADDED,description:"A nullable field "+e+" on input type "+u.name+" was added."}))}))}})),{breakingChanges:i,dangerousChanges:c}}function f(e,t){return(0,s.isNamedType)(e)?(0,s.isNamedType)(t)&&e.name===t.name||(0,s.isNonNullType)(t)&&f(e,t.ofType):(0,s.isListType)(e)?(0,s.isListType)(t)&&f(e.ofType,t.ofType)||(0,s.isNonNullType)(t)&&f(e,t.ofType):!!(0,s.isNonNullType)(e)&&(0,s.isNonNullType)(t)&&f(e.ofType,t.ofType)}function m(e,t){return(0,s.isNamedType)(e)?(0,s.isNamedType)(t)&&e.name===t.name:(0,s.isListType)(e)?(0,s.isListType)(t)&&m(e.ofType,t.ofType):!!(0,s.isNonNullType)(e)&&((0,s.isNonNullType)(t)&&m(e.ofType,t.ofType)||!(0,s.isNonNullType)(t)&&m(e.ofType,t))}function g(e,t){var r=e.getTypeMap(),n=t.getTypeMap(),i=[];return Object.keys(r).forEach((function(e){var t=r[e],a=n[e];if((0,s.isUnionType)(t)&&(0,s.isUnionType)(a)){var c=Object.create(null);a.getTypes().forEach((function(e){c[e.name]=!0})),t.getTypes().forEach((function(t){c[t.name]||i.push({type:o.TYPE_REMOVED_FROM_UNION,description:t.name+" was removed from union type "+e+"."})}))}})),i}function _(e,t){var r=e.getTypeMap(),n=t.getTypeMap(),i=[];return Object.keys(n).forEach((function(e){var t=r[e],o=n[e];if((0,s.isUnionType)(t)&&(0,s.isUnionType)(o)){var c=Object.create(null);t.getTypes().forEach((function(e){c[e.name]=!0})),o.getTypes().forEach((function(t){c[t.name]||i.push({type:a.TYPE_ADDED_TO_UNION,description:t.name+" was added to union type "+e+"."})}))}})),i}function y(e,t){var r=e.getTypeMap(),n=t.getTypeMap(),i=[];return Object.keys(r).forEach((function(e){var t=r[e],a=n[e];if((0,s.isEnumType)(t)&&(0,s.isEnumType)(a)){var c=Object.create(null);a.getValues().forEach((function(e){c[e.name]=!0})),t.getValues().forEach((function(t){c[t.name]||i.push({type:o.VALUE_REMOVED_FROM_ENUM,description:t.name+" was removed from enum type "+e+"."})}))}})),i}function b(e,t){var r=e.getTypeMap(),n=t.getTypeMap(),i=[];return Object.keys(r).forEach((function(e){var t=r[e],o=n[e];if((0,s.isEnumType)(t)&&(0,s.isEnumType)(o)){var c=Object.create(null);t.getValues().forEach((function(e){c[e.name]=!0})),o.getValues().forEach((function(t){c[t.name]||i.push({type:a.VALUE_ADDED_TO_ENUM,description:t.name+" was added to enum type "+e+"."})}))}})),i}function v(e,t){var r=e.getTypeMap(),n=t.getTypeMap(),i=[];return Object.keys(r).forEach((function(e){var t=r[e],a=n[e];if((0,s.isObjectType)(t)&&(0,s.isObjectType)(a)){var c=t.getInterfaces(),u=a.getInterfaces();c.forEach((function(t){u.some((function(e){return e.name===t.name}))||i.push({type:o.INTERFACE_REMOVED_FROM_OBJECT,description:e+" no longer implements interface "+t.name+"."})}))}})),i}function E(e,t){var r=e.getTypeMap(),n=t.getTypeMap(),i=[];return Object.keys(n).forEach((function(e){var t=r[e],o=n[e];if((0,s.isObjectType)(t)&&(0,s.isObjectType)(o)){var c=t.getInterfaces();o.getInterfaces().forEach((function(t){c.some((function(e){return e.name===t.name}))||i.push({type:a.INTERFACE_ADDED_TO_OBJECT,description:t.name+" added to interfaces implemented by "+e+"."})}))}})),i}function S(e,t){var r=[],n=k(t);return e.getDirectives().forEach((function(e){n[e.name]||r.push({type:o.DIRECTIVE_REMOVED,description:e.name+" was removed"})})),r}function T(e,t){var r=[],n=k(e);return t.getDirectives().forEach((function(e){var t=n[e.name];t&&function(e,t){var r=[],n=O(t);return e.args.forEach((function(e){n[e.name]||r.push(e)})),r}(t,e).forEach((function(t){r.push({type:o.DIRECTIVE_ARG_REMOVED,description:t.name+" was removed from "+e.name})}))})),r}function w(e,t){var r=[],n=k(e);return t.getDirectives().forEach((function(e){var t=n[e.name];t&&function(e,t){var r=[],n=O(e);return t.args.forEach((function(e){n[e.name]||r.push(e)})),r}(t,e).forEach((function(t){(0,s.isNonNullType)(t.type)&&r.push({type:o.NON_NULL_DIRECTIVE_ARG_ADDED,description:"A non-null arg "+t.name+" on directive "+e.name+" was added"})}))})),r}function I(e,t){var r=[],n=new Set(t.locations);return e.locations.forEach((function(e){n.has(e)||r.push(e)})),r}function x(e,t){var r=[],n=k(e);return t.getDirectives().forEach((function(e){var t=n[e.name];t&&I(t,e).forEach((function(t){r.push({type:o.DIRECTIVE_LOCATION_REMOVED,description:t+" was removed from "+e.name})}))})),r}function k(e){return(0,i.default)(e.getDirectives(),(function(e){return e.name}))}function O(e){return(0,i.default)(e.args,(function(e){return e.name}))}},46640:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findDeprecatedUsages=function(e,t){var r=[],a=new o.TypeInfo(e);return(0,s.visit)(t,(0,s.visitWithTypeInfo)(a,{Field:function(e){var t=a.getFieldDef();if(t&&t.isDeprecated){var s=a.getParentType();if(s){var i=t.deprecationReason;r.push(new n.GraphQLError("The field "+s.name+"."+t.name+" is deprecated."+(i?" "+i:""),[e]))}}},EnumValue:function(e){var t=a.getEnumValue();if(t&&t.isDeprecated){var s=(0,i.getNamedType)(a.getInputType());if(s){var o=t.deprecationReason;r.push(new n.GraphQLError("The enum value "+s.name+"."+t.name+" is deprecated."+(o?" "+o:""),[e]))}}}})),r};var n=r(65822),s=r(80285),i=r(55003),o=(r(26829),r(36226))},79535:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperationAST=function(e,t){for(var r=null,s=0;s<e.definitions.length;s++){var i=e.definitions[s];if(i.kind===n.Kind.OPERATION_DEFINITION)if(t){if(i.name&&i.name.value===t)return i}else{if(r)return null;r=i}}return r};var n=r(2828)},49548:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(47926);Object.defineProperty(t,"getIntrospectionQuery",{enumerable:!0,get:function(){return n.getIntrospectionQuery}}),Object.defineProperty(t,"introspectionQuery",{enumerable:!0,get:function(){return n.introspectionQuery}});var s=r(79535);Object.defineProperty(t,"getOperationAST",{enumerable:!0,get:function(){return s.getOperationAST}});var i=r(78039);Object.defineProperty(t,"introspectionFromSchema",{enumerable:!0,get:function(){return i.introspectionFromSchema}});var o=r(48686);Object.defineProperty(t,"buildClientSchema",{enumerable:!0,get:function(){return o.buildClientSchema}});var a=r(42906);Object.defineProperty(t,"buildASTSchema",{enumerable:!0,get:function(){return a.buildASTSchema}}),Object.defineProperty(t,"buildSchema",{enumerable:!0,get:function(){return a.buildSchema}}),Object.defineProperty(t,"getDescription",{enumerable:!0,get:function(){return a.getDescription}});var c=r(83242);Object.defineProperty(t,"extendSchema",{enumerable:!0,get:function(){return c.extendSchema}});var u=r(18163);Object.defineProperty(t,"lexicographicSortSchema",{enumerable:!0,get:function(){return u.lexicographicSortSchema}});var p=r(33599);Object.defineProperty(t,"printSchema",{enumerable:!0,get:function(){return p.printSchema}}),Object.defineProperty(t,"printType",{enumerable:!0,get:function(){return p.printType}}),Object.defineProperty(t,"printIntrospectionSchema",{enumerable:!0,get:function(){return p.printIntrospectionSchema}});var l=r(85115);Object.defineProperty(t,"typeFromAST",{enumerable:!0,get:function(){return l.typeFromAST}});var d=r(23770);Object.defineProperty(t,"valueFromAST",{enumerable:!0,get:function(){return d.valueFromAST}});var h=r(67784);Object.defineProperty(t,"valueFromASTUntyped",{enumerable:!0,get:function(){return h.valueFromASTUntyped}});var f=r(68115);Object.defineProperty(t,"astFromValue",{enumerable:!0,get:function(){return f.astFromValue}});var m=r(36226);Object.defineProperty(t,"TypeInfo",{enumerable:!0,get:function(){return m.TypeInfo}});var g=r(13723);Object.defineProperty(t,"coerceValue",{enumerable:!0,get:function(){return g.coerceValue}});var _=r(15317);Object.defineProperty(t,"isValidJSValue",{enumerable:!0,get:function(){return _.isValidJSValue}});var y=r(90217);Object.defineProperty(t,"isValidLiteralValue",{enumerable:!0,get:function(){return y.isValidLiteralValue}});var b=r(96078);Object.defineProperty(t,"concatAST",{enumerable:!0,get:function(){return b.concatAST}});var v=r(58243);Object.defineProperty(t,"separateOperations",{enumerable:!0,get:function(){return v.separateOperations}});var E=r(80298);Object.defineProperty(t,"isEqualType",{enumerable:!0,get:function(){return E.isEqualType}}),Object.defineProperty(t,"isTypeSubTypeOf",{enumerable:!0,get:function(){return E.isTypeSubTypeOf}}),Object.defineProperty(t,"doTypesOverlap",{enumerable:!0,get:function(){return E.doTypesOverlap}});var S=r(26526);Object.defineProperty(t,"assertValidName",{enumerable:!0,get:function(){return S.assertValidName}}),Object.defineProperty(t,"isValidNameError",{enumerable:!0,get:function(){return S.isValidNameError}});var T=r(73298);Object.defineProperty(t,"BreakingChangeType",{enumerable:!0,get:function(){return T.BreakingChangeType}}),Object.defineProperty(t,"DangerousChangeType",{enumerable:!0,get:function(){return T.DangerousChangeType}}),Object.defineProperty(t,"findBreakingChanges",{enumerable:!0,get:function(){return T.findBreakingChanges}}),Object.defineProperty(t,"findDangerousChanges",{enumerable:!0,get:function(){return T.findDangerousChanges}});var w=r(46640);Object.defineProperty(t,"findDeprecatedUsages",{enumerable:!0,get:function(){return w.findDeprecatedUsages}})},78039:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.introspectionFromSchema=function(e,t){var r=(0,a.parse)((0,i.getIntrospectionQuery)(t)),n=(0,o.execute)(e,r);return(n.then||n.errors||!n.data)&&(0,s.default)(0),n.data};var n,s=(n=r(7706))&&n.__esModule?n:{default:n},i=r(47926),o=(r(26829),r(90192)),a=r(88370)},47926:(e,t)=>{"use strict";function r(e){var t=!(e&&!1===e.descriptions);return"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          "+(t?"description":"")+"\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      "+(t?"description":"")+"\n      fields(includeDeprecated: true) {\n        name\n        "+(t?"description":"")+"\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        "+(t?"description":"")+"\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      "+(t?"description":"")+"\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}Object.defineProperty(t,"__esModule",{value:!0}),t.getIntrospectionQuery=r,t.introspectionQuery=r()},15317:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidJSValue=function(e,t){var r=(0,n.coerceValue)(e,t).errors;return r?r.map((function(e){return e.message})):[]};var n=r(13723)},90217:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidLiteralValue=function(e,t){var r=new a.GraphQLSchema({}),n={kind:i.Kind.DOCUMENT,definitions:[]},p=new s.TypeInfo(r,void 0,e),l=new u.default(r,n,p),d=(0,c.ValuesOfCorrectType)(l);return(0,o.visit)(t,(0,o.visitWithTypeInfo)(p,d)),l.getErrors()};var n,s=r(36226),i=r(2828),o=r(80285),a=r(26829),c=r(8137),u=(n=r(63955))&&n.__esModule?n:{default:n}},18163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.lexicographicSortSchema=function(e){var t=Object.create(null),r=function(e){return e&&y(e)};return new o.GraphQLSchema({types:_((0,i.default)(e.getTypeMap())),directives:h(e.getDirectives()).map((function(e){return new a.GraphQLDirective({name:e.name,description:e.description,locations:f(e.locations,(function(e){return e})),args:l(e.args),astNode:e.astNode})})),query:r(e.getQueryType()),mutation:r(e.getMutationType()),subscription:r(e.getSubscriptionType()),astNode:e.astNode});function l(e){return(0,s.default)(h(e),(function(e){return e.name}),(function(e){return n({},e,{type:g(e.type)})}))}function m(e){return d(e,(function(e){return{type:g(e.type),args:l(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,description:e.description,astNode:e.astNode}}))}function g(e){return(0,c.isListType)(e)?new c.GraphQLList(g(e.ofType)):(0,c.isNonNullType)(e)?new c.GraphQLNonNull(g(e.ofType)):y(e)}function _(e){return h(e).map(y)}function y(e){if((0,u.isSpecifiedScalarType)(e)||(0,p.isIntrospectionType)(e))return e;var r=t[e.name];return r||(r=function(e){if((0,c.isScalarType)(e))return e;if((0,c.isObjectType)(e))return new c.GraphQLObjectType({name:e.name,interfaces:function(){return _(e.getInterfaces())},fields:function(){return m(e.getFields())},isTypeOf:e.isTypeOf,description:e.description,astNode:e.astNode,extensionASTNodes:e.extensionASTNodes});if((0,c.isInterfaceType)(e))return new c.GraphQLInterfaceType({name:e.name,fields:function(){return m(e.getFields())},resolveType:e.resolveType,description:e.description,astNode:e.astNode,extensionASTNodes:e.extensionASTNodes});if((0,c.isUnionType)(e))return new c.GraphQLUnionType({name:e.name,types:function(){return _(e.getTypes())},resolveType:e.resolveType,description:e.description,astNode:e.astNode});if((0,c.isEnumType)(e))return new c.GraphQLEnumType({name:e.name,values:(0,s.default)(h(e.getValues()),(function(e){return e.name}),(function(e){return{value:e.value,deprecationReason:e.deprecationReason,description:e.description,astNode:e.astNode}})),description:e.description,astNode:e.astNode});if((0,c.isInputObjectType)(e))return new c.GraphQLInputObjectType({name:e.name,fields:function(){return d(e.getFields(),(function(e){return{type:g(e.type),defaultValue:e.defaultValue,description:e.description,astNode:e.astNode}}))},description:e.description,astNode:e.astNode});throw new Error('Unknown type: "'+e+'"')}(e),t[e.name]=r),r}};var s=l(r(87154)),i=l(r(8836)),o=r(26829),a=r(27197),c=r(55003),u=r(52229),p=r(98155);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var r=Object.create(null),n=f(Object.keys(e),(function(e){return e})),s=!0,i=!1,o=void 0;try{for(var a,c=n[Symbol.iterator]();!(s=(a=c.next()).done);s=!0){var u=a.value,p=e[u];r[u]=t?t(p):p}}catch(e){i=!0,o=e}finally{try{!s&&c.return&&c.return()}finally{if(i)throw o}}return r}function h(e){return f(e,(function(e){return e.name}))}function f(e,t){return e.slice().sort((function(e,r){var n=t(e),s=t(r);return n.localeCompare(s)}))}},33599:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printSchema=function(e,t){return f(e,(function(e){return!(0,p.isSpecifiedDirective)(e)}),h,t)},t.printIntrospectionSchema=function(e,t){return f(e,p.isSpecifiedDirective,l.isIntrospectionType,t)},t.printType=g;var n=d(r(38290)),s=d(r(39573)),i=d(r(8836)),o=r(68115),a=r(23033),c=r(55003),u=r(52229),p=r(27197),l=r(98155);function d(e){return e&&e.__esModule?e:{default:e}}function h(e){return!(0,u.isSpecifiedScalarType)(e)&&!(0,l.isIntrospectionType)(e)}function f(e,t,r,n){var s=e.getDirectives().filter(t),o=e.getTypeMap(),a=(0,i.default)(o).sort((function(e,t){return e.name.localeCompare(t.name)})).filter(r);return[m(e)].concat(s.map((function(e){return function(e,t){return E(t,e)+"directive @"+e.name+y(t,e.args)+" on "+e.locations.join(" | ")}(e,n)})),a.map((function(e){return g(e,n)}))).filter(Boolean).join("\n\n")+"\n"}function m(e){if(!function(e){var t=e.getQueryType();if(t&&"Query"!==t.name)return!1;var r=e.getMutationType();if(r&&"Mutation"!==r.name)return!1;var n=e.getSubscriptionType();return!n||"Subscription"===n.name}(e)){var t=[],r=e.getQueryType();r&&t.push("  query: "+r.name);var n=e.getMutationType();n&&t.push("  mutation: "+n.name);var s=e.getSubscriptionType();return s&&t.push("  subscription: "+s.name),"schema {\n"+t.join("\n")+"\n}"}}function g(e,t){if((0,c.isScalarType)(e))return function(e,t){return E(t,e)+"scalar "+e.name}(e,t);if((0,c.isObjectType)(e))return function(e,t){var r=e.getInterfaces(),n=r.length?" implements "+r.map((function(e){return e.name})).join(" & "):"";return E(t,e)+"type "+e.name+n+" {\n"+_(t,e)+"\n}"}(e,t);if((0,c.isInterfaceType)(e))return function(e,t){return E(t,e)+"interface "+e.name+" {\n"+_(t,e)+"\n}"}(e,t);if((0,c.isUnionType)(e))return function(e,t){return E(t,e)+"union "+e.name+" = "+e.getTypes().join(" | ")}(e,t);if((0,c.isEnumType)(e))return function(e,t){return E(t,e)+"enum "+e.name+" {\n"+function(e,t){return e.map((function(e,r){return E(t,e,"  ",!r)+"  "+e.name+v(e)})).join("\n")}(e.getValues(),t)+"\n}"}(e,t);if((0,c.isInputObjectType)(e))return function(e,t){var r=(0,i.default)(e.getFields());return E(t,e)+"input "+e.name+" {\n"+r.map((function(e,r){return E(t,e,"  ",!r)+"  "+b(e)})).join("\n")+"\n}"}(e,t);throw new Error("Unknown type: "+e+".")}function _(e,t){return(0,i.default)(t.getFields()).map((function(t,r){return E(e,t,"  ",!r)+"  "+t.name+y(e,t.args,"  ")+": "+String(t.type)+v(t)})).join("\n")}function y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return 0===t.length?"":t.every((function(e){return!e.description}))?"("+t.map(b).join(", ")+")":"(\n"+t.map((function(t,n){return E(e,t,"  "+r,!n)+"  "+r+b(t)})).join("\n")+"\n"+r+")"}function b(e){var t=e.name+": "+String(e.type);return(0,s.default)(e.defaultValue)||(t+=" = "+(0,a.print)((0,o.astFromValue)(e.defaultValue,e.type))),t}function v(e){if(!e.isDeprecated)return"";var t=e.deprecationReason;return(0,n.default)(t)||""===t||t===p.DEFAULT_DEPRECATION_REASON?" @deprecated":" @deprecated(reason: "+(0,a.print)((0,o.astFromValue)(t,u.GraphQLString))+")"}function E(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t.description)return"";var s=function(e,t){for(var r=[],n=e.split("\n"),s=0;s<n.length;s++)if(""===n[s])r.push(n[s]);else for(var i=T(n[s],t),o=0;o<i.length;o++)r.push(i[o]);return r}(t.description,120-r.length);if(e&&e.commentDescriptions)return function(e,t,r){for(var n=t&&!r?"\n":"",s=0;s<e.length;s++)""===e[s]?n+=t+"#\n":n+=t+"# "+e[s]+"\n";return n}(s,r,n);var i=r&&!n?"\n"+r+'"""':r+'"""';if(1===s.length&&s[0].length<70&&'"'!==s[0][s[0].length-1])return i+S(s[0])+'"""\n';var o=" "===s[0][0]||"\t"===s[0][0];o||(i+="\n");for(var a=0;a<s.length;a++)0===a&&o||(i+=r),i+=S(s[a])+"\n";return i+(r+'"""\n')}function S(e){return e.replace(/"""/g,'\\"""')}function T(e,t){if(e.length<t+5)return[e];var r=e.split(new RegExp("((?: |^).{15,"+(t-40)+"}(?= |$))"));if(r.length<4)return[e];for(var n=[r[0]+r[1]+r[2]],s=3;s<r.length;s+=2)n.push(r[s].slice(1)+r[s+1]);return n}},58243:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.separateOperations=function(e){var t=[],r=Object.create(null),o=new Map,a=Object.create(null),c=void 0,u=0;(0,n.visit)(e,{OperationDefinition:function(e){c=s(e),t.push(e),o.set(e,u++)},FragmentDefinition:function(e){c=e.name.value,r[c]=e,o.set(e,u++)},FragmentSpread:function(e){var t=e.name.value;(a[c]||(a[c]=Object.create(null)))[t]=!0}});var p=Object.create(null);return t.forEach((function(e){var t=s(e),n=Object.create(null);i(n,a,t);var c=[e];Object.keys(n).forEach((function(e){c.push(r[e])})),c.sort((function(e,t){return(o.get(e)||0)-(o.get(t)||0)})),p[t]={kind:"Document",definitions:c}})),p};var n=r(80285);function s(e){return e.name?e.name.value:""}function i(e,t,r){var n=t[r];n&&Object.keys(n).forEach((function(r){e[r]||(e[r]=!0,i(e,t,r))}))}},80298:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEqualType=function e(t,r){return t===r||((0,n.isNonNullType)(t)&&(0,n.isNonNullType)(r)||!(!(0,n.isListType)(t)||!(0,n.isListType)(r)))&&e(t.ofType,r.ofType)},t.isTypeSubTypeOf=function e(t,r,s){return r===s||((0,n.isNonNullType)(s)?!!(0,n.isNonNullType)(r)&&e(t,r.ofType,s.ofType):(0,n.isNonNullType)(r)?e(t,r.ofType,s):(0,n.isListType)(s)?!!(0,n.isListType)(r)&&e(t,r.ofType,s.ofType):!(0,n.isListType)(r)&&!!((0,n.isAbstractType)(s)&&(0,n.isObjectType)(r)&&t.isPossibleType(s,r)))},t.doTypesOverlap=function(e,t,r){return t===r||((0,n.isAbstractType)(t)?(0,n.isAbstractType)(r)?e.getPossibleTypes(t).some((function(t){return e.isPossibleType(r,t)})):e.isPossibleType(t,r):!!(0,n.isAbstractType)(r)&&e.isPossibleType(r,t))};var n=r(55003)},85115:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeFromAST=function e(t,r){var i=void 0;if(r.kind===n.Kind.LIST_TYPE)return(i=e(t,r.type))&&(0,s.GraphQLList)(i);if(r.kind===n.Kind.NON_NULL_TYPE)return(i=e(t,r.type))&&(0,s.GraphQLNonNull)(i);if(r.kind===n.Kind.NAMED_TYPE)return t.getType(r.name.value);throw new Error("Unexpected type kind: "+r.kind+".")};var n=r(2828),s=r(55003)},23770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.valueFromAST=function e(t,r,c){if(t){if((0,a.isNonNullType)(r)){if(t.kind===o.Kind.NULL)return;return e(t,r.ofType,c)}if(t.kind===o.Kind.NULL)return null;if(t.kind===o.Kind.VARIABLE){var p=t.name.value;if(!c||(0,s.default)(c[p]))return;return c[p]}if((0,a.isListType)(r)){var l=r.ofType;if(t.kind===o.Kind.LIST){for(var d=[],h=t.values,f=0;f<h.length;f++)if(u(h[f],c)){if((0,a.isNonNullType)(l))return;d.push(null)}else{var m=e(h[f],l,c);if((0,s.default)(m))return;d.push(m)}return d}var g=e(t,l,c);if((0,s.default)(g))return;return[g]}if((0,a.isInputObjectType)(r)){if(t.kind!==o.Kind.OBJECT)return;for(var _=Object.create(null),y=(0,n.default)(t.fields,(function(e){return e.name.value})),b=(0,i.default)(r.getFields()),v=0;v<b.length;v++){var E=b[v],S=y[E.name];if(S&&!u(S.value,c)){var T=e(S.value,E.type,c);if((0,s.default)(T))return;_[E.name]=T}else if((0,s.default)(E.defaultValue)){if((0,a.isNonNullType)(E.type))return}else _[E.name]=E.defaultValue}return _}if((0,a.isEnumType)(r)){if(t.kind!==o.Kind.ENUM)return;var w=r.getValue(t.value);if(!w)return;return w.value}if((0,a.isScalarType)(r)){var I=void 0;try{I=r.parseLiteral(t,c)}catch(e){return}if((0,s.default)(I))return;return I}throw new Error("Unknown type: "+r+".")}};var n=c(r(82863)),s=c(r(39573)),i=c(r(8836)),o=r(2828),a=r(55003);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return e.kind===o.Kind.VARIABLE&&(!t||(0,s.default)(t[e.name.value]))}},67784:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.valueFromASTUntyped=function e(t,r){switch(t.kind){case i.Kind.NULL:return null;case i.Kind.INT:return parseInt(t.value,10);case i.Kind.FLOAT:return parseFloat(t.value);case i.Kind.STRING:case i.Kind.ENUM:case i.Kind.BOOLEAN:return t.value;case i.Kind.LIST:return t.values.map((function(t){return e(t,r)}));case i.Kind.OBJECT:return(0,n.default)(t.fields,(function(e){return e.name.value}),(function(t){return e(t.value,r)}));case i.Kind.VARIABLE:var o=t.name.value;return r&&!(0,s.default)(r[o])?r[o]:void 0}throw new Error("Unexpected value kind: "+t.kind)};var n=o(r(87154)),s=o(r(39573)),i=r(2828);function o(e){return e&&e.__esModule?e:{default:e}}},63955:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(6972);var n=r(80285),s=r(2828),i=(r(26829),r(36226)),o=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._schema=t,this._ast=r,this._typeInfo=n,this._errors=[],this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}return e.prototype.reportError=function(e){this._errors.push(e)},e.prototype.getErrors=function(){return this._errors},e.prototype.getSchema=function(){return this._schema},e.prototype.getDocument=function(){return this._ast},e.prototype.getFragment=function(e){var t=this._fragments;return t||(this._fragments=t=this.getDocument().definitions.reduce((function(e,t){return t.kind===s.Kind.FRAGMENT_DEFINITION&&(e[t.name.value]=t),e}),Object.create(null))),t[e]},e.prototype.getFragmentSpreads=function(e){var t=this._fragmentSpreads.get(e);if(!t){t=[];for(var r=[e];0!==r.length;)for(var n=r.pop(),i=0;i<n.selections.length;i++){var o=n.selections[i];o.kind===s.Kind.FRAGMENT_SPREAD?t.push(o):o.selectionSet&&r.push(o.selectionSet)}this._fragmentSpreads.set(e,t)}return t},e.prototype.getRecursivelyReferencedFragments=function(e){var t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];for(var r=Object.create(null),n=[e.selectionSet];0!==n.length;)for(var s=n.pop(),i=this.getFragmentSpreads(s),o=0;o<i.length;o++){var a=i[o].name.value;if(!0!==r[a]){r[a]=!0;var c=this.getFragment(a);c&&(t.push(c),n.push(c.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t},e.prototype.getVariableUsages=function(e){var t=this._variableUsages.get(e);if(!t){var r=[],s=new i.TypeInfo(this._schema);(0,n.visit)(e,(0,n.visitWithTypeInfo)(s,{VariableDefinition:function(){return!1},Variable:function(e){r.push({node:e,type:s.getInputType()})}})),t=r,this._variableUsages.set(e,t)}return t},e.prototype.getRecursiveVariableUsages=function(e){var t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(var r=this.getRecursivelyReferencedFragments(e),n=0;n<r.length;n++)Array.prototype.push.apply(t,this.getVariableUsages(r[n]));this._recursiveVariableUsages.set(e,t)}return t},e.prototype.getType=function(){return this._typeInfo.getType()},e.prototype.getParentType=function(){return this._typeInfo.getParentType()},e.prototype.getInputType=function(){return this._typeInfo.getInputType()},e.prototype.getParentInputType=function(){return this._typeInfo.getParentInputType()},e.prototype.getFieldDef=function(){return this._typeInfo.getFieldDef()},e.prototype.getDirective=function(){return this._typeInfo.getDirective()},e.prototype.getArgument=function(){return this._typeInfo.getArgument()},e}();t.default=o},8137:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.badValueMessage=l,t.requiredFieldMessage=d,t.unknownFieldMessage=h,t.ValuesOfCorrectType=function(e){return{NullValue:function(t){var r=e.getInputType();(0,i.isNonNullType)(r)&&e.reportError(new n.GraphQLError(l(String(r),(0,s.print)(t)),t))},ListValue:function(t){var r=(0,i.getNullableType)(e.getParentInputType());if(!(0,i.isListType)(r))return f(e,t),!1},ObjectValue:function(t){var r=(0,i.getNamedType)(e.getInputType());if(!(0,i.isInputObjectType)(r))return f(e,t),!1;var s=r.getFields(),o=(0,a.default)(t.fields,(function(e){return e.name.value}));Object.keys(s).forEach((function(a){var c=s[a].type;!o[a]&&(0,i.isNonNullType)(c)&&e.reportError(new n.GraphQLError(d(r.name,a,String(c)),t))}))},ObjectField:function(t){var r=(0,i.getNamedType)(e.getParentInputType());if(!e.getInputType()&&(0,i.isInputObjectType)(r)){var s=(0,u.default)(t.name.value,Object.keys(r.getFields())),o=0!==s.length?"Did you mean "+(0,c.default)(s)+"?":void 0;e.reportError(new n.GraphQLError(h(r.name,t.name.value,o),t))}},EnumValue:function(t){var r=(0,i.getNamedType)(e.getInputType());(0,i.isEnumType)(r)?r.getValue(t.value)||e.reportError(new n.GraphQLError(l(r.name,(0,s.print)(t),m(r,t)),t)):f(e,t)},IntValue:function(t){return f(e,t)},FloatValue:function(t){return f(e,t)},StringValue:function(t){return f(e,t)},BooleanValue:function(t){return f(e,t)}}};var n=r(6972),s=r(23033),i=r(55003),o=p(r(39573)),a=p(r(82863)),c=p(r(11854)),u=p(r(78070));function p(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){return"Expected type "+e+", found "+t+(r?"; "+r:".")}function d(e,t,r){return"Field "+e+"."+t+" of required type "+r+" was not provided."}function h(e,t,r){return'Field "'+t+'" is not defined by type '+e+(r?"; "+r:".")}function f(e,t){var r=e.getInputType();if(r){var a=(0,i.getNamedType)(r);if((0,i.isScalarType)(a))try{var c=a.parseLiteral(t,void 0);(0,o.default)(c)&&e.reportError(new n.GraphQLError(l(String(r),(0,s.print)(t)),t))}catch(i){e.reportError(new n.GraphQLError(l(String(r),(0,s.print)(t),i.message),t,void 0,void 0,void 0,i))}else e.reportError(new n.GraphQLError(l(String(r),(0,s.print)(t),m(a,t)),t))}}function m(e,t){if((0,i.isEnumType)(e)){var r=(0,u.default)((0,s.print)(t),e.getValues().map((function(e){return e.name})));if(0!==r.length)return"Did you mean the enum value "+(0,c.default)(r)+"?"}}},15151:e=>{function t(e){return Array.isArray(e)?e:[e]}const r=/^\s+$/,n=/^\\!/,s=/^\\#/,i=/\r?\n/g,o=/^\.*\/|^\.+$/,a="undefined"!=typeof Symbol?Symbol.for("node-ignore"):"node-ignore",c=/([0-z])-([0-z])/g,u=()=>!1,p=[[/\\?\s+$/,e=>0===e.indexOf("\\")?" ":""],[/\\\s/g,()=>" "],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>"\\"],[/\\\\/g,()=>"\\"],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,s)=>"\\"===t?`\\[${r}${(e=>{const{length:t}=e;return e.slice(0,t-t%2)})(n)}${s}`:"]"===s&&n.length%2==0?`[${(e=>e.replace(c,((e,t,r)=>t.charCodeAt(0)<=r.charCodeAt(0)?e:"")))(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>(t?`${t}[^/]+`:"[^/]*")+"(?=$|\\/$)"]],l=Object.create(null),d=e=>"string"==typeof e;class h{constructor(e,t,r,n){this.origin=e,this.pattern=t,this.negative=r,this.regex=n}}const f=(e,t)=>{throw new t(e)},m=(e,t,r)=>d(e)?e?!m.isNotRelative(e)||r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),g=e=>o.test(e);m.isNotRelative=g,m.convert=e=>e;class _{constructor({ignorecase:e=!0,ignoreCase:t=e,allowRelativePaths:r=!1}={}){var n;n=a,Object.defineProperty(this,n,{value:true}),this._rules=[],this._ignoreCase=t,this._allowRelativePaths=r,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[a])return this._rules=this._rules.concat(e._rules),void(this._added=!0);if((e=>e&&d(e)&&!r.test(e)&&0!==e.indexOf("#"))(e)){const t=((e,t)=>{const r=e;let i=!1;0===e.indexOf("!")&&(i=!0,e=e.substr(1));const o=((e,t)=>{let r=l[e];return r||(r=p.reduce(((t,r)=>t.replace(r[0],r[1].bind(e))),e),l[e]=r),t?new RegExp(r,"i"):new RegExp(r)})(e=e.replace(n,"!").replace(s,"#"),t);return new h(r,e,i,o)})(e,this._ignoreCase);this._added=!0,this._rules.push(t)}}add(e){return this._added=!1,t(d(e)?(e=>e.split(i))(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,t){let r=!1,n=!1;return this._rules.forEach((s=>{const{negative:i}=s;n===i&&r!==n||i&&!r&&!n&&!t||s.regex.test(e)&&(r=!i,n=i)})),{ignored:r,unignored:n}}_test(e,t,r,n){const s=e&&m.convert(e);return m(s,e,this._allowRelativePaths?u:f),this._t(s,t,r,n)}_t(e,t,r,n){if(e in t)return t[e];if(n||(n=e.split("/")),n.pop(),!n.length)return t[e]=this._testOne(e,r);const s=this._t(n.join("/")+"/",t,r,n);return t[e]=s.ignored?s:this._testOne(e,r)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return t(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}}const y=e=>new _(e);if(y.isPathValid=e=>m(e&&m.convert(e),e,u),y.default=y,e.exports=y,"undefined"!=typeof process&&(process.env&&process.env.IGNORE_TEST_WIN32||"win32"===process.platform)){const e=e=>/^\\\\\?\\/.test(e)||/["<>|\u0000-\u001F]+/u.test(e)?e:e.replace(/\\/g,"/");m.convert=e;const t=/^[a-z]:\//i;m.isNotRelative=e=>t.test(e)||g(e)}},45e3:(e,t,r)=>{const n=r(71017),s=r(98627),{fileURLToPath:i}=r(57310),{importHooks:o,specifiers:a,toHook:c}=r(29889);function u(e){o.push(e),c.forEach((([t,r])=>e(t,r)))}function p(e){const t=o.indexOf(e);t>-1&&o.splice(t,1)}function l(e,t,r,n){const s=e(t,r,n);s&&s!==t&&(t.default=s)}function d(e,t,r){if(this instanceof d==0)return new d(e,t,r);"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null);const o=!!t&&!0===t.internals;this._iitmHook=(t,c)=>{const u=t;let p;if(t.startsWith("node:"))t=t.replace(/^node:/,"");else{if(t.startsWith("file://"))try{t=i(t)}catch(e){}const e=s(t);e&&(t=e.name,p=e.basedir)}if(e){for(const s of e)if(s===t){if(p)if(o)t=t+n.sep+n.relative(p,i(u));else if(!p.endsWith(a.get(u)))continue;l(r,c,t,p)}}else l(r,c,t,p)},u(this._iitmHook)}d.prototype.unhook=function(){p(this._iitmHook)},e.exports=d,e.exports.addHook=u,e.exports.removeHook=p},29889:(e,t)=>{const r=[],n=new WeakMap,s=new Map,i=[],o={set:(e,t,r)=>n.get(e)[t](r),defineProperty(e,t,r){if(!("value"in r))throw new Error("Getters/setters are not supported for exports property descriptors.");return n.get(e)[t](r.value)}};t.register=function(e,t,a,c){s.set(e,c),n.set(t,a);const u=new Proxy(t,o);r.forEach((t=>t(e,u))),i.push([e,u])},t.importHooks=r,t.specifiers=s,t.toHook=i},56512:function(e){!function(t){"use strict";const r="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp(`^${r}\\.${r}\\.${r}\\.${r}$`,"i"),threeOctet:new RegExp(`^${r}\\.${r}\\.${r}$`,"i"),twoOctet:new RegExp(`^${r}\\.${r}$`,"i"),longValue:new RegExp(`^${r}$`,"i")},s=new RegExp("^0[0-7]+$","i"),i=new RegExp("^0x[a-f0-9]+$","i"),o="%[0-9a-z]{1,}",a="(?:[0-9a-f]+::?)+",c={zoneIndex:new RegExp(o,"i"),native:new RegExp(`^(::)?(${a})?([0-9a-f]+)?(::)?(${o})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${r}\\.${r}\\.${r}\\.${r}(${o})?)$`,"i"),transitional:new RegExp(`^((?:${a})|(?:::)(?:${a})?)${r}\\.${r}\\.${r}\\.${r}(${o})?$`,"i")};function u(e,t){if(e.indexOf("::")!==e.lastIndexOf("::"))return null;let r,n,s=0,i=-1,o=(e.match(c.zoneIndex)||[])[0];for(o&&(o=o.substring(1),e=e.replace(/%.+$/,""));(i=e.indexOf(":",i+1))>=0;)s++;if("::"===e.substr(0,2)&&s--,"::"===e.substr(-2,2)&&s--,s>t)return null;for(n=t-s,r=":";n--;)r+="0:";return":"===(e=e.replace("::",r))[0]&&(e=e.slice(1)),":"===e[e.length-1]&&(e=e.slice(0,-1)),{parts:t=function(){const t=e.split(":"),r=[];for(let e=0;e<t.length;e++)r.push(parseInt(t[e],16));return r}(),zoneId:o}}function p(e,t,r,n){if(e.length!==t.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let s,i=0;for(;n>0;){if(s=r-n,s<0&&(s=0),e[i]>>s!=t[i]>>s)return!1;n-=r,i+=1}return!0}function l(e){if(i.test(e))return parseInt(e,16);if("0"===e[0]&&!isNaN(parseInt(e[1],10))){if(s.test(e))return parseInt(e,8);throw new Error(`ipaddr: cannot parse ${e} as octal`)}return parseInt(e,10)}function d(e,t){for(;e.length<t;)e=`0${e}`;return e}const h={};h.IPv4=function(){function e(e){if(4!==e.length)throw new Error("ipaddr: ipv4 octet count should be 4");let t,r;for(t=0;t<e.length;t++)if(r=e[t],!(0<=r&&r<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=e}return e.prototype.SpecialRanges={unspecified:[[new e([0,0,0,0]),8]],broadcast:[[new e([255,255,255,255]),32]],multicast:[[new e([224,0,0,0]),4]],linkLocal:[[new e([169,254,0,0]),16]],loopback:[[new e([127,0,0,0]),8]],carrierGradeNat:[[new e([100,64,0,0]),10]],private:[[new e([10,0,0,0]),8],[new e([172,16,0,0]),12],[new e([192,168,0,0]),16]],reserved:[[new e([192,0,0,0]),24],[new e([192,0,2,0]),24],[new e([192,88,99,0]),24],[new e([198,51,100,0]),24],[new e([203,0,113,0]),24],[new e([240,0,0,0]),4]]},e.prototype.kind=function(){return"ipv4"},e.prototype.match=function(e,t){let r;if(void 0===t&&(r=e,e=r[0],t=r[1]),"ipv4"!==e.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return p(this.octets,e.octets,8,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const r={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let n,s,i;for(n=3;n>=0;n-=1){if(s=this.octets[n],!(s in r))return null;if(i=r[s],t&&0!==i)return null;8!==i&&(t=!0),e+=i}return 32-e},e.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){return this.octets.slice(0)},e.prototype.toIPv4MappedAddress=function(){return h.IPv6.parse(`::ffff:${this.toString()}`)},e.prototype.toNormalizedString=function(){return this.toString()},e.prototype.toString=function(){return this.octets.join(".")},e}(),h.IPv4.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),r=t[0].toByteArray(),n=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),s=[];let i=0;for(;i<4;)s.push(parseInt(r[i],10)|255^parseInt(n[i],10)),i++;return new this(s)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},h.IPv4.isIPv4=function(e){return null!==this.parser(e)},h.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return!1}},h.IPv4.isValidFourPartDecimal=function(e){return!(!h.IPv4.isValid(e)||!e.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},h.IPv4.networkAddressFromCIDR=function(e){let t,r,n,s,i;try{for(t=this.parseCIDR(e),n=t[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),s=[],r=0;r<4;)s.push(parseInt(n[r],10)&parseInt(i[r],10)),r++;return new this(s)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},h.IPv4.parse=function(e){const t=this.parser(e);if(null===t)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(t)},h.IPv4.parseCIDR=function(e){let t;if(t=e.match(/^(.+)\/(\d+)$/)){const e=parseInt(t[2]);if(e>=0&&e<=32){const r=[this.parse(t[1]),e];return Object.defineProperty(r,"toString",{value:function(){return this.join("/")}}),r}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},h.IPv4.parser=function(e){let t,r,s;if(t=e.match(n.fourOctet))return function(){const e=t.slice(1,6),n=[];for(let t=0;t<e.length;t++)r=e[t],n.push(l(r));return n}();if(t=e.match(n.longValue)){if(s=l(t[1]),s>4294967295||s<0)throw new Error("ipaddr: address outside defined range");return function(){const e=[];let t;for(t=0;t<=24;t+=8)e.push(s>>t&255);return e}().reverse()}return(t=e.match(n.twoOctet))?function(){const e=t.slice(1,4),r=[];if(s=l(e[1]),s>16777215||s<0)throw new Error("ipaddr: address outside defined range");return r.push(l(e[0])),r.push(s>>16&255),r.push(s>>8&255),r.push(255&s),r}():(t=e.match(n.threeOctet))?function(){const e=t.slice(1,5),r=[];if(s=l(e[2]),s>65535||s<0)throw new Error("ipaddr: address outside defined range");return r.push(l(e[0])),r.push(l(e[1])),r.push(s>>8&255),r.push(255&s),r}():null},h.IPv4.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>32)throw new Error("ipaddr: invalid IPv4 prefix length");const t=[0,0,0,0];let r=0;const n=Math.floor(e/8);for(;r<n;)t[r]=255,r++;return n<4&&(t[n]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},h.IPv6=function(){function e(e,t){let r,n;if(16===e.length)for(this.parts=[],r=0;r<=14;r+=2)this.parts.push(e[r]<<8|e[r+1]);else{if(8!==e.length)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=e}for(r=0;r<this.parts.length;r++)if(n=this.parts[r],!(0<=n&&n<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");t&&(this.zoneId=t)}return e.prototype.SpecialRanges={unspecified:[new e([0,0,0,0,0,0,0,0]),128],linkLocal:[new e([65152,0,0,0,0,0,0,0]),10],multicast:[new e([65280,0,0,0,0,0,0,0]),8],loopback:[new e([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new e([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new e([0,0,0,0,0,65535,0,0]),96],rfc6145:[new e([0,0,0,0,65535,0,0,0]),96],rfc6052:[new e([100,65435,0,0,0,0,0,0]),96],"6to4":[new e([8194,0,0,0,0,0,0,0]),16],teredo:[new e([8193,0,0,0,0,0,0,0]),32],reserved:[[new e([8193,3512,0,0,0,0,0,0]),32]]},e.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},e.prototype.kind=function(){return"ipv6"},e.prototype.match=function(e,t){let r;if(void 0===t&&(r=e,e=r[0],t=r[1]),"ipv6"!==e.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return p(this.parts,e.parts,16,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const r={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let n,s;for(let i=7;i>=0;i-=1){if(n=this.parts[i],!(n in r))return null;if(s=r[n],t&&0!==s)return null;16!==s&&(t=!0),e+=s}return 128-e},e.prototype.range=function(){return h.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){let e;const t=[],r=this.parts;for(let n=0;n<r.length;n++)e=r[n],t.push(e>>8),t.push(255&e);return t},e.prototype.toFixedLengthString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(d(this.parts[t].toString(16),4));return e}.call(this).join(":");let t="";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");const e=this.parts.slice(-2),t=e[0],r=e[1];return new h.IPv4([t>>8,255&t,r>>8,255&r])},e.prototype.toNormalizedString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(this.parts[t].toString(16));return e}.call(this).join(":");let t="";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toRFC5952String=function(){const e=/((^|:)(0(:|$)){2,})/g,t=this.toNormalizedString();let r,n=0,s=-1;for(;r=e.exec(t);)r[0].length>s&&(n=r.index,s=r[0].length);return s<0?t:`${t.substring(0,n)}::${t.substring(n+s)}`},e.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},e}(),h.IPv6.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),r=t[0].toByteArray(),n=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),s=[];let i=0;for(;i<16;)s.push(parseInt(r[i],10)|255^parseInt(n[i],10)),i++;return new this(s)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},h.IPv6.isIPv6=function(e){return null!==this.parser(e)},h.IPv6.isValid=function(e){if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{const t=this.parser(e);return new this(t.parts,t.zoneId),!0}catch(e){return!1}},h.IPv6.networkAddressFromCIDR=function(e){let t,r,n,s,i;try{for(t=this.parseCIDR(e),n=t[0].toByteArray(),i=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),s=[],r=0;r<16;)s.push(parseInt(n[r],10)&parseInt(i[r],10)),r++;return new this(s)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},h.IPv6.parse=function(e){const t=this.parser(e);if(null===t.parts)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(t.parts,t.zoneId)},h.IPv6.parseCIDR=function(e){let t,r,n;if((r=e.match(/^(.+)\/(\d+)$/))&&(t=parseInt(r[2]),t>=0&&t<=128))return n=[this.parse(r[1]),t],Object.defineProperty(n,"toString",{value:function(){return this.join("/")}}),n;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},h.IPv6.parser=function(e){let t,r,n,s,i,o;if(n=e.match(c.deprecatedTransitional))return this.parser(`::ffff:${n[1]}`);if(c.native.test(e))return u(e,8);if((n=e.match(c.transitional))&&(o=n[6]||"",t=u(n[1].slice(0,-1)+o,6),t.parts)){for(i=[parseInt(n[2]),parseInt(n[3]),parseInt(n[4]),parseInt(n[5])],r=0;r<i.length;r++)if(s=i[r],!(0<=s&&s<=255))return null;return t.parts.push(i[0]<<8|i[1]),t.parts.push(i[2]<<8|i[3]),{parts:t.parts,zoneId:t.zoneId}}return null},h.IPv6.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>128)throw new Error("ipaddr: invalid IPv6 prefix length");const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let r=0;const n=Math.floor(e/8);for(;r<n;)t[r]=255,r++;return n<16&&(t[n]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},h.fromByteArray=function(e){const t=e.length;if(4===t)return new h.IPv4(e);if(16===t)return new h.IPv6(e);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},h.isValid=function(e){return h.IPv6.isValid(e)||h.IPv4.isValid(e)},h.parse=function(e){if(h.IPv6.isValid(e))return h.IPv6.parse(e);if(h.IPv4.isValid(e))return h.IPv4.parse(e);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},h.parseCIDR=function(e){try{return h.IPv6.parseCIDR(e)}catch(t){try{return h.IPv4.parseCIDR(e)}catch(e){throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},h.process=function(e){const t=this.parse(e);return"ipv6"===t.kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t},h.subnetMatch=function(e,t,r){let n,s,i,o;for(s in null==r&&(r="unicast"),t)if(Object.prototype.hasOwnProperty.call(t,s))for(i=t[s],!i[0]||i[0]instanceof Array||(i=[i]),n=0;n<i.length;n++)if(o=i[n],e.kind()===o[0].kind()&&e.match.apply(e,o))return s;return r},e.exports?e.exports=h:t.ipaddr=h}(this)},37646:(e,t,r)=>{"use strict";const{FileCoverage:n}=r(29666),{CoverageMap:s}=r(53228),{CoverageSummary:i}=r(57421);e.exports={createCoverageSummary:e=>e&&e instanceof i?e:new i(e),createCoverageMap:e=>e&&e instanceof s?e:new s(e),createFileCoverage:e=>e&&e instanceof n?e:new n(e)},e.exports.classes={FileCoverage:n}},53228:(e,t,r)=>{"use strict";const{FileCoverage:n}=r(29666),{CoverageSummary:s}=r(57421);function i(e,t){return e instanceof t?e:new t(e)}class o{constructor(e){this.data=e instanceof o?e.data:function(e){const t=Object.create(null);return e?(Object.entries(e).forEach((([e,r])=>{t[e]=i(r,n)})),t):t}(e)}merge(e){const t=i(e,o);Object.values(t.data).forEach((e=>{this.addFileCoverage(e)}))}filter(e){Object.keys(this.data).forEach((t=>{e(t)||delete this.data[t]}))}toJSON(){return this.data}files(){return Object.keys(this.data)}fileCoverageFor(e){const t=this.data[e];if(!t)throw new Error(`No file coverage available for: ${e}`);return t}addFileCoverage(e){const t=new n(e),{path:r}=t;this.data[r]?this.data[r].merge(t):this.data[r]=t}getCoverageSummary(){const e=new s;return Object.values(this.data).forEach((t=>{e.merge(t.toSummary())})),e}}e.exports={CoverageMap:o}},57421:(e,t,r)=>{"use strict";const n=r(56302),s=r(48694);class i{constructor(e){this.data=e?e instanceof i?e.data:e:{lines:{total:0,covered:0,skipped:0,pct:"Unknown"},statements:{total:0,covered:0,skipped:0,pct:"Unknown"},functions:{total:0,covered:0,skipped:0,pct:"Unknown"},branches:{total:0,covered:0,skipped:0,pct:"Unknown"},branchesTrue:{total:0,covered:0,skipped:0,pct:"Unknown"}},function(e){if(!(e&&e.lines&&e.statements&&e.functions&&e.branches))throw new Error("Invalid summary coverage object, missing keys, found:"+Object.keys(e).join(","))}(this.data)}merge(e){return["lines","statements","branches","functions","branchesTrue"].forEach((t=>{e[t]&&(this[t].total+=e[t].total,this[t].covered+=e[t].covered,this[t].skipped+=e[t].skipped,this[t].pct=n(this[t].covered,this[t].total))})),this}toJSON(){return this.data}isEmpty(){return 0===this.lines.total}}s(i,["lines","statements","functions","branches","branchesTrue"]),e.exports={CoverageSummary:i}},48694:e=>{"use strict";e.exports=function(e,t){t.forEach((t=>{Object.defineProperty(e.prototype,t,{enumerable:!0,get(){return this.data[t]}})}))}},29666:(e,t,r)=>{"use strict";const n=r(56302),s=r(48694),{CoverageSummary:i}=r(57421),o=({start:e,end:t})=>`${e.line}|${e.column}|${t.line}|${t.column}`,a=(e,t,r,n,s=o)=>{const i={};for(const[r,n]of Object.entries(e)){const e=t[r];i[s(e)]=[n,e]}for(const[e,t]of Object.entries(r)){const r=n[e],o=s(r);if(i[o]){const e=i[o];t.forEach?t.forEach(((t,r)=>{void 0!==e[0][r]?e[0][r]+=t:e[0][r]=t})):e[0]+=t}else i[o]=[t,r]}const a={},c={};return Object.values(i).forEach((([e,t],r)=>{a[r]=e,c[r]=t})),[a,c]};class c{constructor(e,t=!1){if(!e)throw new Error("Coverage must be initialized with a path or an object");if("string"==typeof e)this.data=function(e,t){const r={path:e,statementMap:{},fnMap:{},branchMap:{},s:{},f:{},b:{}};return t&&(r.bT={}),r}(e,t);else if(e instanceof c)this.data=e.data;else{if("object"!=typeof e)throw new Error("Invalid argument to coverage constructor");this.data=e}!function(e){if(!(e&&e.path&&e.statementMap&&e.fnMap&&e.branchMap&&e.s&&e.f&&e.b))throw new Error("Invalid file coverage object, missing keys, found:"+Object.keys(e).join(","))}(this.data)}getLineCoverage(){const e=this.data.statementMap,t=this.data.s,r=Object.create(null);return Object.entries(t).forEach((([t,n])=>{if(!e[t])return;const{line:s}=e[t].start,i=r[s];(void 0===i||i<n)&&(r[s]=n)})),r}getUncoveredLines(){const e=this.getLineCoverage(),t=[];return Object.entries(e).forEach((([e,r])=>{0===r&&t.push(e)})),t}getBranchCoverageByLine(){const e=this.branchMap,t=this.b,r={};return Object.entries(e).forEach((([e,n])=>{const s=n.line||n.loc.start.line,i=t[e];r[s]=r[s]||[],r[s].push(...i)})),Object.entries(r).forEach((([e,t])=>{const n=t.filter((e=>e>0)),s=n.length/t.length*100;r[e]={covered:n.length,total:t.length,coverage:s}})),r}toJSON(){return this.data}merge(e){if(!0===e.all)return;if(!0===this.all)return void(this.data=e.data);let[t,r]=a(this.s,this.statementMap,e.s,e.statementMap);this.data.s=t,this.data.statementMap=r;const n=e=>o(e.locations[0]);[t,r]=a(this.f,this.fnMap,e.f,e.fnMap,(e=>o(e.loc))),this.data.f=t,this.data.fnMap=r,[t,r]=a(this.b,this.branchMap,e.b,e.branchMap,n),this.data.b=t,this.data.branchMap=r,this.bT&&e.bT&&([t,r]=a(this.bT,this.branchMap,e.bT,e.branchMap,n),this.data.bT=t)}computeSimpleTotals(e){let t=this[e];"function"==typeof t&&(t=t.call(this));const r={total:Object.keys(t).length,covered:Object.values(t).filter((e=>!!e)).length,skipped:0};return r.pct=n(r.covered,r.total),r}computeBranchTotals(e){const t=this[e],r={total:0,covered:0,skipped:0};return Object.values(t).forEach((e=>{r.covered+=e.filter((e=>e>0)).length,r.total+=e.length})),r.pct=n(r.covered,r.total),r}resetHits(){const e=this.s,t=this.f,r=this.b,n=this.bT;Object.keys(e).forEach((t=>{e[t]=0})),Object.keys(t).forEach((e=>{t[e]=0})),Object.keys(r).forEach((e=>{r[e].fill(0)})),n&&Object.keys(n).forEach((e=>{n[e].fill(0)}))}toSummary(){const e={};return e.lines=this.computeSimpleTotals("getLineCoverage"),e.functions=this.computeSimpleTotals("f","fnMap"),e.statements=this.computeSimpleTotals("s","statementMap"),e.branches=this.computeBranchTotals("b"),this.bt&&(e.branchesTrue=this.computeBranchTotals("bT")),new i(e)}}s(c,["path","statementMap","fnMap","branchMap","s","f","b","bT","all"]),e.exports={FileCoverage:c}},56302:e=>{"use strict";e.exports=function(e,t){let r;return t>0?(r=1e5*e/t,Math.floor(r/10)/100):100}},71490:e=>{"use strict";e.exports=function(){for(var e,t,r=arguments.length,n=0;n<r;n++)if(null!=(t=e=arguments[n])&&t==t)return e;return e}},75516:(e,t,r)=>{t.RateLimiter=r(31114),t.TokenBucket=r(14976)},46188:e=>{e.exports=function(){if("undefined"!=typeof process&&process.hrtime){var e=process.hrtime(),t=e[0],r=e[1];return 1e3*t+Math.floor(r/1e6)}return(new Date).getTime()}},31114:(e,t,r)=>{var n=r(14976),s=r(46188),i=function(e,t,r){this.tokenBucket=new n(e,e,t,null),this.tokenBucket.content=e,this.curIntervalStart=s(),this.tokensThisInterval=0,this.fireImmediately=r};i.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(e,t){if(e>this.tokenBucket.bucketSize)return process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var r=this,n=s();if((n<this.curIntervalStart||n-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=n,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)process.nextTick(t.bind(null,null,-1));else{var i=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-n);setTimeout((function(){r.tokenBucket.removeTokens(e,o)}),i)}return!1}return this.tokenBucket.removeTokens(e,o);function o(n,s){if(n)return t(n,null);r.tokensThisInterval+=e,t(null,s)}},tryRemoveTokens:function(e){if(e>this.tokenBucket.bucketSize)return!1;var t=s();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var r=this.tokenBucket.tryRemoveTokens(e);return r&&(this.tokensThisInterval+=e),r},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},e.exports=i},14976:e=>{var t=function(e,t,r,n){if(this.bucketSize=e,this.tokensPerInterval=t,"string"==typeof r)switch(r){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+r)}else this.interval=r;this.parentBucket=n,this.content=0,this.lastDrip=+new Date};t.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(e,t){var r=this;return this.bucketSize?e>this.bucketSize?(process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),e>this.content?n():this.parentBucket?this.parentBucket.removeTokens(e,(function(s,i){return s?t(s,null):e>r.content?n():(r.content-=e,void t(null,Math.min(i,r.content)))})):(this.content-=e,process.nextTick(t.bind(null,null,this.content)),!0)):(process.nextTick(t.bind(null,null,e,Number.POSITIVE_INFINITY)),!0);function n(){var n=Math.ceil((e-r.content)*(r.interval/r.tokensPerInterval));return setTimeout((function(){r.removeTokens(e,t)}),n),!1}},tryRemoveTokens:function(e){return!(this.bucketSize&&(e>this.bucketSize||(this.drip(),e>this.content||this.parentBucket&&!this.parentBucket.tryRemoveTokens(e)||(this.content-=e,0))))},drip:function(){if(this.tokensPerInterval){var e=+new Date,t=Math.max(e-this.lastDrip,0);this.lastDrip=e;var r=t*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+r,this.bucketSize)}else this.content=this.bucketSize}},e.exports=t},35683:e=>{var t,r=1/0,n="[object Symbol]",s=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="\\ud800-\\udfff",a="\\u2700-\\u27bf",c="a-z\\xdf-\\xf6\\xf8-\\xff",u="A-Z\\xc0-\\xd6\\xd8-\\xde",p="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",l="["+p+"]",d="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",h="\\d+",f="["+a+"]",m="["+c+"]",g="[^"+o+p+h+a+c+u+"]",_="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="["+u+"]",v="(?:"+m+"|"+g+")",E="(?:"+b+"|"+g+")",S="(?:['’](?:d|ll|m|re|s|t|ve))?",T="(?:['’](?:D|LL|M|RE|S|T|VE))?",w="(?:"+d+"|\\ud83c[\\udffb-\\udfff])?",I="[\\ufe0e\\ufe0f]?",x=I+w+"(?:\\u200d(?:"+["[^"+o+"]",_,y].join("|")+")"+I+w+")*",k="(?:"+[f,_,y].join("|")+")"+x,O=RegExp("['’]","g"),A=RegExp(d,"g"),N=RegExp([b+"?"+m+"+"+S+"(?="+[l,b,"$"].join("|")+")",E+"+"+T+"(?="+[l,b+v,"$"].join("|")+")",b+"?"+v+"+"+S,b+"+"+T,h,k].join("|"),"g"),R=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,C="object"==typeof global&&global&&global.Object===Object&&global,L="object"==typeof self&&self&&self.Object===Object&&self,D=C||L||Function("return this")(),M=(t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},function(e){return null==t?void 0:t[e]}),P=Object.prototype.toString,j=D.Symbol,q=j?j.prototype:void 0,U=q?q.toString:void 0;function F(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&P.call(e)==n}(e))return U?U.call(e):"";var t=e+"";return"0"==t&&1/e==-r?"-0":t}(e)}var $,B=($=function(e,t,r){return e+(r?"-":"")+t.toLowerCase()},function(e){return function(e,t,r,n){for(var s=-1,i=e?e.length:0;++s<i;)r=t(r,e[s],s,e);return r}(function(e,t,r){return e=F(e),void 0===t?function(e){return R.test(e)}(e)?function(e){return e.match(N)||[]}(e):function(e){return e.match(s)||[]}(e):e.match(t)||[]}(function(e){return(e=F(e))&&e.replace(i,M).replace(A,"")}(e).replace(O,"")),$,"")});e.exports=B},25030:e=>{var t=9007199254740991,r="[object Arguments]",n="[object Function]",s="[object GeneratorFunction]",i="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,a=i||o||Function("return this")();function c(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var u=Object.prototype,p=u.hasOwnProperty,l=u.toString,d=a.Symbol,h=u.propertyIsEnumerable,f=d?d.isConcatSpreadable:void 0,m=Math.max;function g(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=_),s||(s=[]);++i<o;){var a=e[i];t>0&&r(a)?t>1?g(a,t-1,r,n,s):c(s,a):n||(s[s.length]=a)}return s}function _(e){return b(e)||function(e){return function(e){return v(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?l.call(e):"";return t==n||t==s}(e)}(e)}(e)&&p.call(e,"callee")&&(!h.call(e,"callee")||l.call(e)==r)}(e)||!!(f&&e&&e[f])}function y(e){if("string"==typeof e||function(e){return"symbol"==typeof e||v(e)&&"[object Symbol]"==l.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var b=Array.isArray;function v(e){return!!e&&"object"==typeof e}var E,S,T=(E=function(e,t){return null==e?{}:function(e,t){return function(e,t,r){for(var n=-1,s=t.length,i={};++n<s;){var o=t[n],a=e[o];r(0,o)&&(i[o]=a)}return i}(e=Object(e),t,(function(t,r){return r in e}))}(e,function(e,t){for(var r=-1,n=e?e.length:0,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}(g(t,1),y))},S=m(void 0===S?E.length-1:S,0),function(){for(var e=arguments,t=-1,r=m(e.length-S,0),n=Array(r);++t<r;)n[t]=e[S+t];t=-1;for(var s=Array(S+1);++t<S;)s[t]=e[t];return s[S]=n,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(E,this,s)});e.exports=T},58254:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",s=1,i=2,o=1/0,a=9007199254740991,c="[object Arguments]",u="[object Array]",p="[object Boolean]",l="[object Date]",d="[object Error]",h="[object Function]",f="[object GeneratorFunction]",m="[object Map]",g="[object Number]",_="[object Object]",y="[object Promise]",b="[object RegExp]",v="[object Set]",E="[object String]",S="[object Symbol]",T="[object WeakMap]",w="[object ArrayBuffer]",I="[object DataView]",x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/,O=/^\./,A=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,R=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,L={};L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L[c]=L[u]=L[w]=L[p]=L[I]=L[l]=L[d]=L[h]=L[m]=L[g]=L[_]=L[b]=L[v]=L[E]=L[T]=!1;var D="object"==typeof global&&global&&global.Object===Object&&global,M="object"==typeof self&&self&&self.Object===Object&&self,P=D||M||Function("return this")(),j=t&&!t.nodeType&&t,q=j&&e&&!e.nodeType&&e,U=q&&q.exports===j&&D.process,F=function(){try{return U&&U.binding("util")}catch(e){}}(),$=F&&F.isTypedArray;function B(e,t){for(var r=-1,n=e?e.length:0,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}function G(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}function V(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function H(e){return function(t){return e(t)}}function z(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function K(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Q(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var W,Y,J,X=Array.prototype,Z=Function.prototype,ee=Object.prototype,te=P["__core-js_shared__"],re=(W=/[^.]+$/.exec(te&&te.keys&&te.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",ne=Z.toString,se=ee.hasOwnProperty,ie=ee.toString,oe=RegExp("^"+ne.call(se).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ae=P.Symbol,ce=P.Uint8Array,ue=ee.propertyIsEnumerable,pe=X.splice,le=ae?ae.isConcatSpreadable:void 0,de=(Y=Object.keys,J=Object,function(e){return Y(J(e))}),he=Math.max,fe=Ke(P,"DataView"),me=Ke(P,"Map"),ge=Ke(P,"Promise"),_e=Ke(P,"Set"),ye=Ke(P,"WeakMap"),be=Ke(Object,"create"),ve=nt(fe),Ee=nt(me),Se=nt(ge),Te=nt(_e),we=nt(ye),Ie=ae?ae.prototype:void 0,xe=Ie?Ie.valueOf:void 0,ke=Ie?Ie.toString:void 0;function Oe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ae(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ne(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Re(e){var t=-1,r=e?e.length:0;for(this.__data__=new Ne;++t<r;)this.add(e[t])}function Ce(e){this.__data__=new Ae(e)}function Le(e,t){for(var r=e.length;r--;)if(ot(e[r][0],t))return r;return-1}Oe.prototype.clear=function(){this.__data__=be?be(null):{}},Oe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Oe.prototype.get=function(e){var t=this.__data__;if(be){var r=t[e];return r===n?void 0:r}return se.call(t,e)?t[e]:void 0},Oe.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:se.call(t,e)},Oe.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?n:t,this},Ae.prototype.clear=function(){this.__data__=[]},Ae.prototype.delete=function(e){var t=this.__data__,r=Le(t,e);return!(r<0||(r==t.length-1?t.pop():pe.call(t,r,1),0))},Ae.prototype.get=function(e){var t=this.__data__,r=Le(t,e);return r<0?void 0:t[r][1]},Ae.prototype.has=function(e){return Le(this.__data__,e)>-1},Ae.prototype.set=function(e,t){var r=this.__data__,n=Le(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ne.prototype.clear=function(){this.__data__={hash:new Oe,map:new(me||Ae),string:new Oe}},Ne.prototype.delete=function(e){return ze(this,e).delete(e)},Ne.prototype.get=function(e){return ze(this,e).get(e)},Ne.prototype.has=function(e){return ze(this,e).has(e)},Ne.prototype.set=function(e,t){return ze(this,e).set(e,t),this},Re.prototype.add=Re.prototype.push=function(e){return this.__data__.set(e,n),this},Re.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.clear=function(){this.__data__=new Ae},Ce.prototype.delete=function(e){return this.__data__.delete(e)},Ce.prototype.get=function(e){return this.__data__.get(e)},Ce.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ae){var n=r.__data__;if(!me||n.length<199)return n.push([e,t]),this;r=this.__data__=new Ne(n)}return r.set(e,t),this};var De,Me=(De=function(e,t){return e&&je(e,t,gt)},function(e,t){if(null==e)return e;if(!ut(e))return De(e,t);for(var r=e.length,n=-1,s=Object(e);++n<r&&!1!==t(s[n],n,s););return e});function Pe(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=We),s||(s=[]);++i<o;){var a=e[i];t>0&&r(a)?t>1?Pe(a,t-1,r,n,s):G(s,a):n||(s[s.length]=a)}return s}var je=function(e,t,r){for(var n=-1,s=Object(e),i=r(e),o=i.length;o--;){var a=i[++n];if(!1===t(s[a],a,s))break}return e};function qe(e,t){for(var r=0,n=(t=Xe(t,e)?[t]:Ge(t)).length;null!=e&&r<n;)e=e[rt(t[r++])];return r&&r==n?e:void 0}function Ue(e,t){return null!=e&&t in Object(e)}function Fe(e,t,r,n,o){return e===t||(null==e||null==t||!dt(e)&&!ht(t)?e!=e&&t!=t:function(e,t,r,n,o,a){var h=ct(e),f=ct(t),y=u,T=u;h||(y=(y=Qe(e))==c?_:y),f||(T=(T=Qe(t))==c?_:T);var x=y==_&&!z(e),k=T==_&&!z(t),O=y==T;if(O&&!x)return a||(a=new Ce),h||mt(e)?He(e,t,r,n,o,a):function(e,t,r,n,o,a,c){switch(r){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!n(new ce(e),new ce(t)));case p:case l:case g:return ot(+e,+t);case d:return e.name==t.name&&e.message==t.message;case b:case E:return e==t+"";case m:var u=K;case v:var h=a&i;if(u||(u=Q),e.size!=t.size&&!h)return!1;var f=c.get(e);if(f)return f==t;a|=s,c.set(e,t);var _=He(u(e),u(t),n,o,a,c);return c.delete(e),_;case S:if(xe)return xe.call(e)==xe.call(t)}return!1}(e,t,y,r,n,o,a);if(!(o&i)){var A=x&&se.call(e,"__wrapped__"),N=k&&se.call(t,"__wrapped__");if(A||N){var R=A?e.value():e,C=N?t.value():t;return a||(a=new Ce),r(R,C,n,o,a)}}return!!O&&(a||(a=new Ce),function(e,t,r,n,s,o){var a=s&i,c=gt(e),u=c.length;if(u!=gt(t).length&&!a)return!1;for(var p=u;p--;){var l=c[p];if(!(a?l in t:se.call(t,l)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);for(var f=a;++p<u;){var m=e[l=c[p]],g=t[l];if(n)var _=a?n(g,m,l,t,e,o):n(m,g,l,e,t,o);if(!(void 0===_?m===g||r(m,g,n,s,o):_)){h=!1;break}f||(f="constructor"==l)}if(h&&!f){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,r,n,o,a))}(e,t,Fe,r,n,o))}function $e(e){return"function"==typeof e?e:null==e?_t:"object"==typeof e?ct(e)?function(e,t){return Xe(e)&&Ze(t)?et(rt(e),t):function(r){var n=function(e,t,r){var n=null==e?void 0:qe(e,t);return void 0===n?void 0:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){for(var n,s=-1,i=(t=Xe(t,e)?[t]:Ge(t)).length;++s<i;){var o=rt(t[s]);if(!(n=null!=e&&r(e,o)))break;e=e[o]}return n||!!(i=e?e.length:0)&&lt(i)&&Ye(o,i)&&(ct(e)||at(e))}(e,t,Ue)}(r,e):Fe(t,n,void 0,s|i)}}(e[0],e[1]):(r=function(e){for(var t=gt(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,Ze(s)]}return t}(t=e),1==r.length&&r[0][2]?et(r[0][0],r[0][1]):function(e){return e===t||function(e,t,r,n){var o=r.length,a=o;if(null==e)return!a;for(e=Object(e);o--;){var c=r[o];if(c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var u=(c=r[o])[0],p=e[u],l=c[1];if(c[2]){if(void 0===p&&!(u in e))return!1}else{var d,h=new Ce;if(!(void 0===d?Fe(l,p,n,s|i,h):d))return!1}}return!0}(e,0,r)}):Xe(n=e)?(o=rt(n),function(e){return null==e?void 0:e[o]}):function(e){return function(t){return qe(t,e)}}(n);var t,r,n,o}function Be(e,t,r){var n=-1;t=B(t.length?t:[_t],H($e));var s=function(e,t){var r=-1,n=ut(e)?Array(e.length):[];return Me(e,(function(e,s,i){n[++r]=t(e)})),n}(e,(function(e,r,s){return{criteria:B(t,(function(t){return t(e)})),index:++n,value:e}}));return function(e,t){var n=e.length;for(e.sort((function(e,t){return function(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,a=r.length;++n<o;){var c=Ve(s[n],i[n]);if(c)return n>=a?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}));n--;)e[n]=e[n].value;return e}(s)}function Ge(e){return ct(e)?e:tt(e)}function Ve(e,t){if(e!==t){var r=void 0!==e,n=null===e,s=e==e,i=ft(e),o=void 0!==t,a=null===t,c=t==t,u=ft(t);if(!a&&!u&&!i&&e>t||i&&o&&c&&!a&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||a&&r&&s||!o&&s||!c)return-1}return 0}function He(e,t,r,n,o,a){var c=o&i,u=e.length,p=t.length;if(u!=p&&!(c&&p>u))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var d=-1,h=!0,f=o&s?new Re:void 0;for(a.set(e,t),a.set(t,e);++d<u;){var m=e[d],g=t[d];if(n)var _=c?n(g,m,d,t,e,a):n(m,g,d,e,t,a);if(void 0!==_){if(_)continue;h=!1;break}if(f){if(!V(t,(function(e,t){if(!f.has(t)&&(m===e||r(m,e,n,o,a)))return f.add(t)}))){h=!1;break}}else if(m!==g&&!r(m,g,n,o,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function ze(e,t){var r,n,s=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?s["string"==typeof t?"string":"hash"]:s.map}function Ke(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!dt(e)||function(e){return!!re&&re in e}(e))&&(pt(e)||z(e)?oe:R).test(nt(e))}(r)?r:void 0}var Qe=function(e){return ie.call(e)};function We(e){return ct(e)||at(e)||!!(le&&e&&e[le])}function Ye(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t}function Je(e,t,r){if(!dt(r))return!1;var n=typeof t;return!!("number"==n?ut(r)&&Ye(t,r.length):"string"==n&&t in r)&&ot(r[t],e)}function Xe(e,t){if(ct(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ft(e))||k.test(e)||!x.test(e)||null!=t&&e in Object(t)}function Ze(e){return e==e&&!dt(e)}function et(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}(fe&&Qe(new fe(new ArrayBuffer(1)))!=I||me&&Qe(new me)!=m||ge&&Qe(ge.resolve())!=y||_e&&Qe(new _e)!=v||ye&&Qe(new ye)!=T)&&(Qe=function(e){var t=ie.call(e),r=t==_?e.constructor:void 0,n=r?nt(r):void 0;if(n)switch(n){case ve:return I;case Ee:return m;case Se:return y;case Te:return v;case we:return T}return t});var tt=it((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(ft(e))return ke?ke.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(t);var r=[];return O.test(e)&&r.push(""),e.replace(A,(function(e,t,n,s){r.push(n?s.replace(N,"$1"):t||e)})),r}));function rt(e){if("string"==typeof e||ft(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function nt(e){if(null!=e){try{return ne.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var st=function(e,t){return t=he(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,s=he(r.length-t,0),i=Array(s);++n<s;)i[n]=r[t+n];n=-1;for(var o=Array(t+1);++n<t;)o[n]=r[n];return o[t]=i,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,o)}}((function(e,t){if(null==e)return[];var r=t.length;return r>1&&Je(e,t[0],t[1])?t=[]:r>2&&Je(t[0],t[1],t[2])&&(t=[t[0]]),Be(e,Pe(t,1),[])}));function it(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o),o};return r.cache=new(it.Cache||Ne),r}function ot(e,t){return e===t||e!=e&&t!=t}function at(e){return function(e){return ht(e)&&ut(e)}(e)&&se.call(e,"callee")&&(!ue.call(e,"callee")||ie.call(e)==c)}it.Cache=Ne;var ct=Array.isArray;function ut(e){return null!=e&&lt(e.length)&&!pt(e)}function pt(e){var t=dt(e)?ie.call(e):"";return t==h||t==f}function lt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function dt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ht(e){return!!e&&"object"==typeof e}function ft(e){return"symbol"==typeof e||ht(e)&&ie.call(e)==S}var mt=$?H($):function(e){return ht(e)&&lt(e.length)&&!!L[ie.call(e)]};function gt(e){return ut(e)?function(e,t){var r=ct(e)||at(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,s=!!n;for(var i in e)!t&&!se.call(e,i)||s&&("length"==i||Ye(i,n))||r.push(i);return r}(e):function(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||ee))return de(e);var t,r,n=[];for(var s in Object(e))se.call(e,s)&&"constructor"!=s&&n.push(s);return n}(e)}function _t(e){return e}e.exports=st},97644:e=>{var t="__lodash_hash_undefined__",r="[object Function]",n="[object GeneratorFunction]",s=/^\[object .+?Constructor\]$/,i="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,a=i||o||Function("return this")();function c(e,t){return!(!e||!e.length)&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var s=e.length,i=-1;++i<s;)if(t(e[i],i,e))return i;return-1}(e,u);for(var n=-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}(e,t)>-1}function u(e){return e!=e}function p(e,t){return e.has(t)}function l(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var d,h=Array.prototype,f=Function.prototype,m=Object.prototype,g=a["__core-js_shared__"],_=(d=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",y=f.toString,b=m.hasOwnProperty,v=m.toString,E=RegExp("^"+y.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=h.splice,T=L(a,"Map"),w=L(a,"Set"),I=L(Object,"create");function x(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function k(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function O(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function A(e){var t=-1,r=e?e.length:0;for(this.__data__=new O;++t<r;)this.add(e[t])}function N(e,t){for(var r,n,s=e.length;s--;)if((r=e[s][0])===(n=t)||r!=r&&n!=n)return s;return-1}x.prototype.clear=function(){this.__data__=I?I(null):{}},x.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},x.prototype.get=function(e){var r=this.__data__;if(I){var n=r[e];return n===t?void 0:n}return b.call(r,e)?r[e]:void 0},x.prototype.has=function(e){var t=this.__data__;return I?void 0!==t[e]:b.call(t,e)},x.prototype.set=function(e,r){return this.__data__[e]=I&&void 0===r?t:r,this},k.prototype.clear=function(){this.__data__=[]},k.prototype.delete=function(e){var t=this.__data__,r=N(t,e);return!(r<0||(r==t.length-1?t.pop():S.call(t,r,1),0))},k.prototype.get=function(e){var t=this.__data__,r=N(t,e);return r<0?void 0:t[r][1]},k.prototype.has=function(e){return N(this.__data__,e)>-1},k.prototype.set=function(e,t){var r=this.__data__,n=N(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},O.prototype.clear=function(){this.__data__={hash:new x,map:new(T||k),string:new x}},O.prototype.delete=function(e){return C(this,e).delete(e)},O.prototype.get=function(e){return C(this,e).get(e)},O.prototype.has=function(e){return C(this,e).has(e)},O.prototype.set=function(e,t){return C(this,e).set(e,t),this},A.prototype.add=A.prototype.push=function(e){return this.__data__.set(e,t),this},A.prototype.has=function(e){return this.__data__.has(e)};var R=w&&1/l(new w([,-0]))[1]==1/0?function(e){return new w(e)}:function(){};function C(e,t){var r,n,s=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?s["string"==typeof t?"string":"hash"]:s.map}function L(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){if(!D(e)||_&&_ in e)return!1;var t=function(e){var t=D(e)?v.call(e):"";return t==r||t==n}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?E:s;return t.test(function(e){if(null!=e){try{return y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(i)?i:void 0}function D(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return e&&e.length?function(e,t,r){var n=-1,s=c,i=e.length,o=!0,a=[],u=a;if(i>=200){var d=R(e);if(d)return l(d);o=!1,s=p,u=new A}else u=a;e:for(;++n<i;){var h=e[n],f=h;if(h=0!==h?h:0,o&&f==f){for(var m=u.length;m--;)if(u[m]===f)continue e;a.push(h)}else s(u,f,r)||(u!==a&&u.push(f),a.push(h))}return a}(e):[]}},39593:e=>{const t="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,r="function"==typeof AbortController?AbortController:class{constructor(){this.signal=new i}abort(){this.signal.dispatchEvent("abort")}},n="function"==typeof AbortSignal,s="function"==typeof r.AbortSignal,i=n?AbortSignal:s?r.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(e){if("abort"===e){this.aborted=!0;const t={type:e,target:this};this.onabort(t),this._listeners.forEach((e=>e(t)),this)}}onabort(){}addEventListener(e,t){"abort"===e&&this._listeners.push(t)}removeEventListener(e,t){"abort"===e&&(this._listeners=this._listeners.filter((e=>e!==t)))}},o=new Set,a=(e,t)=>{const r=`LRU_CACHE_OPTION_${e}`;p(r)&&l(r,`${e} option`,`options.${t}`,g)},c=(e,t)=>{const r=`LRU_CACHE_METHOD_${e}`;if(p(r)){const{prototype:n}=g,{get:s}=Object.getOwnPropertyDescriptor(n,e);l(r,`${e} method`,`cache.${t}()`,s)}},u=(...e)=>{"object"==typeof process&&process&&"function"==typeof process.emitWarning?process.emitWarning(...e):console.error(...e)},p=e=>!o.has(e),l=(e,t,r,n)=>{o.add(e),u(`The ${t} is deprecated. Please use ${r} instead.`,"DeprecationWarning",e,n)},d=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),h=e=>d(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?f:null:null;class f extends Array{constructor(e){super(e),this.fill(0)}}class m{constructor(e){if(0===e)return[];const t=h(e);this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class g{constructor(e={}){const{max:t=0,ttl:r,ttlResolution:n=1,ttlAutopurge:s,updateAgeOnGet:i,updateAgeOnHas:c,allowStale:l,dispose:f,disposeAfter:_,noDisposeOnSet:y,noUpdateTTL:b,maxSize:v=0,maxEntrySize:E=0,sizeCalculation:S,fetchMethod:T,fetchContext:w,noDeleteOnFetchRejection:I,noDeleteOnStaleGet:x}=e,{length:k,maxAge:O,stale:A}=e instanceof g?{}:e;if(0!==t&&!d(t))throw new TypeError("max option must be a nonnegative integer");const N=t?h(t):Array;if(!N)throw new Error("invalid max value: "+t);if(this.max=t,this.maxSize=v,this.maxEntrySize=E||this.maxSize,this.sizeCalculation=S||k,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=T||null,this.fetchMethod&&"function"!=typeof this.fetchMethod)throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=w,!this.fetchMethod&&void 0!==w)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(t).fill(null),this.valList=new Array(t).fill(null),this.next=new N(t),this.prev=new N(t),this.head=0,this.tail=0,this.free=new m(t),this.initialFill=1,this.size=0,"function"==typeof f&&(this.dispose=f),"function"==typeof _?(this.disposeAfter=_,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!y,this.noUpdateTTL=!!b,this.noDeleteOnFetchRejection=!!I,0!==this.maxEntrySize){if(0!==this.maxSize&&!d(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!d(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!l||!!A,this.noDeleteOnStaleGet=!!x,this.updateAgeOnGet=!!i,this.updateAgeOnHas=!!c,this.ttlResolution=d(n)||0===n?n:1,this.ttlAutopurge=!!s,this.ttl=r||O||0,this.ttl){if(!d(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(0===this.max&&0===this.ttl&&0===this.maxSize)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const e="LRU_CACHE_UNBOUNDED";p(e)&&(o.add(e),u("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,g))}A&&a("stale","allowStale"),O&&a("maxAge","ttl"),k&&a("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new f(this.max),this.starts=new f(this.max),this.setItemTTL=(e,r,n=t.now())=>{if(this.starts[e]=0!==r?n:0,this.ttls[e]=r,0!==r&&this.ttlAutopurge){const t=setTimeout((()=>{this.isStale(e)&&this.delete(this.keyList[e])}),r+1);t.unref&&t.unref()}},this.updateItemAge=e=>{this.starts[e]=0!==this.ttls[e]?t.now():0};let e=0;const r=()=>{const r=t.now();if(this.ttlResolution>0){e=r;const t=setTimeout((()=>e=0),this.ttlResolution);t.unref&&t.unref()}return r};this.getRemainingTTL=t=>{const n=this.keyMap.get(t);return void 0===n?0:0===this.ttls[n]||0===this.starts[n]?1/0:this.starts[n]+this.ttls[n]-(e||r())},this.isStale=t=>0!==this.ttls[t]&&0!==this.starts[t]&&(e||r())-this.starts[t]>this.ttls[t]}updateItemAge(e){}setItemTTL(e,t,r){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new f(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,t,r,n)=>{if(!d(r)){if(!n)throw new TypeError("invalid size value (must be positive integer)");if("function"!=typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(t,e),!d(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.addItemSize=(e,t)=>{this.sizes[e]=t;const r=this.maxSize-this.sizes[e];for(;this.calculatedSize>r;)this.evict(!0);this.calculatedSize+=this.sizes[e]}}removeItemSize(e){}addItemSize(e,t){}requireSize(e,t,r,n){if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let t=this.tail;this.isValidIndex(t)&&(!e&&this.isStale(t)||(yield t),t!==this.head);)t=this.prev[t]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let t=this.head;this.isValidIndex(t)&&(!e&&this.isStale(t)||(yield t),t!==this.tail);)t=this.next[t]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(const e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(const e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(const e of this.indexes())yield this.keyList[e]}*rkeys(){for(const e of this.rindexes())yield this.keyList[e]}*values(){for(const e of this.indexes())yield this.valList[e]}*rvalues(){for(const e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,t={}){for(const r of this.indexes())if(e(this.valList[r],this.keyList[r],this))return this.get(this.keyList[r],t)}forEach(e,t=this){for(const r of this.indexes())e.call(t,this.valList[r],this.keyList[r],this)}rforEach(e,t=this){for(const r of this.rindexes())e.call(t,this.valList[r],this.keyList[r],this)}get prune(){return c("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(const t of this.rindexes({allowStale:!0}))this.isStale(t)&&(this.delete(this.keyList[t]),e=!0);return e}dump(){const e=[];for(const r of this.indexes({allowStale:!0})){const n=this.keyList[r],s=this.valList[r],i={value:this.isBackgroundFetch(s)?s.__staleWhileFetching:s};if(this.ttls){i.ttl=this.ttls[r];const e=t.now()-this.starts[r];i.start=Math.floor(Date.now()-e)}this.sizes&&(i.size=this.sizes[r]),e.unshift([n,i])}return e}load(e){this.clear();for(const[r,n]of e){if(n.start){const e=Date.now()-n.start;n.start=t.now()-e}this.set(r,n.value,n)}}dispose(e,t,r){}set(e,t,{ttl:r=this.ttl,start:n,noDisposeOnSet:s=this.noDisposeOnSet,size:i=0,sizeCalculation:o=this.sizeCalculation,noUpdateTTL:a=this.noUpdateTTL}={}){if(i=this.requireSize(e,t,i,o),this.maxEntrySize&&i>this.maxEntrySize)return this;let c=0===this.size?void 0:this.keyMap.get(e);if(void 0===c)c=this.newIndex(),this.keyList[c]=e,this.valList[c]=t,this.keyMap.set(e,c),this.next[this.tail]=c,this.prev[c]=this.tail,this.tail=c,this.size++,this.addItemSize(c,i),a=!1;else{const r=this.valList[c];t!==r&&(this.isBackgroundFetch(r)?r.__abortController.abort():s||(this.dispose(r,e,"set"),this.disposeAfter&&this.disposed.push([r,e,"set"])),this.removeItemSize(c),this.valList[c]=t,this.addItemSize(c,i)),this.moveToTail(c)}if(0===r||0!==this.ttl||this.ttls||this.initializeTTLTracking(),a||this.setItemTTL(c,r,n),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return 0===this.size?this.tail:this.size===this.max&&0!==this.max?this.evict(!1):0!==this.free.length?this.free.pop():this.initialFill++}pop(){if(this.size){const e=this.valList[this.head];return this.evict(!0),e}}evict(e){const t=this.head,r=this.keyList[t],n=this.valList[t];return this.isBackgroundFetch(n)?n.__abortController.abort():(this.dispose(n,r,"evict"),this.disposeAfter&&this.disposed.push([n,r,"evict"])),this.removeItemSize(t),e&&(this.keyList[t]=null,this.valList[t]=null,this.free.push(t)),this.head=this.next[t],this.keyMap.delete(r),this.size--,t}has(e,{updateAgeOnHas:t=this.updateAgeOnHas}={}){const r=this.keyMap.get(e);return void 0!==r&&!this.isStale(r)&&(t&&this.updateItemAge(r),!0)}peek(e,{allowStale:t=this.allowStale}={}){const r=this.keyMap.get(e);if(void 0!==r&&(t||!this.isStale(r))){const e=this.valList[r];return this.isBackgroundFetch(e)?e.__staleWhileFetching:e}}backgroundFetch(e,t,n,s){const i=void 0===t?void 0:this.valList[t];if(this.isBackgroundFetch(i))return i;const o=new r,a={signal:o.signal,options:n,context:s},c=new Promise((t=>t(this.fetchMethod(e,i,a)))).then((t=>(o.signal.aborted||this.set(e,t,a.options),t)),(r=>{if(this.valList[t]===c&&(n.noDeleteOnFetchRejection&&void 0!==c.__staleWhileFetching?this.valList[t]=c.__staleWhileFetching:this.delete(e)),c.__returned===c)throw r}));return c.__abortController=o,c.__staleWhileFetching=i,c.__returned=null,void 0===t?(this.set(e,c,a.options),t=this.keyMap.get(e)):this.valList[t]=c,c}isBackgroundFetch(e){return e&&"object"==typeof e&&"function"==typeof e.then&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||null===e.__returned)}async fetch(e,{allowStale:t=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:i=this.noDisposeOnSet,size:o=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,fetchContext:p=this.fetchContext,forceRefresh:l=!1}={}){if(!this.fetchMethod)return this.get(e,{allowStale:t,updateAgeOnGet:r,noDeleteOnStaleGet:n});const d={allowStale:t,updateAgeOnGet:r,noDeleteOnStaleGet:n,ttl:s,noDisposeOnSet:i,size:o,sizeCalculation:a,noUpdateTTL:c,noDeleteOnFetchRejection:u};let h=this.keyMap.get(e);if(void 0===h){const t=this.backgroundFetch(e,h,d,p);return t.__returned=t}{const n=this.valList[h];if(this.isBackgroundFetch(n))return t&&void 0!==n.__staleWhileFetching?n.__staleWhileFetching:n.__returned=n;if(!l&&!this.isStale(h))return this.moveToTail(h),r&&this.updateItemAge(h),n;const s=this.backgroundFetch(e,h,d,p);return t&&void 0!==s.__staleWhileFetching?s.__staleWhileFetching:s.__returned=s}}get(e,{allowStale:t=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet}={}){const s=this.keyMap.get(e);if(void 0!==s){const i=this.valList[s],o=this.isBackgroundFetch(i);if(this.isStale(s))return o?t?i.__staleWhileFetching:void 0:(n||this.delete(e),t?i:void 0);if(o)return;return this.moveToTail(s),r&&this.updateItemAge(s),i}}connect(e,t){this.prev[t]=e,this.next[e]=t}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return c("del","delete"),this.delete}delete(e){let t=!1;if(0!==this.size){const r=this.keyMap.get(e);if(void 0!==r)if(t=!0,1===this.size)this.clear();else{this.removeItemSize(r);const t=this.valList[r];this.isBackgroundFetch(t)?t.__abortController.abort():(this.dispose(t,e,"delete"),this.disposeAfter&&this.disposed.push([t,e,"delete"])),this.keyMap.delete(e),this.keyList[r]=null,this.valList[r]=null,r===this.tail?this.tail=this.prev[r]:r===this.head?this.head=this.next[r]:(this.next[this.prev[r]]=this.next[r],this.prev[this.next[r]]=this.prev[r]),this.size--,this.free.push(r)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return t}clear(){for(const e of this.rindexes({allowStale:!0})){const t=this.valList[e];if(this.isBackgroundFetch(t))t.__abortController.abort();else{const r=this.keyList[e];this.dispose(t,r,"delete"),this.disposeAfter&&this.disposed.push([t,r,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return c("reset","clear"),this.clear}get length(){return((e,t)=>{const r=`LRU_CACHE_PROPERTY_${e}`;if(p(r)){const{prototype:t}=g,{get:n}=Object.getOwnPropertyDescriptor(t,e);l(r,`${e} property`,"cache.size",n)}})("length"),this.size}static get AbortController(){return r}static get AbortSignal(){return i}}e.exports=g},38873:(e,t,r)=>{"use strict";var n=r(13685);e.exports=n.METHODS&&n.METHODS.map((function(e){return e.toLowerCase()}))||["get","post","put","head","delete","options","trace","copy","lock","mkcol","move","purge","propfind","proppatch","unlock","report","mkactivity","checkout","merge","m-search","notify","subscribe","unsubscribe","patch","search","connect"]},98627:(e,t,r)=>{"use strict";var n=r(71017);e.exports=function(e){var t=e.split(n.sep),r=t.lastIndexOf("node_modules");if(-1!==r&&t[r+1]){var s="@"===t[r+1][0],i=s?3:2;return{name:s?t[r+1]+"/"+t[r+2]:t[r+1],basedir:t.slice(0,r+i).join(n.sep),path:t.slice(r+i).join(n.sep)}}}},53357:(e,t,r)=>{const{EventEmitter:n}=r(82361);class s{constructor(){this.eventEmitter=new n,this.onabort=null,this.aborted=!1}toString(){return"[object AbortSignal]"}get[Symbol.toStringTag](){return"AbortSignal"}removeEventListener(e,t){this.eventEmitter.removeListener(e,t)}addEventListener(e,t){this.eventEmitter.on(e,t)}dispatchEvent(e){const t={type:e,target:this},r=`on${e}`;"function"==typeof this[r]&&this[r](t),this.eventEmitter.emit(e,t)}}class i{constructor(){this.signal=new s}abort(){this.signal.aborted||(this.signal.aborted=!0,this.signal.dispatchEvent("abort"))}toString(){return"[object AbortController]"}get[Symbol.toStringTag](){return"AbortController"}}e.exports={AbortController:i,AbortSignal:s}},19516:(e,t,r)=>{var n=r(57147),s=r(71017),i=r(22037),o=require,a=!!process.env.PREBUILDS_ONLY,c=process.versions.modules,u=process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":"node",p=i.arch(),l=i.platform(),d=process.env.LIBC||(function(e){return"linux"===e&&n.existsSync("/etc/alpine-release")}(l)?"musl":"glibc"),h=process.env.ARM_VERSION||("arm64"===p?"8":process.config.variables.arm_version)||"";function f(e){return o(f.path(e))}function m(e,t){try{var r=n.readdirSync(e).filter(t);return r[0]&&s.join(e,r[0])}catch(e){return null}}function g(e){return e===u+"-napi.node"}function _(e){return"node-napi.node"===e}function y(e){var t=e.split("-");return t[0]===u&&t[1]===c+".node"}function b(e){return/\.node$/.test(e)}e.exports=f,f.path=function(e){e=s.resolve(e||".");try{var t=o(s.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}if(!a){var r=m(s.join(e,"build/Release"),b);if(r)return r;var n=m(s.join(e,"build/Debug"),b);if(n)return n}var i=[l+"-"+p];d&&i.push(l+d+"-"+p),"arm"!==p&&"arm64"!==p||!h||i.forEach((function(e){i.push(e+"-v"+h)}));for(var f=i.length;f--;){var v=m(s.join(e,"prebuilds/"+i[f]),y);if(v)return v;var E=m(s.join(e,"prebuilds/"+i[f]),g);if(E)return E;var S=m(s.join(e,"prebuilds/"+i[f]),_);if(S)return S}throw new Error("No native build was found for runtime="+u+" abi="+c+" platform="+l+d+" arch="+p)}},80406:(e,t,r)=>{"use strict";const n=r(99778);e.exports=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const t=new n;let r=0;const s=async(e,n,...s)=>{r++;const i=(async()=>e(...s))();n(i);try{await i}catch{}r--,t.size>0&&t.dequeue()()},i=(n,...i)=>new Promise((o=>{((n,i,...o)=>{t.enqueue(s.bind(null,n,i,...o)),(async()=>{await Promise.resolve(),r<e&&t.size>0&&t.dequeue()()})()})(n,o,...i)}));return Object.defineProperties(i,{activeCount:{get:()=>r},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),i}},14779:e=>{e.exports=function e(r,n,s){n=n||[];var i,o=(s=s||{}).strict,a=!1!==s.end,c=s.sensitive?"":"i",u=0,p=n.length,l=0,d=0;if(r instanceof RegExp){for(;i=t.exec(r.source);)n.push({name:d++,optional:!1,offset:i.index});return r}if(Array.isArray(r))return r=r.map((function(t){return e(t,n,s).source})),new RegExp("(?:"+r.join("|")+")",c);for(r=("^"+r+(o?"":"/"===r[r.length-1]?"?":"/?")).replace(/\/\(/g,"/(?:").replace(/([\/\.])/g,"\\$1").replace(/(\\\/)?(\\\.)?:(\w+)(\(.*?\))?(\*)?(\?)?/g,(function(e,t,r,s,i,o,a,c){t=t||"",r=r||"",i=i||"([^\\/"+r+"]+?)",a=a||"",n.push({name:s,optional:!!a,offset:c+u});var p=(a?"":t)+"(?:"+r+(a?t:"")+i+(o?"((?:[\\/"+r+"].+?)?)":"")+")"+a;return u+=p.length-e.length,p})).replace(/\*/g,(function(e,t){for(var r=n.length;r-- >p&&n[r].offset>t;)n[r].offset+=3;return"(.*)"}));i=t.exec(r);){for(var h=0,f=i.index;"\\"===r.charAt(--f);)h++;h%2!=1&&((p+l===n.length||n[p+l].offset>i.index)&&n.splice(p+l,0,{name:d++,optional:!1,offset:i.index}),l++)}return r+=a?"$":"/"===r[r.length-1]?"":"(?=\\/|$)",new RegExp(r,c)};var t=/\((?!\?)/g},12352:e=>{"use strict";const t=(e,t,r,n)=>function(...s){return new(0,t.promiseModule)(((i,o)=>{t.multiArgs?s.push(((...e)=>{t.errorFirst?e[0]?o(e):(e.shift(),i(e)):i(e)})):t.errorFirst?s.push(((e,t)=>{e?o(e):i(t)})):s.push(i);const a=this===r?n:this;Reflect.apply(e,a,s)}))},r=new WeakMap;e.exports=(e,n)=>{n={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...n};const s=typeof e;if(null===e||"object"!==s&&"function"!==s)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":s}\``);const i=new WeakMap,o=new Proxy(e,{apply(e,r,s){const a=i.get(e);if(a)return Reflect.apply(a,r,s);const c=n.excludeMain?e:t(e,n,o,e);return i.set(e,c),Reflect.apply(c,r,s)},get(e,s){const a=e[s];if(!((e,t)=>{let s=r.get(e);if(s||(s={},r.set(e,s)),t in s)return s[t];const i=e=>"string"==typeof e||"symbol"==typeof t?t===e:e.test(t),o=Reflect.getOwnPropertyDescriptor(e,t),a=void 0===o||o.writable||o.configurable,c=(n.include?n.include.some(i):!n.exclude.some(i))&&a;return s[t]=c,c})(e,s)||a===Function.prototype[s])return a;const c=i.get(a);if(c)return c;if("function"==typeof a){const r=t(a,n,o,e);return i.set(a,r),r}return a}});return o}},62100:(e,t,r)=>{"use strict";e.exports=r(89482)},89482:(e,t,r)=>{"use strict";var n=t;function s(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(41173),n.BufferWriter=r(43155),n.Reader=r(51408),n.BufferReader=r(50593),n.util=r(99693),n.rpc=r(35994),n.roots=r(85054),n.configure=s,s()},51408:(e,t,r)=>{"use strict";e.exports=c;var n,s=r(99693),i=s.LongBits,o=s.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u,p="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},l=function(){return s.Buffer?function(e){return(c.create=function(e){return s.Buffer.isBuffer(e)?new n(e):p(e)})(e)}:p};function d(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw a(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}c.create=l(),c.prototype._slice=s.Array.prototype.subarray||s.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=s.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=s.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e,c.create=l(),n._configure();var t=s.Long?"toLong":"toNumber";s.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},50593:(e,t,r)=>{"use strict";e.exports=i;var n=r(51408);(i.prototype=Object.create(n.prototype)).constructor=i;var s=r(99693);function i(e){n.call(this,e)}i._configure=function(){s.Buffer&&(i.prototype._slice=s.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},85054:e=>{"use strict";e.exports={}},35994:(e,t,r)=>{"use strict";t.Service=r(77948)},77948:(e,t,r)=>{"use strict";e.exports=s;var n=r(99693);function s(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(s.prototype=Object.create(n.EventEmitter.prototype)).constructor=s,s.prototype.rpcCall=function e(t,r,s,i,o){if(!i)throw TypeError("request must be specified");var a=this;if(!o)return n.asPromise(e,a,t,r,s,i);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,r){if(e)return a.emit("error",e,t),o(e);if(null!==r){if(!(r instanceof s))try{r=s[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",r,t),o(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},s.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(e,t,r)=>{"use strict";e.exports=s;var n=r(99693);function s(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=s.zero=new s(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var o=s.zeroHash="\0\0\0\0\0\0\0\0";s.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new s(r,n)},s.from=function(e){if("number"==typeof e)return s.fromNumber(e);if(n.isString(e)){if(!n.Long)return s.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new s(e.low>>>0,e.high>>>0):i},s.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},s.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;s.fromHash=function(e){return e===o?i:new s((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},s.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},s.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},s.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},s.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},99693:function(e,t,r){"use strict";var n=t;function s(e,t,r){for(var n=Object.keys(t),s=0;s<n.length;++s)void 0!==e[n[s]]&&r||(e[n[s]]=t[n[s]]);return e}function i(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&s(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:()=>e,set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(34537),n.base64=r(97419),n.EventEmitter=r(19211),n.float=r(10945),n.inquire=r(67199),n.utf8=r(94997),n.pool=r(76662),n.LongBits=r(1945),n.isNode=Boolean("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=s,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=i,n.ProtocolError=i("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},41173:(e,t,r)=>{"use strict";e.exports=l;var n,s=r(99693),i=s.LongBits,o=s.base64,a=s.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function p(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function l(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var d=function(){return s.Buffer?function(){return(l.create=function(){return new n})()}:function(){return new l}};function h(e,t,r){t[r]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function g(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}l.create=d(),l.alloc=function(e){return new s.Array(e)},s.Array!==Array&&(l.alloc=s.pool(l.alloc,s.Array.prototype.subarray)),l.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},f.prototype=Object.create(c.prototype),f.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(m,10,i.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.uint64=function(e){var t=i.from(e);return this._push(m,t.length(),t)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(m,t.length(),t)},l.prototype.bool=function(e){return this._push(h,1,e?1:0)},l.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(e){var t=i.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(e){return this._push(s.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(s.float.writeDoubleLE,8,e)};var _=s.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(s.isString(e)){var r=l.alloc(t=o.length(e));o.decode(e,r,0),e=r}return this.uint32(t)._push(_,t,e)},l.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(h,1,0)},l.prototype.fork=function(){return this.states=new p(this),this.head=this.tail=new c(u,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},l._configure=function(e){n=e,l.create=d(),n._configure()}},43155:(e,t,r)=>{"use strict";e.exports=i;var n=r(41173);(i.prototype=Object.create(n.prototype)).constructor=i;var s=r(99693);function i(){n.call(this)}function o(e,t,r){e.length<40?s.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=s._Buffer_allocUnsafe,i.writeBytesBuffer=s.Buffer&&s.Buffer.prototype instanceof Uint8Array&&"set"===s.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){s.isString(e)&&(e=s._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=s.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},i._configure()},99353:(e,t,r)=>{e.exports=r(71846)},71846:(e,t,r)=>{var n=r(41960);t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&e.forever,unref:e&&e.unref})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],s=0;s<t.retries;s++)n.push(this.createTimeout(s,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(s,t)),n.sort((function(e,t){return e-t})),n},t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*t.minTimeout*Math.pow(t.factor,e));return Math.min(n,t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var s in n=[],e)"function"==typeof e[s]&&n.push(s);for(var i=0;i<n.length;i++){var o=n[i],a=e[o];e[o]=function(){var n=t.operation(r),s=Array.prototype.slice.call(arguments),i=s.pop();s.push((function(e){n.retry(e)||(e&&(arguments[0]=n.mainError()),i.apply(this,arguments))})),n.attempt((function(){a.apply(e,s)}))},e[o].options=r}}},41960:e=>{function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._timeouts=e,this._options=t||{},this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;this._errors.push(e);var t=this._timeouts.shift();if(void 0===t){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),t=this._timeouts.shift()}var r=this,n=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),this._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),t);return this._options.unref&&n.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var s=this._errors[n],i=s.message,o=(e[i]||0)+1;e[i]=o,o>=r&&(t=s,r=o)}return t}},22257:(e,t,r)=>{const n=Symbol("SemVer ANY");class s{static get ANY(){return n}constructor(e,t){if(t=i(t),e instanceof s){if(e.loose===!!t.loose)return e;e=e.value}u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new p(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new p(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof s))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new l(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new l(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=c(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=c(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||n||i&&o||a||u}}e.exports=s;const i=r(12893),{re:o,t:a}=r(55765),c=r(7539),u=r(74225),p=r(26376),l=r(66902)},66902:(e,t,r)=>{class n{constructor(e,t){if(t=i(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof o)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!f(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&m(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=s.get(t);if(r)return r;const n=this.options.loose,i=n?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(i,k(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],l),a("comparator trim",e);let c=(e=(e=(e=e.replace(u[p.TILDETRIM],d)).replace(u[p.CARETTRIM],h)).split(/\s+/).join(" ")).split(" ").map((e=>_(e,this.options))).join(" ").split(/\s+/).map((e=>x(e,this.options)));n&&(c=c.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(u[p.COMPARATORLOOSE]))))),a("range list",c);const m=new Map,g=c.map((e=>new o(e,this.options)));for(const e of g){if(f(e))return[e];m.set(e.value,e)}m.size>1&&m.has("")&&m.delete("");const y=[...m.values()];return s.set(t,y),y}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some((r=>g(r,t)&&e.set.some((e=>g(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(O(this.set[t],e,this.options))return!0;return!1}}e.exports=n;const s=new(r(96062))({max:1e3}),i=r(12893),o=r(22257),a=r(74225),c=r(26376),{re:u,t:p,comparatorTrimReplace:l,tildeTrimReplace:d,caretTrimReplace:h}=r(55765),f=e=>"<0.0.0-0"===e.value,m=e=>""===e.value,g=(e,t)=>{let r=!0;const n=e.slice();let s=n.pop();for(;r&&n.length;)r=n.every((e=>s.intersects(e,t))),s=n.pop();return r},_=(e,t)=>(a("comp",e,t),e=E(e,t),a("caret",e),e=b(e,t),a("tildes",e),e=T(e,t),a("xrange",e),e=I(e,t),a("stars",e),e),y=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map((e=>v(e,t))).join(" "),v=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,((t,r,n,s,i)=>{let o;return a("tilde",e,t,r,n,s,i),y(r)?o="":y(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:y(s)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(a("replaceTilde pr",i),o=`>=${r}.${n}.${s}-${i} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${s} <${r}.${+n+1}.0-0`,a("tilde return",o),o}))},E=(e,t)=>e.trim().split(/\s+/).map((e=>S(e,t))).join(" "),S=(e,t)=>{a("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,s,i,o)=>{let c;return a("caret",e,t,r,s,i,o),y(r)?c="":y(s)?c=`>=${r}.0.0${n} <${+r+1}.0.0-0`:y(i)?c="0"===r?`>=${r}.${s}.0${n} <${r}.${+s+1}.0-0`:`>=${r}.${s}.0${n} <${+r+1}.0.0-0`:o?(a("replaceCaret pr",o),c="0"===r?"0"===s?`>=${r}.${s}.${i}-${o} <${r}.${s}.${+i+1}-0`:`>=${r}.${s}.${i}-${o} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${i}-${o} <${+r+1}.0.0-0`):(a("no pr"),c="0"===r?"0"===s?`>=${r}.${s}.${i}${n} <${r}.${s}.${+i+1}-0`:`>=${r}.${s}.${i}${n} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${i} <${+r+1}.0.0-0`),a("caret return",c),c}))},T=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>w(e,t))).join(" ")),w=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,((r,n,s,i,o,c)=>{a("xRange",e,r,n,s,i,o,c);const u=y(s),p=u||y(i),l=p||y(o),d=l;return"="===n&&d&&(n=""),c=t.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(p&&(i=0),o=0,">"===n?(n=">=",p?(s=+s+1,i=0,o=0):(i=+i+1,o=0)):"<="===n&&(n="<",p?s=+s+1:i=+i+1),"<"===n&&(c="-0"),r=`${n+s}.${i}.${o}${c}`):p?r=`>=${s}.0.0${c} <${+s+1}.0.0-0`:l&&(r=`>=${s}.${i}.0${c} <${s}.${+i+1}.0-0`),a("xRange return",r),r}))},I=(e,t)=>(a("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),x=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),k=e=>(t,r,n,s,i,o,a,c,u,p,l,d,h)=>`${r=y(n)?"":y(s)?`>=${n}.0.0${e?"-0":""}`:y(i)?`>=${n}.${s}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=y(u)?"":y(p)?`<${+u+1}.0.0-0`:y(l)?`<${u}.${+p+1}.0-0`:d?`<=${u}.${p}.${l}-${d}`:e?`<${u}.${p}.${+l+1}-0`:`<=${c}`}`.trim(),O=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==o.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},26376:(e,t,r)=>{const n=r(74225),{MAX_LENGTH:s,MAX_SAFE_INTEGER:i}=r(83295),{re:o,t:a}=r(55765),c=r(12893),{compareIdentifiers:u}=r(86742);class p{constructor(e,t){if(t=c(t),e instanceof p){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>s)throw new TypeError(`version is longer than ${s} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof p)){if("string"==typeof e&&e===this.version)return 0;e=new p(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof p||(e=new p(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof p||(e=new p(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],s=e.prerelease[t];if(n("prerelease compare",t,r,s),void 0===r&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===r)return-1;if(r!==s)return u(r,s)}while(++t)}compareBuild(e){e instanceof p||(e=new p(e,this.options));let t=0;do{const r=this.build[t],s=e.build[t];if(n("prerelease compare",t,r,s),void 0===r&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===r)return-1;if(r!==s)return u(r,s)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=p},13507:(e,t,r)=>{const n=r(33959);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},7539:(e,t,r)=>{const n=r(58718),s=r(81194),i=r(71312),o=r(25903),a=r(21544),c=r(12056);e.exports=(e,t,r,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,u);case"!=":return s(e,r,u);case">":return i(e,r,u);case">=":return o(e,r,u);case"<":return a(e,r,u);case"<=":return c(e,r,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},99038:(e,t,r)=>{const n=r(26376),s=r(33959),{re:i,t:o}=r(55765);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=i[o.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),i[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;i[o.COERCERTL].lastIndex=-1}else r=e.match(i[o.COERCE]);return null===r?null:s(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)}},88880:(e,t,r)=>{const n=r(26376);e.exports=(e,t,r)=>{const s=new n(e,r),i=new n(t,r);return s.compare(i)||s.compareBuild(i)}},27880:(e,t,r)=>{const n=r(46269);e.exports=(e,t)=>n(e,t,!0)},46269:(e,t,r)=>{const n=r(26376);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},62378:(e,t,r)=>{const n=r(33959),s=r(58718);e.exports=(e,t)=>{if(s(e,t))return null;{const r=n(e),s=n(t),i=r.prerelease.length||s.prerelease.length,o=i?"pre":"",a=i?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==s[e])return o+e;return a}}},58718:(e,t,r)=>{const n=r(46269);e.exports=(e,t,r)=>0===n(e,t,r)},71312:(e,t,r)=>{const n=r(46269);e.exports=(e,t,r)=>n(e,t,r)>0},25903:(e,t,r)=>{const n=r(46269);e.exports=(e,t,r)=>n(e,t,r)>=0},20253:(e,t,r)=>{const n=r(26376);e.exports=(e,t,r,s)=>{"string"==typeof r&&(s=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,s).version}catch(e){return null}}},21544:(e,t,r)=>{const n=r(46269);e.exports=(e,t,r)=>n(e,t,r)<0},12056:(e,t,r)=>{const n=r(46269);e.exports=(e,t,r)=>n(e,t,r)<=0},38679:(e,t,r)=>{const n=r(26376);e.exports=(e,t)=>new n(e,t).major},87789:(e,t,r)=>{const n=r(26376);e.exports=(e,t)=>new n(e,t).minor},81194:(e,t,r)=>{const n=r(46269);e.exports=(e,t,r)=>0!==n(e,t,r)},33959:(e,t,r)=>{const{MAX_LENGTH:n}=r(83295),{re:s,t:i}=r(55765),o=r(26376),a=r(12893);e.exports=(e,t)=>{if(t=a(t),e instanceof o)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(t.loose?s[i.LOOSE]:s[i.FULL]).test(e))return null;try{return new o(e,t)}catch(e){return null}}},52358:(e,t,r)=>{const n=r(26376);e.exports=(e,t)=>new n(e,t).patch},57559:(e,t,r)=>{const n=r(33959);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},79795:(e,t,r)=>{const n=r(46269);e.exports=(e,t,r)=>n(t,e,r)},63657:(e,t,r)=>{const n=r(88880);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},45712:(e,t,r)=>{const n=r(66902);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},21100:(e,t,r)=>{const n=r(88880);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},76397:(e,t,r)=>{const n=r(33959);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},81249:(e,t,r)=>{const n=r(55765),s=r(83295),i=r(26376),o=r(86742),a=r(33959),c=r(76397),u=r(13507),p=r(20253),l=r(62378),d=r(38679),h=r(87789),f=r(52358),m=r(57559),g=r(46269),_=r(79795),y=r(27880),b=r(88880),v=r(21100),E=r(63657),S=r(71312),T=r(21544),w=r(58718),I=r(81194),x=r(25903),k=r(12056),O=r(7539),A=r(99038),N=r(22257),R=r(66902),C=r(45712),L=r(51042),D=r(85775),M=r(71657),P=r(95316),j=r(89042),q=r(6826),U=r(97606),F=r(50032),$=r(82937),B=r(17908),G=r(50799);e.exports={parse:a,valid:c,clean:u,inc:p,diff:l,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:_,compareLoose:y,compareBuild:b,sort:v,rsort:E,gt:S,lt:T,eq:w,neq:I,gte:x,lte:k,cmp:O,coerce:A,Comparator:N,Range:R,satisfies:C,toComparators:L,maxSatisfying:D,minSatisfying:M,minVersion:P,validRange:j,outside:q,gtr:U,ltr:F,intersects:$,simplifyRange:B,subset:G,SemVer:i,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:s.SEMVER_SPEC_VERSION,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},83295:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},74225:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},86742:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),s=t.test(r);return n&&s&&(e=+e,r=+r),e===r?0:n&&!s?-1:s&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},12893:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},55765:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n}=r(83295),s=r(74225),i=(t=e.exports={}).re=[],o=t.src=[],a=t.t={};let c=0;const u=(e,t,r)=>{const n=c++;s(e,n,t),a[e]=n,o[n]=t,i[n]=new RegExp(t,r?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${o[a.NUMERICIDENTIFIER]}|${o[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${o[a.NUMERICIDENTIFIERLOOSE]}|${o[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${o[a.PRERELEASEIDENTIFIER]}(?:\\.${o[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${o[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${o[a.BUILDIDENTIFIER]}(?:\\.${o[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${o[a.MAINVERSION]}${o[a.PRERELEASE]}?${o[a.BUILD]}?`),u("FULL",`^${o[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${o[a.MAINVERSIONLOOSE]}${o[a.PRERELEASELOOSE]}?${o[a.BUILD]}?`),u("LOOSE",`^${o[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${o[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${o[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:${o[a.PRERELEASE]})?${o[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:${o[a.PRERELEASELOOSE]})?${o[a.BUILD]}?)?)?`),u("XRANGE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),u("COERCERTL",o[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${o[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${o[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${o[a.LONECARET]}${o[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${o[a.LONECARET]}${o[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${o[a.GTLT]}\\s*(${o[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]}|${o[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${o[a.XRANGEPLAIN]})\\s+-\\s+(${o[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${o[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},96062:(e,t,r)=>{"use strict";const n=r(34411),s=Symbol("max"),i=Symbol("length"),o=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),p=Symbol("noDisposeOnSet"),l=Symbol("lruList"),d=Symbol("cache"),h=Symbol("updateAgeOnGet"),f=()=>1,m=(e,t,r)=>{const n=e[d].get(t);if(n){const t=n.value;if(g(e,t)){if(y(e,n),!e[a])return}else r&&(e[h]&&(n.value.now=Date.now()),e[l].unshiftNode(n));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]},_=e=>{if(e[i]>e[s])for(let t=e[l].tail;e[i]>e[s]&&null!==t;){const r=t.prev;y(e,t),t=r}},y=(e,t)=>{if(t){const r=t.value;e[u]&&e[u](r.key,r.value),e[i]-=r.length,e[d].delete(r.key),e[l].removeNode(t)}};class b{constructor(e,t,r,n,s){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=s||0}}const v=(e,t,r,n)=>{let s=r.value;g(e,s)&&(y(e,r),e[a]||(s=void 0)),s&&t.call(n,s.value,s.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[s]=e.max||1/0;const t=e.length||f;if(this[o]="function"!=typeof t?f:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[p]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[s]=e||1/0,_(this)}get max(){return this[s]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,_(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[o]&&(this[o]=e,this[i]=0,this[l].forEach((e=>{e.length=this[o](e.value,e.key),this[i]+=e.length}))),_(this)}get lengthCalculator(){return this[o]}get length(){return this[i]}get itemCount(){return this[l].length}rforEach(e,t){t=t||this;for(let r=this[l].tail;null!==r;){const n=r.prev;v(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[l].head;null!==r;){const n=r.next;v(this,e,r,t),r=n}}keys(){return this[l].toArray().map((e=>e.key))}values(){return this[l].toArray().map((e=>e.value))}reset(){this[u]&&this[l]&&this[l].length&&this[l].forEach((e=>this[u](e.key,e.value))),this[d]=new Map,this[l]=new n,this[i]=0}dump(){return this[l].map((e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[l]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[o](t,e);if(this[d].has(e)){if(a>this[s])return y(this,this[d].get(e)),!1;const o=this[d].get(e).value;return this[u]&&(this[p]||this[u](e,o.value)),o.now=n,o.maxAge=r,o.value=t,this[i]+=a-o.length,o.length=a,this.get(e),_(this),!0}const h=new b(e,t,a,n,r);return h.length>this[s]?(this[u]&&this[u](e,t),!1):(this[i]+=h.length,this[l].unshift(h),this[d].set(e,this[l].head),_(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!g(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[l].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],s=n.e||0;if(0===s)this.set(n.k,n.v);else{const e=s-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[d].forEach(((e,t)=>m(this,t,!1)))}}},97606:(e,t,r)=>{const n=r(6826);e.exports=(e,t,r)=>n(e,t,">",r)},82937:(e,t,r)=>{const n=r(66902);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t))},50032:(e,t,r)=>{const n=r(6826);e.exports=(e,t,r)=>n(e,t,"<",r)},85775:(e,t,r)=>{const n=r(26376),s=r(66902);e.exports=(e,t,r)=>{let i=null,o=null,a=null;try{a=new s(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&-1!==o.compare(e)||(i=e,o=new n(i,r)))})),i}},71657:(e,t,r)=>{const n=r(26376),s=r(66902);e.exports=(e,t,r)=>{let i=null,o=null,a=null;try{a=new s(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&1!==o.compare(e)||(i=e,o=new n(i,r)))})),i}},95316:(e,t,r)=>{const n=r(26376),s=r(66902),i=r(71312);e.exports=(e,t)=>{e=new s(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const s=e.set[t];let o=null;s.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!i(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!o||r&&!i(r,o)||(r=o)}return r&&e.test(r)?r:null}},6826:(e,t,r)=>{const n=r(26376),s=r(22257),{ANY:i}=s,o=r(66902),a=r(45712),c=r(71312),u=r(21544),p=r(12056),l=r(25903);e.exports=(e,t,r,d)=>{let h,f,m,g,_;switch(e=new n(e,d),t=new o(t,d),r){case">":h=c,f=p,m=u,g=">",_=">=";break;case"<":h=u,f=l,m=c,g="<",_="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let o=null,a=null;if(n.forEach((e=>{e.semver===i&&(e=new s(">=0.0.0")),o=o||e,a=a||e,h(e.semver,o.semver,d)?o=e:m(e.semver,a.semver,d)&&(a=e)})),o.operator===g||o.operator===_)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===_&&m(e,a.semver))return!1}return!0}},17908:(e,t,r)=>{const n=r(45712),s=r(46269);e.exports=(e,t,r)=>{const i=[];let o=null,a=null;const c=e.sort(((e,t)=>s(e,t,r)));for(const e of c)n(e,t,r)?(a=e,o||(o=e)):(a&&i.push([o,a]),a=null,o=null);o&&i.push([o,null]);const u=[];for(const[e,t]of i)e===t?u.push(e):t||e!==c[0]?t?e===c[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const p=u.join(" || "),l="string"==typeof t.raw?t.raw:String(t);return p.length<l.length?p:t}},50799:(e,t,r)=>{const n=r(66902),s=r(22257),{ANY:i}=s,o=r(45712),a=r(46269),c=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=r.includePrerelease?[new s(">=0.0.0-0")]:[new s(">=0.0.0")]}if(1===t.length&&t[0].semver===i){if(r.includePrerelease)return!0;t=[new s(">=0.0.0")]}const n=new Set;let c,l,d,h,f,m,g;for(const t of e)">"===t.operator||">="===t.operator?c=u(c,t,r):"<"===t.operator||"<="===t.operator?l=p(l,t,r):n.add(t.semver);if(n.size>1)return null;if(c&&l){if(d=a(c.semver,l.semver,r),d>0)return null;if(0===d&&(">="!==c.operator||"<="!==l.operator))return null}for(const e of n){if(c&&!o(e,String(c),r))return null;if(l&&!o(e,String(l),r))return null;for(const n of t)if(!o(e,String(n),r))return!1;return!0}let _=!(!l||r.includePrerelease||!l.semver.prerelease.length)&&l.semver,y=!(!c||r.includePrerelease||!c.semver.prerelease.length)&&c.semver;_&&1===_.prerelease.length&&"<"===l.operator&&0===_.prerelease[0]&&(_=!1);for(const e of t){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,c)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if(h=u(c,e,r),h===e&&h!==c)return!1}else if(">="===c.operator&&!o(c.semver,String(e),r))return!1;if(l)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),"<"===e.operator||"<="===e.operator){if(f=p(l,e,r),f===e&&f!==l)return!1}else if("<="===l.operator&&!o(l.semver,String(e),r))return!1;if(!e.operator&&(l||c)&&0!==d)return!1}return!(c&&m&&!l&&0!==d||l&&g&&!c&&0!==d||y||_)},u=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let s=!1;e:for(const n of e.set){for(const e of t.set){const t=c(n,e,r);if(s=s||null!==t,t)continue e}if(s)return!1}return!0}},51042:(e,t,r)=>{const n=r(66902);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},89042:(e,t,r)=>{const n=r(66902);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},49602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},34411:(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,s=arguments.length;r<s;r++)t.push(arguments[r]);return t}function s(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function i(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,s=this.head;null!==s;)r.push(e.call(t,s.value,this)),s=s.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,s=this.tail;null!==s;)r.push(e.call(t,s.value,this)),s=s.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var s=0;null!==n;s++)r=e(r,n.value,s),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var s=this.length-1;null!==n;s--)r=e(r,n.value,s),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var s=0,i=this.head;null!==i&&s<e;s++)i=i.next;for(;null!==i&&s<t;s++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var s=this.length,i=this.tail;null!==i&&s>t;s--)i=i.prev;for(;null!==i&&s>e;s--,i=i.prev)r.push(i.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;var o=[];for(n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);for(null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev),n=0;n<r.length;n++)i=s(this,i,r[n]);return o},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(49602)(n)}catch(e){}},99778:e=>{class t{constructor(e){this.value=e,this.next=void 0}}class r{constructor(){this.clear()}enqueue(e){const r=new t(e);this._head?(this._tail.next=r,this._tail=r):(this._head=r,this._tail=r),this._size++}dequeue(){const e=this._head;if(e)return this._head=this._head.next,this._size--,e.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.value,e=e.next}}e.exports=r},60445:(e,t,r)=>{"use strict";const n=new(r(1331));e.exports={storage:n}},52864:(e,t,r)=>{"use strict";const{executionAsyncId:n}=r(50852),s=r(16052);e.exports=class extends s{constructor(){super(),this._resources=new Map}disable(){super.disable(),this._resources.clear()}_createHook(){return{...super._createHook(),destroy:this._destroy.bind(this)}}_init(e,t,r,n){super._init.apply(this,arguments),this._resources.set(e,n)}_destroy(e){this._resources.delete(e)}_executionAsyncResource(){const e=n();let t=this._resources.get(e);return t||this._resources.set(e,t={}),t}}},16052:(e,t,r)=>{"use strict";const{createHook:n,executionAsyncResource:s}=r(50852),{channel:i}=r(83928),o=i("dd-trace:storage:before"),a=i("dd-trace:storage:after");let c=Symbol;function u(){c=new Function("name","return %CreatePrivateSymbol(name)")}try{u()}catch(e){try{const e=r(84655);e.setFlagsFromString("--allow-natives-syntax"),u(),e.setFlagsFromString("--no-allow-natives-syntax")}catch(e){}}e.exports=class{constructor(){this._ddResourceStore=c("ddResourceStore"),this._enabled=!1,this._hook=n(this._createHook())}disable(){this._enabled&&(this._hook.disable(),this._enabled=!1)}getStore(){if(this._enabled)return this._executionAsyncResource()[this._ddResourceStore]}enterWith(e){this._enable(),this._executionAsyncResource()[this._ddResourceStore]=e}run(e,t,...r){this._enable();const n=this._executionAsyncResource(),s=n[this._ddResourceStore];n[this._ddResourceStore]=e;try{return t(...r)}finally{n[this._ddResourceStore]=s}}_createHook(){return{init:this._init.bind(this),before(){o.publish()},after(){a.publish()}}}_enable(){this._enabled||(this._enabled=!0,this._hook.enable())}_init(e,t,r,n){const s=this._executionAsyncResource();Object.prototype.hasOwnProperty.call(s,this._ddResourceStore)&&(n[this._ddResourceStore]=s[this._ddResourceStore])}_executionAsyncResource(){return s()||{}}}},1331:(e,t,r)=>{"use strict";const n=r(81249).satisfies(process.versions.node,">=14.5");e.exports=r(n?16052:52864)},6488:(e,t,r)=>{"use strict";r(92311)},74092:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496);function a(e,t,r){r&&t.publish(r),e.publish()}s({name:"amqp10",file:"lib/sender_link.js",versions:[">=3"]},(e=>{const t=n("apm:amqp10:send:start"),r=n("apm:amqp10:send:finish"),s=n("apm:amqp10:send:error");return o.wrap(e.prototype,"send",(e=>function(n,o){if(!t.hasSubscribers)return e.apply(this,arguments);const c=new i("bound-anonymous-fn");return c.runInAsyncScope((()=>{t.publish({link:this});try{const t=e.apply(this,arguments);return t?(t.then(c.bind((()=>a(r,s))),c.bind((e=>a(r,s,e)))),t):(a(r,s),t)}catch(e){throw a(r,s,e),e}}))})),e})),s({name:"amqp10",file:"lib/receiver_link.js",versions:[">=3"]},(e=>{const t=n("apm:amqp10:receive:start"),r=n("apm:amqp10:receive:finish"),s=n("apm:amqp10:receive:error");return o.wrap(e.prototype,"_messageReceived",(e=>function(n){return!n||n.aborted||n.more?e.apply(this,arguments):new i("bound-anonymous-fn").runInAsyncScope((()=>{t.publish({link:this});try{return e.apply(this,arguments)}catch(e){throw s.publish(e),e}finally{r.publish()}}))})),e}))},27995:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(35683),a=r(7496),c=n("apm:amqplib:command:start"),u=n("apm:amqplib:command:finish"),p=n("apm:amqplib:command:error");let l={};function d(e,t,r,n,s,o){return c.hasSubscribers?new i("bound-anonymous-fn").runInAsyncScope((()=>{c.publish({channel:t,method:n,fields:s,message:o});try{return e.apply(t,r)}catch(e){throw p.publish(e),e}finally{u.publish()}})):e.apply(t,r)}s({name:"amqplib",file:"lib/defs.js",versions:[">=0.5"]},(e=>(l=Object.keys(e).filter((t=>Number.isInteger(e[t]))).filter((e=>/([A-Z][a-z0-9]+)+/.test(e))).reduce(((t,r)=>Object.assign(t,{[e[r]]:o(r).replace("-",".")})),{}),e))),s({name:"amqplib",file:"lib/channel.js",versions:[">=0.5"]},(e=>(a.wrap(e.Channel.prototype,"sendImmediately",(e=>function(t,r){return d(e,this,arguments,l[t],r)})),a.wrap(e.Channel.prototype,"sendMessage",(e=>function(t){return d(e,this,arguments,"basic.publish",t)})),a.wrap(e.BaseChannel.prototype,"dispatchMessage",(e=>function(t,r){return d(e,this,arguments,"basic.deliver",t,r)})),e)))},53910:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496);function a(e){return function(t){if(!this.service)return e.apply(this,arguments);const r=this.service.serviceIdentifier,s=p(r),o=n(`apm:aws:request:start:${s}`);if(!o.hasSubscribers)return e.apply(this,arguments);const a=new i("apm:aws:request:inner"),c=new i("apm:aws:request:outer");return a.runInAsyncScope((()=>(this.on("complete",a.bind((e=>{n(`apm:aws:request:complete:${s}`).publish({response:e})}))),o.publish({serviceIdentifier:r,operation:this.operation,awsRegion:this.service.config&&this.service.config.region,awsService:this.service.api&&this.service.api.className,request:this}),"function"==typeof t&&(arguments[0]=function(e,t,r,s){return function(i,o){const a={request:r,response:o};return s.runInAsyncScope((()=>{if(n(`apm:aws:response:start:${t}`).publish(a),!a.needsFinish)return e.apply(this,arguments);const r=n(`apm:aws:response:finish:${t}`);try{let t=e.apply(this,arguments);return t&&t.then?t=t.then((e=>(r.publish(),e)),(e=>{throw r.publish(e),e})):r.publish(),t}catch(e){throw r.publish(e),e}}))}}(t,s,this,c)),e.apply(this,arguments))))}}function c(e){return function(t,...r){const s=r[r.length-1],o=new i("apm:aws:request:inner"),a=new i("apm:aws:request:outer"),c=this.config.serviceId.toLowerCase(),l=p(c),d=t.constructor.name,h=this.constructor.name.replace(/Client$/,""),f=`${d[0].toLowerCase()}${d.slice(1).replace(/Command$/,"")}`,m={operation:f,params:t.input},g=n(`apm:aws:request:start:${l}`),_=n(`apm:aws:request:region:${l}`),y=n(`apm:aws:request:complete:${l}`),b=n(`apm:aws:response:start:${l}`),v=n(`apm:aws:response:finish:${l}`);return o.runInAsyncScope((()=>(g.publish({serviceIdentifier:c,operation:f,awsService:h,request:m}),this.config.region().then((e=>{_.publish(e)})),"function"!=typeof s?e.call(this,t,...r).then((e=>{const t=u(m,null,e);return y.publish(t),e}),(e=>{const t=u(m,e);throw y.publish(t),e})):(r[r.length-1]=function(e,t){const r=u(m,e,t);y.publish(r),a.runInAsyncScope((()=>{b.publish(r),s.apply(this,arguments),r.needsFinish&&v.publish(r.response.error)}))},e.call(this,t,...r)))))}}function u(e,t,r){const n={request:e,error:t,...r};return r&&r.$metadata&&(n.requestId=r.$metadata.requestId),{request:e,response:n}}function p(e){return["cloudwatchlogs","dynamodb","eventbridge","kinesis","lambda","redshift","s3","sns","sqs"].includes(e)?e:"default"}s({name:"@aws-sdk/smithy-client",versions:[">=3"]},(e=>(o.wrap(e.Client.prototype,"send",c),e))),s({name:"aws-sdk",versions:[">=2.3.0"]},(e=>(o.wrap(e.Request.prototype,"promise",a),o.wrap(e.config,"setPromisesDependency",(t=>function(r){const n=t.apply(this,arguments);return o.wrap(e.Request.prototype,"promise",a),n})),e))),s({name:"aws-sdk",versions:[">=2.1.35"]},(e=>(o.wrap(e.Request.prototype,"send",a),e)))},37747:(e,t,r)=>{"use strict";const{addHook:n}=r(93915),{wrapThen:s}=r(91273),i=r(7496);function o(e){return function(t){return function(){const r=t.apply(this,arguments);return i.wrap(r.prototype,"_then",s),i.wrap(r,"getNewLibraryCopy",o(e)),r}}}n({name:"bluebird",versions:[">=2.0.2"]},(e=>(i.wrap(e.prototype,"_then",s),e))),n({name:"bluebird",versions:["^2.11.0","^3.4.1"]},(e=>(i.wrap(e,"getNewLibraryCopy",o(e)),e)))},19346:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=n("datadog:body-parser:read:finish");s({name:"body-parser",file:"lib/read.js",versions:[">=1"]},(e=>function(t,r,n){const s=new i("bound-anonymous-fn");arguments[2]=s.bind(function(e,t){return function(){o.hasSubscribers&&e&&o.publish({request:e}),t.apply(this,arguments)}}(t,n)),e.apply(this,arguments)}))},69032:(e,t,r)=>{"use strict";const{channel:n,addHook:s}=r(93915),i=r(7496);s({name:"bunyan",versions:[">=1"]},(e=>{const t=n("apm:bunyan:log");return i.wrap(e.prototype,"_emit",(e=>function(r){if(t.hasSubscribers){const e={message:r};t.publish(e),arguments[0]=e.message}return e.apply(this,arguments)})),e}))},89966:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=n("apm:cassandra-driver:query:start"),c=n("apm:cassandra-driver:query:finish"),u=n("apm:cassandra-driver:query:error"),p=n("apm:cassandra-driver:query:connect");function l(e,t,r){r&&t.publish(r),e.publish(void 0)}function d(e,t,r,n){return r.bind((function(r){if(l(e,t,r),n)return n.apply(this,arguments)}))}function h(e,t,r){return!!e&&t.length===r&&"function"==typeof t[r-1]}s({name:"cassandra-driver",versions:[">=3.0.0"]},(e=>(o.wrap(e.Client.prototype,"batch",(e=>function(t,r,n){if(!a.hasSubscribers)return e.apply(this,arguments);const s=new i("bound-anonymous-fn"),o=new i("bound-anonymous-fn"),p=arguments.length-1;let h=arguments[p];return"function"==typeof h&&(h=s.bind(h),arguments[p]=d(c,u,o,h)),o.runInAsyncScope((()=>{a.publish({keyspace:this.keyspace,query:t});try{const t=e.apply(this,arguments);if("function"!=typeof t&&t){const e=new i("bound-anonymous-fn");return t.then(e.bind((()=>l(c,u))),e.bind((e=>l(c,u,e))))}return d(c,u,o,t)}catch(e){throw l(c,u,e),e}}))})),e))),s({name:"cassandra-driver",versions:[">=4.4"]},(e=>(o.wrap(e.Client.prototype,"_execute",(e=>function(t,r,n,s){return a.hasSubscribers?new i("bound-anonymous-fn").runInAsyncScope((()=>{a.publish({keyspace:this.keyspace,query:t});const r=e.apply(this,arguments),n=new i("bound-anonymous-fn");return r.then(n.bind((()=>l(c,u))),n.bind((e=>l(c,u,e)))),r})):e.apply(this,arguments)})),e))),s({name:"cassandra-driver",versions:["3 - 4.3"]},(e=>(o.wrap(e.Client.prototype,"_innerExecute",(e=>function(t,r,n,s){if(!a.hasSubscribers)return e.apply(this,arguments);const o=new i("bound-anonymous-fn"),p=new i("bound-anonymous-fn");return 4!==(h=arguments).length&&"function"!=typeof h[3]?e.apply(this,arguments):p.runInAsyncScope((()=>{a.publish({keyspace:this.keyspace,query:t});const r=arguments.length-1;let n=arguments[r];"function"==typeof n&&(n=o.bind(n),arguments[r]=d(c,u,p,n));try{return e.apply(this,arguments)}catch(e){throw l(c,u,e),e}}));var h})),e))),s({name:"cassandra-driver",versions:[">=3.3"],file:"lib/request-execution.js"},(e=>(o.wrap(e.prototype,"_sendOnConnection",(e=>function(){return a.hasSubscribers?(p.publish({hostname:this._connection.address,port:this._connection.port}),e.apply(this,arguments)):e.apply(this,arguments)})),e))),s({name:"cassandra-driver",versions:["3.3 - 4.3"],file:"lib/request-execution.js"},(e=>(o.wrap(e.prototype,"start",(e=>function(t){if(!a.hasSubscribers)return t.apply(this,arguments);const r=new i("bound-anonymous-fn"),n=this;return h(this,arguments,1)?(t=r.bind(t),arguments[0]=i.bind((function(){return p.publish({hostname:n._connection.address,port:n._connection.port}),t.apply(this,arguments)})),e.apply(this,arguments)):e.apply(this,arguments)})),e))),s({name:"cassandra-driver",versions:["3 - 3.2"],file:"lib/request-handler.js"},(e=>(o.wrap(e.prototype,"send",(e=>function(t,r,n){if(!a.hasSubscribers)return e.apply(this,arguments);const s=this;if(!h(this,arguments,3))return e.apply(this,arguments);const o=new i("bound-anonymous-fn");return n=o.bind(n),arguments[2]=i.bind((function(){return p.publish({hostname:s.connection.address,port:s.connection.port}),n.apply(this,arguments)})),e.apply(this,arguments)})),e)))},53758:(e,t,r)=>{"use strict";const{channel:n,addHook:s}=r(93915),i=r(7496),o=n("datadog:child_process:execution:start"),a=["exec","execFile","fork","spawn","execFileSync","execSync","spawnSync"];["child_process","node:child_process"].forEach((e=>{s({name:e},(e=>(i.massWrap(e,a,(function(e){return function(){if(o.hasSubscribers&&arguments.length>0){const e=arguments[0];o.publish({command:e})}return e.apply(this,arguments)}})),e)))}))},56284:(e,t,r)=>{"use strict";const n=r(7496),{addHook:s,channel:i}=r(93915),o=i("apm:connect:middleware:enter"),a=i("apm:connect:middleware:exit"),c=i("apm:connect:middleware:error"),u=i("apm:connect:middleware:next"),p=i("apm:connect:middleware:finish"),l=i("apm:connect:request:handle");function d(e){return"function"!=typeof e?e:function(t,r){const s=e.apply(this,arguments);if(!this||!Array.isArray(this.stack))return s;const i=this.stack.length-1,l=this.stack[i];return l&&l.handle&&(this.stack[i].handle=function(e){if("function"!=typeof e.handle)return e.handle;const t=e.handle;return n.wrap(t,(function(){if(!o.hasSubscribers)return t.apply(this,arguments);const r=arguments.length-1,n=t._name||t.name,s=arguments[arguments.length>3?1:0],i=arguments[r];"function"==typeof i&&(arguments[r]=function(e,t){return function(r){r&&c.publish({req:e,error:r}),u.publish({req:e}),p.publish({req:e}),t.apply(this,arguments)}}(s,i));const l=e.route;o.publish({name:n,req:s,route:l});try{return t.apply(this,arguments)}catch(e){throw c.publish({req:s,error:e}),u.publish({req:s}),p.publish({req:s}),e}finally{a.publish({req:s})}}))}(l)),s}}function h(e){return function(t,r){return l.hasSubscribers&&l.publish({req:t,res:r}),e.apply(this,arguments)}}s({name:"connect",versions:[">=3"]},(e=>n.wrap(e,function(e){return"function"!=typeof e?e:function(){const t=e();return t?(n.wrap(t,"use",d),n.wrap(t,"handle",h),t):t}}(e)))),s({name:"connect",versions:["2.2.2"]},(e=>(n.wrap(e.proto,"use",d),n.wrap(e.proto,"handle",h),e)))},95889:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496);function a(e,t=2){for(let r=e.length-1;r>=t;r--)if("function"==typeof e[r])return r;return-1}function c(e){return e&&("string"==typeof e?e:e.statement)}function u(e,t){e.forEach((e=>t(e)))}function p(e){return o.wrap(e,(function(t,r){if(!Array.isArray(r))return e.apply(this,arguments);const n=r.length-1,s=r[n];return s instanceof Function&&(r[n]=i.bind(s)),e.apply(this,arguments)}))}function l(e){return o.wrap(e,(function(t,r,n){return"function"==typeof(n=i.bind(arguments[arguments.length-1]))&&(arguments[arguments.length-1]=n),e.apply(this,arguments)}))}function d(e,t,r,s,o){const c=n(`apm:couchbase:${t}:start`),u=n(`apm:couchbase:${t}:finish`),p=n(`apm:couchbase:${t}:error`);if(!c.hasSubscribers)return e.apply(s,o);const l=new i("bound-anonymous-fn"),d=new i("bound-anonymous-fn");return l.runInAsyncScope((()=>{c.publish(r);try{const t=a(o,1);if(t>=0){const e=d.bind(o[t]);o[t]=l.bind((function(t,r){return t&&p.publish(t),u.publish({result:r}),e.apply(s,arguments)}))}const r=e.apply(s,o);return r.then(l.bind((e=>u.publish({result:e}))),l.bind((e=>p.publish(e)))),r}catch(e){throw e.stack,p.publish(e),e}}))}function h(e){return function(t){return function(){return d(t,e,{collection:{name:this._name||"_default"},bucket:{name:this._scope._bucket._name}},this,arguments)}}}function f(e){return function(t){const r=c(t);return d(e,"query",{resource:r},this,arguments)}}s({name:"couchbase",file:"lib/bucket.js",versions:["^2.6.5"]},(e=>{const t=n("apm:couchbase:query:start"),r=n("apm:couchbase:query:finish"),s=n("apm:couchbase:query:error");return e.prototype._maybeInvoke=p(e.prototype._maybeInvoke),e.prototype.query=l(e.prototype.query),o.wrap(e.prototype,"_n1qlReq",(e=>function(n,o,a,u){if(!t.hasSubscribers)return e.apply(this,arguments);if(!u||!u.once)return e.apply(this,arguments);const p=c(o),l=new i("bound-anonymous-fn");return l.runInAsyncScope((()=>{t.publish({resource:p,bucket:{name:this.name||this._name}}),u.once("rows",l.bind((()=>{r.publish(void 0)}))),u.once("error",l.bind((e=>{s.publish(e),r.publish(void 0)})));try{return e.apply(this,arguments)}catch(e){throw e.stack,s.publish(e),e}}))})),u(["upsert","insert","replace","append","prepend"],(t=>{e.prototype[t]=function(e,t){const r=n(e+":start"),s=n(e+":finish"),c=n(e+":error");return o.wrap(t,(function(){if(!r.hasSubscribers)return t.apply(this,arguments);const e=a(arguments);if(e<0)return t.apply(this,arguments);const n=new i("bound-anonymous-fn"),o=new i("bound-anonymous-fn");return o.runInAsyncScope((()=>{const i=n.bind(arguments[e]);r.publish({bucket:{name:this.name||this._name}}),arguments[e]=o.bind((function(e,t){return e&&c.publish(e),s.publish(t),i.apply(this,arguments)}));try{return t.apply(this,arguments)}catch(e){throw e.stack,c.publish(e),e}}))}))}(`apm:couchbase:${t}`,e.prototype[t])})),e})),s({name:"couchbase",file:"lib/cluster.js",versions:["^2.6.5"]},(e=>(e.prototype._maybeInvoke=p(e.prototype._maybeInvoke),e.prototype.query=l(e.prototype.query),e))),s({name:"couchbase",file:"lib/collection.js",versions:[">=3.0.0 <3.2.0"]},(e=>(u(["upsert","insert","replace"],(t=>{o.wrap(e.prototype,t,h(t))})),e))),s({name:"couchbase",file:"lib/cluster.js",versions:[">=3.0.0 <3.2.0"]},(e=>(o.wrap(e.prototype,"query",f),e))),s({name:"couchbase",file:"dist/collection.js",versions:[">=3.2.0"]},(e=>{const t=e.Collection;return u(["upsert","insert","replace"],(e=>{o.wrap(t.prototype,e,h(e))})),e})),s({name:"couchbase",file:"dist/cluster.js",versions:["3.2.0 - 3.2.1",">=3.2.2"]},(e=>{const t=e.Cluster;return o.wrap(t.prototype,"query",f),e}))},62176:(e,t,r)=>{"use strict";const{channel:n,addHook:s}=r(93915),i=r(7496),o=n("datadog:crypto:hashing:start"),a=n("datadog:crypto:cipher:start"),c=["createHash","createHmac","createSign","createVerify","sign","verify"],u=["createCipheriv","createDecipheriv"];function p(e){return function(t){return function(){if(e.hasSubscribers&&arguments.length>0){const t=arguments[0];e.publish({algorithm:t})}return t.apply(this,arguments)}}}s({name:"crypto"},(e=>(i.massWrap(e,c,p(o)),i.massWrap(e,u,p(a)),e)))},17169:(e,t,r)=>{"use strict";const{createCoverageMap:n}=r(37646),{addHook:s,channel:i,AsyncResource:o}=r(93915),a=r(7496),c=i("ci:cucumber:test:start"),u=i("ci:cucumber:test:finish"),p=i("ci:cucumber:test-step:start"),l=i("ci:cucumber:error"),d=i("ci:cucumber:test-suite:start"),h=i("ci:cucumber:test-suite:finish"),f=i("ci:cucumber:test-suite:code-coverage"),m=i("ci:cucumber:itr-configuration"),g=i("ci:cucumber:test-suite:skippable"),_=i("ci:cucumber:session:start"),y=i("ci:cucumber:session:finish"),{getCoveredFilenamesFromCoverage:b,resetCoverage:v,mergeCoverage:E,fromCoverageMapToCoverage:S,getTestSuitePath:T}=r(90186),w=n(),I=new WeakSet;let x={};const k={};function O(e){return 1===e.status?{status:"pass"}:2===e.status?{status:"skip"}:4===e.status?{status:"skip",skipReason:"not implemented"}:{status:"fail",errorMessage:e.message}}function A(e){return"PASSED"===e.status?{status:"pass"}:"SKIPPED"===e.status||"PENDING"===e.status?{status:"skip"}:"UNDEFINED"===e.status?{status:"skip",skipReason:"not implemented"}:{status:"fail",errorMessage:e.message}}function N(e,t){I.has(e)||(I.add(e),a.wrap(e.prototype,"run",(e=>function(){return c.hasSubscribers?new o("bound-anonymous-fn").runInAsyncScope((()=>{const r=this.pickle.uri;k[r]||d.publish(r);const n=this.gherkinDocument&&this.gherkinDocument.feature&&this.gherkinDocument.feature.location&&this.gherkinDocument.feature.location.line;c.publish({testName:this.pickle.name,fullTestSuite:r,testSourceLine:n});try{const n=e.apply(this,arguments);return n.finally((()=>{const e=this.getWorstStepResult(),{status:n,skipReason:s,errorMessage:i}=t?A(e):O(e);if(k[r]?k[r].push(n):k[r]=[n],u.publish({status:n,skipReason:s,errorMessage:i}),k[r].length===x[r].length){const e=(o=k[r]).some((e=>"fail"===e))?"fail":o.every((e=>"skip"===e))?"skip":"pass";if(global.__coverage__){const e=b(global.__coverage__);f.publish({coverageFiles:e,suiteFile:r}),E(global.__coverage__,w),v(global.__coverage__)}h.publish(e)}var o})),n}catch(e){throw l.publish(e),e}})):e.apply(this,arguments)})),a.wrap(e.prototype,"runStep",(e=>function(){if(!p.hasSubscribers)return e.apply(this,arguments);const r=arguments[0];let n;return n=t?r.text:r.isHook?"hook":r.pickleStep.text,new o("bound-anonymous-fn").runInAsyncScope((()=>{p.publish({resource:n});try{const r=e.apply(this,arguments);return r.then((e=>{const{status:r,skipReason:n,errorMessage:s}=t?A(e):O(e);u.publish({isStep:!0,status:r,skipReason:n,errorMessage:s})})),r}catch(e){throw l.publish(e),e}}))})))}s({name:"@cucumber/cucumber",versions:["7.0.0 - 7.2.1"],file:"lib/runtime/pickle_runner.js"},(function(e){return N(e.default,!1),e})),s({name:"@cucumber/cucumber",versions:[">=7.3.0"],file:"lib/runtime/test_case_runner.js"},(function(e){return N(e.default,!0),e})),s({name:"@cucumber/cucumber",versions:[">=7.0.0"],file:"lib/runtime/index.js"},((e,t)=>(a.wrap(e.default.prototype,"start",(e=>async function(){const r=new o("bound-anonymous-fn");let n;const s=new Promise((e=>{n=e}));r.runInAsyncScope((()=>{m.publish({onDone:n})})),await s;const i=new Promise((e=>{n=e}));r.runInAsyncScope((()=>{g.publish({onDone:n})}));const{err:a,skippableSuites:c}=await i;var u,p;a||(this.pickleIds=(p=c,(u=this).pickleIds.filter((e=>{const t=u.eventDataCollector.getPickle(e);return!p.includes(T(t.uri,process.cwd()))}),{}))),x=function(e){return e.pickleIds.reduce(((t,r)=>{const n=e.eventDataCollector.getPickle(r);return t[n.uri]?t[n.uri].push(n):t[n.uri]=[n],t}),{})}(this);const l=process.argv.slice(2).join(" "),d=process.env.npm_lifecycle_script||`cucumber-js ${l}`;r.runInAsyncScope((()=>{_.publish({command:d,frameworkVersion:t})}));const h=await e.apply(this,arguments);let f;if(global.__coverage__){try{f=w.getCoverageSummary().lines.pct}catch(e){}global.__coverage__=S(w)}return r.runInAsyncScope((()=>{y.publish({status:h?"pass":"fail",isSuitesSkipped:!!c&&!!c.length,testCodeCoverageLinesTotal:f})})),h})),e)))},83249:(e,t,r)=>{const{addHook:n}=r(93915);n({name:"cypress",versions:[">=6.7.0"]},(e=>e))},58534:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a={resolveAny:"ANY",resolve4:"A",resolve6:"AAAA",resolveCname:"CNAME",resolveMx:"MX",resolveNs:"NS",resolveTxt:"TXT",resolveSrv:"SRV",resolvePtr:"PTR",resolveNaptr:"NAPTR",resolveSoa:"SOA"},c=new WeakMap;function u(e){Object.keys(a).filter((t=>!!e[t])).forEach((t=>{c.set(e[t],a[t]),e[t]=p("apm:dns:resolve",e[t],2,a[t])}))}function p(e,t,r,s){const a=n(e+":start"),c=n(e+":finish"),u=n(e+":error");return o.wrap(t,(function(){const e=i.bind(arguments[arguments.length-1]);if(!a.hasSubscribers||arguments.length<r||"function"!=typeof e)return t.apply(this,arguments);const n=Array.from(arguments);n.pop(),s&&n.push(s);const o=new i("bound-anonymous-fn");return o.runInAsyncScope((()=>{a.publish(n),arguments[arguments.length-1]=o.bind((function(t,r){t&&u.publish(t),c.publish(r),e.apply(this,arguments)}));try{return t.apply(this,arguments)}catch(e){throw e.stack,u.publish(e),e}}))}))}s({name:"dns"},(e=>(e.lookup=p("apm:dns:lookup",e.lookup,2),e.lookupService=p("apm:dns:lookup_service",e.lookupService,3),e.resolve=p("apm:dns:resolve",e.resolve,2),e.reverse=p("apm:dns:reverse",e.reverse,2),u(e),e.Resolver&&(e.Resolver.prototype.resolve=p("apm:dns:resolve",e.Resolver.prototype.resolve,2),e.Resolver.prototype.reverse=p("apm:dns:reverse",e.Resolver.prototype.reverse,2),u(e.Resolver.prototype)),e)))},88672:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496);function a(e){const t=n(`apm:${e}:query:start`),r=n(`apm:${e}:query:finish`),s=n(`apm:${e}:query:error`);return function(e){return function(r,n,a){if(!t.hasSubscribers)return e.apply(this,arguments);if(!r)return e.apply(this,arguments);const c=new i("bound-anonymous-fn"),u=new i("bound-anonymous-fn");return u.runInAsyncScope((()=>{t.publish({params:r});try{const t=arguments.length-1;if("function"==typeof(a=arguments[t]))return a=c.bind(a),arguments[t]=u.bind((function(e){return o(r,e),a.apply(null,arguments)})),e.apply(this,arguments);{const t=e.apply(this,arguments);if(t&&"function"==typeof t.then){const e=u.bind((()=>o(r))),n=u.bind((e=>o(r,e)));t.then(e,n)}else o(r);return t}}catch(e){throw e.stack,s.publish(e),e}}))}};function o(e,t){t&&s.publish(t),r.publish({params:e})}}s({name:"@elastic/transport",file:"lib/Transport.js",versions:[">=8"]},(e=>(o.wrap(e.default.prototype,"request",a("elasticsearch")),e))),s({name:"@elastic/elasticsearch",file:"lib/Transport.js",versions:[">=5.6.16 <8",">=8"]},(e=>(o.wrap(e.prototype,"request",a("elasticsearch")),e))),s({name:"elasticsearch",file:"src/lib/transport.js",versions:[">=10"]},(e=>(o.wrap(e.prototype,"request",a("elasticsearch")),e))),e.exports={createWrapRequest:a}},48359:(e,t,r)=>{"use strict";const{createWrapRouterMethod:n}=r(50825),s=r(7496),{addHook:i,channel:o}=r(93915),a=o("apm:express:request:handle");function c(e){return function(t,r){return a.hasSubscribers&&a.publish({req:t}),e.apply(this,arguments)}}const u=n("express");i({name:"express",versions:[">=4"]},(e=>(s.wrap(e.application,"handle",c),s.wrap(e.Router,"use",u),s.wrap(e.Router,"route",u),e)))},55084:(e,t,r)=>{"use strict";const n=r(7496),{addHook:s,channel:i,AsyncResource:o}=r(93915),a=i("apm:fastify:middleware:error"),c=i("apm:fastify:request:handle"),u=new WeakMap;function p(e,t){return"function"!=typeof e?e:function(){const r=e.apply(this,arguments);return r&&"function"==typeof r.addHook?(r.addHook("onRequest",l),r.addHook("preHandler",d),t?(r.addHook("preParsing",f),r.addHook("preValidation",h)):(r.addHook("onRequest",f),r.addHook("preHandler",h)),r.addHook=function(e){return function(t,r){return"function"!=typeof(r=arguments[arguments.length-1])||(arguments[arguments.length-1]=n.wrap(r,(function(e,n,s){const i=m(e);try{if("function"==typeof s)return s=arguments[arguments.length-1],arguments[arguments.length-1]=function(e){if(g(e,i),"onRequest"===t||"preParsing"===t){const e=new o("bound-anonymous-fn");return u.set(i,e),e.runInAsyncScope((()=>s.apply(this,arguments)))}return s.apply(this,arguments)},r.apply(this,arguments);{const e=r.apply(this,arguments);return e&&"function"==typeof e.catch?e.catch((e=>g(e,i))):e}}catch(e){throw g(e,i)}}))),e.apply(this,arguments)}}(r.addHook),r):r}}function l(e,t,r){if("function"!=typeof r)return;const n=m(e),s=function(e){return e&&(e.raw||e.res||e)}(t);return c.publish({req:n,res:s}),r()}function d(e,t,r){if("function"!=typeof r)return;if(!t||"function"!=typeof t.send)return r();const n=m(e);t.send=function(e,t){return function(r){return r instanceof Error&&a.publish({req:t,error:r}),e.apply(this,arguments)}}(t.send,n),r()}function h(e,t,r){const n=m(e),s=u.get(n);if(!s)return r();s.runInAsyncScope((()=>r()))}function f(e,t,r,n){"function"!=typeof n&&(n=r);const s=m(e),i=new o("bound-anonymous-fn");u.set(s,i),i.runInAsyncScope((()=>n()))}function m(e){return e&&(e.raw||e.req||e)}function g(e,t){return e&&a.publish({error:e,req:t}),e}s({name:"fastify",versions:[">=3"]},(e=>{const t=n.wrap(e,p(e,!0));return t.fastify=t,t.default=t,t})),s({name:"fastify",versions:["2"]},(e=>n.wrap(e,p(e,!0)))),s({name:"fastify",versions:["1"]},(e=>n.wrap(e,p(e,!1))))},81701:(e,t,r)=>{"use strict";const n=r(7496),{addHook:s,channel:i}=r(93915),o=i("apm:find-my-way:request:route");function a(e){return function(t,r,n){const s="function"==typeof n?2:3,i=arguments[s];return"function"==typeof i&&(arguments[s]=function(e){return o.publish({req:e,route:r}),i.apply(this,arguments)}),e.apply(this,arguments)}}s({name:"find-my-way",versions:[">=1"]},(e=>(n.wrap(e.prototype,"on",a),e)))},8661:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=n("apm:fs:operation:start"),c=n("apm:fs:operation:finish"),u=n("apm:fs:operation:error"),p=Symbol("ddFileHandle");let l,d,h;const f={access:["path","mode"],appendFile:["path","data","options"],chmod:["path","mode"],chown:["path","uid","gid"],close:["fd"],copyFile:["src","dest","mode"],cp:["src","dest","options"],exists:["path"],fchmod:["fd","mode"],fchown:["fd","uid","gid"],fdatasync:["fd"],fstat:["fd","options"],fsync:["fd"],ftruncate:["fd","len"],futimes:["fd","atime","mtime"],lchmod:["path","mode"],lchown:["path","uid","gid"],link:["existingPath","newPath"],lstat:["path","options"],lutimes:["path","atime","mtime"],mkdir:["path","options"],mkdtemp:["prefix","options"],open:["path","flag","mode"],opendir:["path","options"],read:["fd"],readdir:["path","options"],readFile:["path","options"],readlink:["path","options"],readv:["fd"],realpath:["path","options"],rename:["oldPath","newPath"],rmdir:["path","options"],rm:["path","options"],stat:["path","options"],symlink:["target","path","type"],truncate:["path","len"],unlink:["path"],utimes:["path","atime","mtime"],write:["fd"],writeFile:["file","data","options"],writev:["fd"]},m={unwatchFile:["path","listener"],watch:["path","options","listener"],watchFile:["path","options","listener"]},g={appendFile:["data","options"],chmod:["mode"],chown:["uid","gid"],close:[],createReadStream:["options"],createWriteStream:["options"],datasync:[],read:["buffer","offset","length","position"],readableWebStream:[],readFile:["options"],readLines:["options"],readv:["buffers","position"],stat:["options"],sync:[],truncate:["len"],utimes:["atime","mtime"],write:["buffer","offset","length","position"],writeFile:["data","options"],writev:["buffers","position"]};function _(e){return e.description||e.toString()}function y(e){const t={createReadStream:"ReadStream",createWriteStream:"WriteStream"}[e.name];return function(r,n){if(!a.hasSubscribers)return e.apply(this,arguments);const s=new i("bound-anonymous-fn"),o=E(t,["path","options"],arguments);return s.runInAsyncScope((()=>{a.publish(o);try{const t=e.apply(this,arguments),r=s.bind((e=>{u.publish(e),n()})),n=s.bind((()=>{c.publish(),t.off("close",n),t.off("end",n),t.off("finish",n),t.off("error",r)}));return t.once("close",n),t.once("end",n),t.once("finish",n),t.once("error",r),t}catch(e){u.publish(e),c.publish()}}))}}function b(e=""){return function(t){const r=e||t.name,n=r,s=r;return function(){if(!a.hasSubscribers)return t.apply(this,arguments);const e=E(n,m[s],arguments,this);return new i("bound-anonymous-fn").runInAsyncScope((()=>{a.publish(e);try{const e=t.apply(this,arguments);return c.publish(),e}catch(e){throw u.publish(e),c.publish(),e}}))}}}function v(e="",t=""){return function(r){const n=t||r.name,s=`${e}${n}`,o=n.match(/^(.+?)(Sync)?(\.native)?$/)[1];return function(){if(!a.hasSubscribers)return r.apply(this,arguments);const t=arguments.length-1,n="function"==typeof arguments[t]&&arguments[t],d=new i("bound-anonymous-fn"),h=E(s,function(e){return"filehandle."===e?g:f}(e)[o],arguments,this);if(n){const e=new i("bound-anonymous-fn");arguments[t]=d.bind((function(t){return"object"==typeof t&&u.publish(t),c.publish(),e.runInAsyncScope((()=>n.apply(this,arguments)))}))}return d.runInAsyncScope((()=>{a.publish(h);try{const e=r.apply(this,arguments);return n?e:e&&"function"==typeof e.then?e.then((e=>(function(e){return!l&&"open"===e.name}(r)&&function(e){const t=function(e){return l||(l=Reflect.ownKeys(e).find((e=>"symbol"==typeof e&&e.toString().includes("kHandle")))),Object.getPrototypeOf(e)}(e),r=Reflect.getOwnPropertyDescriptor(t,l);r&&r.get||Reflect.defineProperty(t,l,{get(){return this[p]},set(e){this[p]=e,T(this,"close",v("filehandle."))},configurable:!0});for(const e of Reflect.ownKeys(t))"string"==typeof e&&"constructor"!==e&&"fd"!==e&&"getAsyncId"!==e&&T(t,e,v("filehandle."))}(e),c.publish(),e)),(e=>{throw u.publish(e),c.publish(),e})):(c.publish(),e)}catch(e){throw u.publish(e),c.publish(),e}}))}}}function E(e,t,r,n){const s={};if(t)for(let e=0;e<t.length;e++)t[e]&&"function"!=typeof r[e]&&(s[t[e]]=r[e]);return n&&(n.path&&(s.path=n.path),n.fd&&(s.fd=n.fd)),{operation:e,...s}}function S(e,t,r){for(const n of t)T(e,n,r)}function T(e,t,r){try{o.wrap(e,t,r)}catch(e){}}["fs","node:fs"].forEach((e=>{s({name:e},(e=>{const t=Object.keys(f),r=t.map((e=>`${e}Sync`));return S(e,t,v()),S(e,r,v()),S(e.promises,t,v("promises.")),T(e.realpath,"native",v("","realpath.native")),T(e.realpathSync,"native",v("","realpath.native")),T(e.promises.realpath,"native",v("","realpath.native")),T(e,"createReadStream",y),T(e,"createWriteStream",y),e.Dir&&(T(e.Dir.prototype,"close",v("dir.")),T(e.Dir.prototype,"closeSync",v("dir.")),T(e.Dir.prototype,"read",v("dir.")),T(e.Dir.prototype,"readSync",v("dir.")),T(e.Dir.prototype,Symbol.asyncIterator,(function(e){return function(){return d&&h||function(e){const t=Reflect.ownKeys(e);for(const e of t){if(d&&h)break;"symbol"==typeof e&&(!d&&_(e).includes("kDirReadPromisified")&&(d=e),!h&&_(e).includes("kDirClosePromisified")&&(h=e))}}(this),T(this,d,v("dir.","read")),T(this,h,v("dir.","close")),e.apply(this,arguments)}}))),T(e,"unwatchFile",b()),T(e,"watch",b()),T(e,"watchFile",b()),e}))}))},33616:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=n("apm:google-cloud-pubsub:request:start"),c=n("apm:google-cloud-pubsub:request:finish"),u=n("apm:google-cloud-pubsub:request:error"),p=n("apm:google-cloud-pubsub:receive:start"),l=n("apm:google-cloud-pubsub:receive:finish"),d=n("apm:google-cloud-pubsub:receive:error"),h=["createTopic","updateTopic","publish","getTopic","listTopics","listTopicSubscriptions","listTopicSnapshots","deleteTopic","detachSubscription"],f=["createSchema","getSchema","listSchemas","listSchemaRevisions","commitSchema","rollbackSchema","deleteSchemaRevision","deleteSchema","validateSchema","validateMessage"],m=["createSubscription","getSubscription","updateSubscription","listSubscriptions","deleteSubscription","modifyAckDeadline","acknowledge","pull","streamingPull","modifyPushConfig","getSnapshot","listSnapshots","createSnapshot","updateSnapshot","deleteSnapshot","seek"];function g(e){const t=e.name;return function(r){if(!a.hasSubscribers)return e.apply(this,arguments);const n=new i("bound-anonymous-fn");return n.runInAsyncScope((()=>{const s=this.auth._cachedProjectId,o=arguments[arguments.length-1];if(a.publish({request:r,api:t,projectId:s}),"function"==typeof o){const t=new i("bound-anonymous-fn");return arguments[arguments.length-1]=n.bind((function(e){return e&&u.publish(e),c.publish(),t.runInAsyncScope((()=>o.apply(this,arguments)))})),e.apply(this,arguments)}return e.apply(this,arguments).then((e=>(c.publish(),e)),(e=>{throw u.publish(e),c.publish(),e}))}))}}function _(e,t,r){for(const n of t)"function"==typeof e[n]&&o.wrap(e,n,r)}s({name:"@google-cloud/pubsub",versions:[">=1.2"]},(e=>{const t=e.Subscription;return o.wrap(t.prototype,"emit",(e=>function(t,r){return"message"===t&&r?new i("bound-anonymous-fn").runInAsyncScope((()=>{try{return e.apply(this,arguments)}catch(e){throw d.publish(e),e}})):e.apply(this,arguments)})),e})),s({name:"@google-cloud/pubsub",versions:[">=1.2"],file:"build/src/lease-manager.js"},(e=>{const t=e.LeaseManager;return o.wrap(t.prototype,"_dispense",(e=>function(t){return p.hasSubscribers&&p.publish({message:t}),e.apply(this,arguments)})),o.wrap(t.prototype,"remove",(e=>function(t){return l.publish({message:t}),e.apply(this,arguments)})),o.wrap(t.prototype,"clear",(e=>function(){for(const e of this._messages)l.publish({message:e});return e.apply(this,arguments)})),e})),s({name:"@google-cloud/pubsub",versions:[">=1.2"]},(e=>{const{PublisherClient:t,SchemaServiceClient:r,SubscriberClient:n}=e.v1;return _(t.prototype,h,g),_(n.prototype,m,g),r&&_(r.prototype,f,g),e}))},40957:(e,t,r)=>{"use strict";const{addHook:n,channel:s,AsyncResource:i}=r(93915),o=r(7496),a=new WeakMap,c=new WeakMap,u=new WeakSet,p=new WeakSet,l=s("apm:graphql:execute:start"),d=s("apm:graphql:execute:finish"),h=s("apm:graphql:execute:error"),f=s("apm:graphql:resolve:start"),m=s("apm:graphql:resolve:finish"),g=s("apm:graphql:resolve:updateField"),_=s("apm:graphql:resolve:error"),y=s("apm:graphql:parser:start"),b=s("apm:graphql:parser:finish"),v=s("apm:graphql:parser:error"),E=s("apm:graphql:validate:start"),S=s("apm:graphql:validate:finish"),T=s("apm:graphql:validate:error");function w(e,t){if(!e||!Array.isArray(e.definitions))return;const r=e.definitions.filter((e=>e)),n=["query","mutation","subscription"];return t?r.filter((e=>-1!==n.indexOf(e.operation))).find((e=>t===(e.name&&e.name.value))):r.find((e=>-1!==n.indexOf(e.operation)))}function I(e){return function(t){return y.hasSubscribers?new i("bound-anonymous-fn").runInAsyncScope((()=>{let r;y.publish();try{return r=e.apply(this,arguments),w(r)?(t&&c.set(r,t.body||t),r):r}catch(e){throw e.stack,v.publish(e),e}finally{b.publish({source:t,document:r,docSource:c.get(r)})}})):e.apply(this,arguments)}}function x(e){return function(t,r,n,s){return E.hasSubscribers?new i("bound-anonymous-fn").runInAsyncScope((()=>{let t;E.publish({docSource:c.get(r),document:r});try{return t=e.apply(this,arguments),t&&t[0]&&T.publish(t&&t[0]),t}catch(e){throw e.stack,T.publish(e),e}finally{S.publish({document:r,errors:t})}})):e.apply(this,arguments)}}function k(e){return function(t){const r=e.defaultFieldResolver;return function(){if(!l.hasSubscribers)return t.apply(this,arguments);const e=new i("bound-anonymous-fn");return e.runInAsyncScope((()=>{const n=function(e,t){return 1!==e.length?function(e,t){return e[3]=e[3]||{},e[6]=O(e[6]||t),e.length=Math.max(e.length,7),{schema:e[0],document:e[1],rootValue:e[2],contextValue:e[3],variableValues:e[4],operationName:e[5],fieldResolver:e[6]}}(e,t):(e[0].contextValue=e[0].contextValue||{},e[0].fieldResolver=O(e[0].fieldResolver||t),e[0])}(arguments,r),s=n.schema,i=n.document,o=c.get(i),u=n.contextValue,p=w(i,n.operationName);if(a.has(u))return t.apply(this,arguments);s&&(R(s._queryType),R(s._mutationType)),l.publish({operation:p,args:n,docSource:c.get(i)});const f={source:o,asyncResource:e,fields:{}};return a.set(u,f),A(t,e,this,arguments,((e,t)=>{m.hasSubscribers&&function({fields:e}){Object.keys(e).reverse().forEach((t=>{const r=e[t];r.asyncResource.runInAsyncScope((()=>{r.error&&_.publish(r.error),m.publish(r.finishTime)}))}))}(f);const r=e||t&&t.errors&&t.errors[0];r&&h.publish(r),d.publish({res:t,args:n})}))}))}}}function O(e){if("function"!=typeof e||u.has(e))return e;function t(t,r,n,s){if(!f.hasSubscribers)return e.apply(this,arguments);const o=a.get(n);if(!o)return e.apply(this,arguments);const c=function(e,t){const r=function(e){const t=[];let r=e;for(;r;)t.push(r.key),r=r.prev;return t.reverse()}(t&&t.path),n=r.join("."),s=e.fields;let o=s[n];if(!o){const a=function(e,t){for(let r=t.length-1;r>0;r--){const n=N(e,t.slice(0,r));if(n)return n}return{asyncResource:e.asyncResource}}(e,r);a.asyncResource.runInAsyncScope((()=>{const r=new i("bound-anonymous-fn");r.runInAsyncScope((()=>{f.publish({info:t,context:e})})),o=s[n]={parent:a,asyncResource:r,error:null}}))}return o}(o,s);return A(e,c.asyncResource,this,arguments,(e=>{g.publish({field:c,info:s,err:e})}))}return u.add(t),t}function A(e,t,r,n,s){return s=s||(()=>{}),t.runInAsyncScope((()=>{try{const i=e.apply(r,n);return i&&"function"==typeof i.then?i.then(t.bind((e=>s(null,e))),t.bind((e=>s(e)))):s(null,i),i}catch(e){throw s(e),e}}))}function N(e,t){return e.fields[t.join(".")]}function R(e){e&&e._fields&&!p.has(e)&&(p.add(e),Object.keys(e._fields).forEach((t=>{const r=e._fields[t];!function(e){e&&e.resolve&&(e.resolve=O(e.resolve))}(r),function(e){if(!e||!e.type)return;let t=e.type;for(;t.ofType;)t=t.ofType;R(t)}(r)})))}n({name:"graphql",file:"execution/execute.js",versions:[">=0.10"]},(e=>(o.wrap(e,"execute",k(e)),e))),n({name:"graphql",file:"language/parser.js",versions:[">=0.10"]},(e=>(o.wrap(e,"parse",I),e))),n({name:"graphql",file:"validation/validate.js",versions:[">=0.10"]},(e=>(o.wrap(e,"validate",x),e)))},53209:(e,t,r)=>{"use strict";r(95392),r(46618)},95392:(e,t,r)=>{"use strict";const n=r(79650),{addHook:s,channel:i,AsyncResource:o}=r(93915),a=r(7496),c=new WeakSet,u=new WeakMap,p=i("apm:grpc:client:request:start"),l=i("apm:grpc:client:request:error"),d=i("apm:grpc:client:request:finish");function h(e){return function(t){return function(r){const n=E(this,arguments,4);return v(this,t,n,r,n[4],e)}}}function f(){return function(e){return function(t){const r=e.apply(this,arguments);return r?(g(r),r):r}}}function m(){return function(e){return function(t){const r=e.apply(this,arguments);return _(r,t),r}}}function g(e){for(const t in e)e[t].format||(e[t].service&&e[t].prototype?_(e[t],e[t].service):g(e[t]))}function _(e,t){const r=e.prototype;"object"!=typeof t||"format"in t||Object.keys(t).forEach((e=>{if(!t[e])return;const s=t[e].originalName,i=t[e].path,o=(a=t[e]).requestStream?a.responseStream?n.bidi:n.client_stream:a.responseStream?n.server_stream:n.unary;var a;t[e]&&(r[e]=y(r[e],i,o)),s&&(r[s]=y(r[s],i,o))}))}function y(e,t,r){if("function"!=typeof e||c.has(e))return e;const n=function(){const n=E(this,arguments,1);return v(this,e,n,t,n[1],r)};return Object.assign(n,e),c.add(n),n}function b(e,t,r){return function(n){if(n&&e.runInAsyncScope((()=>{l.publish(n)})),r)return t.runInAsyncScope((()=>r.apply(this,arguments)))}}function v(e,t,r,s,i,c){if(!p.hasSubscribers)return t.apply(e,r);const u=r.length,h=r[u-1],f=new o("bound-anonymous-fn"),m=new o("bound-anonymous-fn");return m.runInAsyncScope((()=>{p.publish({metadata:i,path:s,type:c}),c!==n.unary&&c!==n.client_stream||("function"==typeof h?r[u-1]=b(m,f,h):r[u]=b(m,f));const o=t.apply(e,r);return function(e,t,r){e&&"function"==typeof e.emit&&a.wrap(e,"emit",(e=>function(n,...s){return t.runInAsyncScope((()=>{switch(n){case"error":l.publish(s[0]);break;case"status":d.publish(s[0])}})),r.runInAsyncScope((()=>e.apply(this,arguments)))}))}(o,m,f),o}))}function E(e,t,r){const n=function(e){let t=e;do{const e=u.get(t);if(e)return e}while(t=Object.getPrototypeOf(t))}(e);if(!e||!n)return t;const s=t[r],i=[];for(let e=0;e<r;e++)i.push(t[e]);s&&s.constructor&&"Metadata"===s.constructor.name||i.push(new n.Metadata),s&&i.push(s);for(let e=r+1;e<t.length;e++)i.push(t[e]);return i}function S(e){const t=e.Client.prototype;return u.set(t,e),a.wrap(t,"makeBidiStreamRequest",h(n.bidi)),a.wrap(t,"makeClientStreamRequest",h(n.clientStream)),a.wrap(t,"makeServerStreamRequest",h(n.serverStream)),a.wrap(t,"makeUnaryRequest",h(n.unary)),e}s({name:"grpc",versions:[">=1.24.3"]},S),s({name:"grpc",versions:[">=1.24.3"],file:"src/client.js"},(e=>(a.wrap(e,"makeClientConstructor",m()),e))),s({name:"@grpc/grpc-js",versions:[">=1.0.3"]},S),s({name:"@grpc/grpc-js",versions:[">=1.0.3"],file:"build/src/make-client.js"},(e=>(a.wrap(e,"makeClientConstructor",m()),a.wrap(e,"loadPackageDefinition",f()),e)))},46618:(e,t,r)=>{"use strict";const n=r(79650),{channel:s,addHook:i,AsyncResource:o}=r(93915),a=r(7496),c=s("apm:grpc:server:request:start"),u=s("apm:grpc:server:request:error"),p=s("apm:grpc:server:request:update"),l=s("apm:grpc:server:request:finish"),d=0,h=1;function f(e){return function(t,r,s,i,f){return"function"==typeof r&&(arguments[1]=function(e,t){return function(r,s){if(i=this,f=arguments,!(c.hasSubscribers&&i&&i.type&&f[0]&&("unary"===i.type||"function"==typeof(m=f[0]).emit&&"function"==typeof m.once))||"unary"===i.type&&"function"!=typeof f[1])return e.apply(this,arguments);var i,f,m;const g=r.metadata,_=n[this.type],y="unary"!==_,b=new o("bound-anonymous-fn"),v=new o("bound-anonymous-fn");return v.runInAsyncScope((()=>{c.publish({name:t,metadata:g,type:_});const n=v.bind((()=>{l.publish({code:h})}));return r.once("cancelled",n),y?function(e,t,r){e.call&&e.call.sendStatus&&(e.call.sendStatus=function(e,t){return function(r){return t.runInAsyncScope((()=>{p.publish(r)})),e.apply(this,arguments)}}(e.call.sendStatus,t)),a.wrap(e,"emit",(t=>function(n,...s){switch(n){case"error":u.publish(s[0]),l.publish({code:s[0].code}),e.removeListener("cancelled",r);break;case"finish":e.status&&p.publish(e.status),e.status&&0!==e.status.code||l.publish(),e.removeListener("cancelled",r)}return t.apply(this,arguments)}))}(r,v,n):arguments[1]=function(e,t,r,n,s){return function(i,o,a,c){if(r.runInAsyncScope((()=>{i instanceof Error?(u.publish(i),l.publish(i)):l.publish({code:d,trailer:a}),t.removeListener("cancelled",s)})),e)return n.runInAsyncScope((()=>e.apply(this,arguments)))}}(s,r,v,b,n),a.wrap(r,"emit",(e=>v.bind(e))),e.apply(this,arguments)}))}}(r,t)),e.apply(this,arguments)}}i({name:"grpc",versions:[">=1.24.3"],file:"src/server.js"},(e=>(a.wrap(e.Server.prototype,"register",f),e))),i({name:"@grpc/grpc-js",versions:[">=1.0.3"],file:"build/src/server.js"},(e=>(a.wrap(e.Server.prototype,"register",f),e)))},79650:e=>{"use strict";e.exports={unary:"unary",bidi:"bidi_streaming",client_stream:"client_streaming",clientStream:"client_streaming",server_stream:"server_streaming",serverStream:"server_streaming"}},46832:(e,t,r)=>{"use strict";const n=r(7496),{addHook:s,channel:i,AsyncResource:o}=r(93915),a=i("apm:hapi:request:handle"),c=i("apm:hapi:request:route"),u=i("apm:hapi:request:error"),p=i("apm:hapi:extension:enter");function l(e){return function(t){const r=e.apply(this,arguments);return r?("function"==typeof r.ext&&(r.ext=h(r.ext)),"function"==typeof r.start&&(r.start=d(r.start)),r):r}}function d(e){return function(){return this&&"function"==typeof this.ext&&this.ext("onPreResponse",y),e.apply(this,arguments)}}function h(e){return function(t,r,n){return"object"==typeof t?arguments[0]=function(e){return[].concat(e).map((e=>e&&e.method?Object.assign({},e,{method:g(e.method)}):e))}(t):arguments[1]=g(r),e.apply(this,arguments)}}function f(e){return function(t){const r=e.apply(this,arguments);return"function"!=typeof r?r:function(e,t){return a.publish({req:e,res:t}),r.apply(this,arguments)}}}function m(e){return function(t){const r=e.apply(this,arguments);return this&&Array.isArray(this._cycle)&&(this._cycle=this._cycle.map(_)),r}}function g(e){return[].concat(e).map(_)}function _(e){return"function"!=typeof e?e:function(t,r){const n=t&&t.raw&&t.raw.req;return n?new o("bound-anonymous-fn").runInAsyncScope((()=>(p.publish({req:n}),e.apply(this,arguments)))):e.apply(this,arguments)}}function y(e,t){if(!e||!e.raw)return b(0,t);const r=e.raw.req;return e.response instanceof Error&&u.publish(e.response),e.route&&c.publish({req:r,route:e.route.path}),b(0,t)}function b(e,t){return t.continue?"function"==typeof t.continue?t.continue():t.continue:"function"==typeof t?t():void 0}s({name:"@hapi/hapi",versions:[">=17.9"]},(e=>(n.massWrap(e,["server","Server"],l),e))),s({name:"@hapi/hapi",versions:[">=17.9"],file:"lib/core.js"},(e=>(n.wrap(e.prototype,"_dispatch",f),e))),s({name:"@hapi/hapi",versions:[">=17.9"],file:"lib/route.js"},(e=>(n.wrap(e.prototype,"rebuild",m),e))),s({name:"hapi",versions:[">=17"]},(e=>(n.massWrap(e,["server","Server"],l),e))),s({name:"hapi",versions:["16"]},(e=>(n.wrap(e.Server.prototype,"start",d),n.wrap(e.Server.prototype,"ext",h),e))),s({name:"hapi",versions:["16"],file:"lib/connection.js"},(e=>(n.wrap(e.prototype,"_dispatch",f),e))),s({name:"hapi",versions:[">=17"],file:"lib/core.js"},(e=>(n.wrap(e.prototype,"_dispatch",f),e))),s({name:"hapi",versions:[">=16"],file:"lib/route.js"},(e=>(n.wrap(e.prototype,"rebuild",m),e)))},70839:(e,t,r)=>{"use strict";const n=r(71017),s=r(22878),i=r(81118),o=r(96166);function a(e,t){if(!(this instanceof a))return new a(e,t);this._patched=Object.create(null);const r=(e,r,s,i)=>{const o=[s,r].filter((e=>e)),a=n.join(...o);return this._patched[a]?e:(this._patched[a]=!0,t(e,r,s,i))};this._ritmHook=i(e,{},r),this._iitmHook=s(e,{},((e,t,n)=>e&&e.default?(e.default=r(e.default,t,n),e):r(e,t,n))),this._dcitmHook=o(e,{},r)}a.prototype.unhook=function(){this._ritmHook.unhook(),this._iitmHook.unhook(),this._dcitmHook.unhook(),this._patched=Object.create(null)},e.exports=a},8514:(e,t,r)=>{"use strict";e.exports={"@aws-sdk/smithy-client":()=>r(53910),"@cucumber/cucumber":()=>r(17169),"@playwright/test":()=>r(63500),"@elastic/elasticsearch":()=>r(88672),"@elastic/transport":()=>r(88672),"@google-cloud/pubsub":()=>r(33616),"@grpc/grpc-js":()=>r(53209),"@hapi/hapi":()=>r(46832),"@jest/core":()=>r(36376),"@jest/reporters":()=>r(36376),"@koa/router":()=>r(72818),"@node-redis/client":()=>r(78749),"@opensearch-project/opensearch":()=>r(75177),"@redis/client":()=>r(78749),amqp10:()=>r(74092),amqplib:()=>r(27995),"aws-sdk":()=>r(53910),bluebird:()=>r(37747),"body-parser":()=>r(19346),bunyan:()=>r(69032),"cassandra-driver":()=>r(89966),child_process:()=>r(53758),"node:child_process":()=>r(53758),connect:()=>r(56284),couchbase:()=>r(95889),crypto:()=>r(62176),cypress:()=>r(83249),dns:()=>r(58534),elasticsearch:()=>r(88672),express:()=>r(48359),fastify:()=>r(55084),"find-my-way":()=>r(81701),fs:()=>r(8661),"node:fs":()=>r(8661),graphql:()=>r(40957),grpc:()=>r(53209),hapi:()=>r(46832),http:()=>r(5018),http2:()=>r(35304),https:()=>r(5018),ioredis:()=>r(37632),"jest-circus":()=>r(36376),"jest-config":()=>r(36376),"jest-environment-node":()=>r(36376),"jest-environment-jsdom":()=>r(36376),"jest-jasmine2":()=>r(36376),"jest-worker":()=>r(36376),koa:()=>r(72818),"koa-router":()=>r(72818),kafkajs:()=>r(80693),ldapjs:()=>r(17287),"limitd-client":()=>r(9984),mariadb:()=>r(344),memcached:()=>r(305),"microgateway-core":()=>r(99967),mocha:()=>r(80411),"mocha-each":()=>r(80411),moleculer:()=>r(81897),mongodb:()=>r(28471),"mongodb-core":()=>r(28471),mongoose:()=>r(73502),mysql:()=>r(48072),mysql2:()=>r(4205),net:()=>r(16548),next:()=>r(65117),oracledb:()=>r(57807),paperplane:()=>r(87788),pg:()=>r(11772),pino:()=>r(79113),"pino-pretty":()=>r(79113),"promise-js":()=>r(7466),promise:()=>r(35103),q:()=>r(25443),qs:()=>r(83218),redis:()=>r(78749),restify:()=>r(15158),rhea:()=>r(96402),router:()=>r(50825),sharedb:()=>r(31467),tedious:()=>r(54213),when:()=>r(64194),winston:()=>r(48488)}},93915:(e,t,r)=>{"use strict";const n=r(83928),s=r(81249),i=r(55203),{AsyncResource:o}=r(50852),a={};t.channel=function(e){const t=a[e];if(t)return t;const r=n.channel(e);return a[e]=r,r},t.addHook=function({name:e,versions:t,file:r},n){i[e]||(i[e]=[]),i[e].push({name:e,versions:t,file:r,hook:n})},s.satisfies(process.versions.node,">=17.8.0")?t.AsyncResource=o:t.AsyncResource=class extends o{static bind(e,r,n){return r=r||e.name,new t.AsyncResource(r||"bound-anonymous-fn").bind(e,n)}bind(e,t){let r;if(void 0===t){const t=this;r=function(...r){return r.unshift(e,this),Reflect.apply(t.runInAsyncScope,t,r)}}else r=this.runInAsyncScope.bind(this,e,t);return Object.defineProperties(r,{length:{configurable:!0,enumerable:!1,value:e.length,writable:!1},asyncResource:{configurable:!0,enumerable:!0,value:this,writable:!0}}),r}}},55203:e=>{"use strict";const t=Symbol.for("_ddtrace_instrumentations");global[t]=global[t]||{},e.exports=global[t]},91273:(e,t,r)=>{"use strict";const{AsyncResource:n}=r(50852);function s(e,t){return"function"!=typeof t?t:function(){return e.runInAsyncScope((()=>t.apply(this,arguments)))}}t.wrapThen=function(e){return function(t,r,i){const o=new n("bound-anonymous-fn");return arguments[0]=s(o,t),arguments[1]=s(o,r),i&&(arguments[2]=s(o,i)),e.apply(this,arguments)}}},92311:(e,t,r)=>{"use strict";e=r.nmd(e);const{channel:n}=r(83928),s=r(71017),i=r(81249),o=r(70839),a=r(59367),c=r(63178),u=r(8514),p=r(55203),l=Object.keys(u),d=new RegExp(`\\${s.sep}`,"g"),h=n("dd-trace:instrumentation:load");for(const e of l)o([e],((t,r,n,s)=>{r=r.replace(d,"/"),u[e]();for(const{name:i,file:o,versions:a,hook:u}of p[e])if(r===g(i,o)){const e=s||m(n);if(f(e,a))try{h.publish({name:i,version:e,file:o}),t=u(t,e)}catch(e){c.error(e)}}return t}));function f(e,t){return!e||t&&t.some((t=>i.satisfies(i.coerce(e),t)))}function m(t){if(t)return a(t,e).version}function g(e,t){return[e,t].filter((e=>e)).join("/")}e.exports={filename:g,pathSepExpr:d}},5018:(e,t,r)=>{"use strict";r(66874),r(58151)},66874:(e,t,r)=>{"use strict";const n=r(57310),{channel:s,addHook:i,AsyncResource:o}=r(93915),a=r(7496),c=r(63178),u=s("apm:http:client:request:start"),p=s("apm:http:client:request:finish"),l=s("apm:http:client:request:error");function d(e){return h(e,"request"),h(e,"get"),e}function h(e,t){function r(e,t,r){e=function(e){if("string"!=typeof e)return e instanceof n.URL?s(e):e;try{return s(new n.URL(e))}catch(t){return n.parse(e)}}(e);const[i,o]=function(e,t,r){return"function"==typeof e?[e,r||{}]:[t,e]}(t,r,e),a=function(e,t){return"object"==typeof t?Object.assign(e||{},t):e}(e,o);return function(e){e.headers=e.headers||{}}(a),{uri:n.format(a),options:a,callback:i}}function s(t){const r=t.agent||e.globalAgent,n={protocol:t.protocol||r.protocol,hostname:"string"==typeof t.hostname&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname||t.host||"localhost",hash:t.hash,search:t.search,pathname:t.pathname,path:`${t.pathname||""}${t.search||""}`,href:t.href};return""!==t.port&&(n.port=Number(t.port)),(t.username||t.password)&&(n.auth=`${t.username}:${t.password}`),n}a.wrap(e,t,(function(t){return function(){if(!u.hasSubscribers)return t.apply(this,arguments);let n;try{n=r.apply(null,arguments)}catch(e){return c.error(e),t.apply(this,arguments)}const s=new o("bound-anonymous-fn"),i=new o("bound-anonymous-fn");return i.runInAsyncScope((()=>{u.publish({args:n,http:e});let r=!1,o=n.callback;o&&(o=s.bind(o));const a=n.options,c=t.call(this,a,o),d=c.emit,h=(e,t)=>{r||(r=!0,p.publish({req:e,res:t}))};return c.emit=function(e,t){return i.runInAsyncScope((()=>{switch(e){case"response":{const e=t,r=i.bind((()=>h(c,e)));e.on("end",r),e.on("error",r);break}case"connect":case"upgrade":h(c,t);break;case"error":case"timeout":l.publish(t);case"abort":case"close":h(c)}})),d.apply(this,arguments)},c}))}}))}i({name:"https"},d),i({name:"http"},d)},58151:(e,t,r)=>{"use strict";const{AbortController:n}=r(53357),{channel:s,addHook:i}=r(93915),o=r(7496),a=s("apm:http:server:request:start"),c=s("apm:http:server:request:exit"),u=s("apm:http:server:request:error"),p=s("apm:http:server:request:finish"),l=new WeakSet;function d(e){return function(t,r){return a.hasSubscribers?(["finish","close"].includes(t)&&!l.has(this)&&(p.publish({req:this.req}),l.add(this)),e.apply(this,arguments)):e.apply(this,arguments)}}function h(e){return function(t,r,s){if(!a.hasSubscribers)return e.apply(this,arguments);if("request"===t){s.req=r;const t=new n;a.publish({req:r,res:s,abortController:t});try{return t.signal.aborted?s.end():e.apply(this,arguments)}catch(e){throw u.publish(e),e}finally{c.publish({req:r})}}return e.apply(this,arguments)}}i({name:"https"},(e=>(o.wrap(e.Server.prototype,"emit",h),e))),i({name:"http"},(e=>(o.wrap(e.ServerResponse.prototype,"emit",d),o.wrap(e.Server.prototype,"emit",h),e)))},35304:(e,t,r)=>{"use strict";r(62555),r(49654)},62555:(e,t,r)=>{"use strict";const n=r(7496),{addHook:s,channel:i,AsyncResource:o}=r(93915),a=i("apm:http2:client:request:start"),c=i("apm:http2:client:request:finish"),u=i("apm:http2:client:request:error"),p=i("apm:http2:client:response");function l(e){return function(t,r){const s=e.apply(this,arguments);return n.wrap(s,"request",function(e,t){return function(r){return function(s){const i=new o("bound-anonymous-fn"),l=new o("bound-anonymous-fn");return l.runInAsyncScope((()=>{a.publish({headers:s,authority:e,options:t});const o=r.apply(this,arguments);return n.wrap(o,"emit",function(e,t){return function(r){return function(n,s){return e.runInAsyncScope((()=>{switch(n){case"response":p.publish(s);break;case"error":u.publish(s);case"close":c.publish()}})),t.runInAsyncScope((()=>r.apply(this,arguments)))}}}(l,i)),o}))}}}(t,r)),s}}s({name:"http2"},(e=>(n.wrap(e,"connect",l),e)))},49654:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=n("apm:http2:server:request:start"),c=n("apm:http2:server:request:error"),u=n("apm:http2:server:request:finish");function p(e){return function(...t){const r=e.apply(this,t);return o.wrap(r,"emit",d),r}}function l(e){const t=new i("bound-anonymous-fn");return function(r,n){return t.runInAsyncScope((()=>("close"===r&&u.hasSubscribers&&u.publish({req:this.req}),e.apply(this,arguments))))}}function d(e){return function(t,r,n){return a.hasSubscribers&&"request"===t?(n.req=r,new i("bound-anonymous-fn").runInAsyncScope((()=>{a.publish({req:r,res:n}),o.wrap(n,"emit",l);try{return e.apply(this,arguments)}catch(e){throw c.publish(e),e}}))):e.apply(this,arguments)}}s({name:"http2"},(e=>(o.wrap(e,"createSecureServer",p),o.wrap(e,"createServer",p),e)))},37632:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=n("apm:ioredis:command:start"),c=n("apm:ioredis:command:finish"),u=n("apm:ioredis:command:error");function p(e,t,r){r&&t.publish(r),e.publish()}s({name:"ioredis",versions:[">=2"]},(e=>(o.wrap(e.prototype,"sendCommand",(e=>function(t,r){if(!a.hasSubscribers)return e.apply(this,arguments);if(!t||!t.promise)return e.apply(this,arguments);const n=this.options||{},s=n.connectionName,o=n.db,l={host:n.host,port:n.port},d=new i("bound-anonymous-fn");return d.runInAsyncScope((()=>{a.publish({db:o,command:t.name,args:t.args,connectionOptions:l,connectionName:s});const r=d.bind((()=>p(c,u))),n=d.bind((e=>p(c,u,e)));t.promise.then(r,n);try{return e.apply(this,arguments)}catch(e){throw u.publish(e),e}}))})),e)))},36376:(e,t,r)=>{"use strict";const{addHook:n,channel:s,AsyncResource:i}=r(93915),o=r(7496),a=r(63178),{getCoveredFilenamesFromCoverage:c,JEST_WORKER_TRACE_PAYLOAD_CODE:u,JEST_WORKER_COVERAGE_PAYLOAD_CODE:p,getTestLineStart:l}=r(90186),d=s("ci:jest:session:start"),h=s("ci:jest:session:finish"),f=s("ci:jest:session:configuration"),m=s("ci:jest:test-suite:start"),g=s("ci:jest:test-suite:finish"),_=s("ci:jest:worker-report:trace"),y=s("ci:jest:worker-report:coverage"),b=s("ci:jest:test-suite:code-coverage"),v=s("ci:jest:test:start"),E=s("ci:jest:test:skip"),S=s("ci:jest:test:finish"),T=s("ci:jest:test:err"),w=s("ci:jest:test-suite:skippable"),I=s("ci:jest:itr-configuration");let x=[],k=!1,O=!1;const{getTestSuitePath:A,getTestParametersString:N}=r(90186),{getFormattedJestTestParameters:R,getJestTestName:C}=r(49241),L=new i("bound-anonymous-fn"),D={pending:"skip",disabled:"skip",todo:"skip",passed:"pass",failed:"fail"},M=new WeakMap,P=new WeakMap;function j(e){let t;if(Array.isArray(e)){const[r,n]=e;null!==r&&r.stack?t=r:(t=n,t.message=r)}else t=e;return t}function q(e,t){return class extends e{constructor(e,t){super(e,t);const r=e.globalConfig?e.globalConfig.rootDir:e.rootDir;this.rootDir=r,this.testSuite=A(t.testPath,r),this.nameToParams={},this.global._ddtrace=global._ddtrace,this.testEnvironmentOptions=function(e){return e.projectConfig&&e.projectConfig.testEnvironmentOptions?e.projectConfig.testEnvironmentOptions:e.testEnvironmentOptions?e.testEnvironmentOptions:{}}(e)}async handleTestEvent(e,r){super.handleTestEvent&&await super.handleTestEvent(e,r);const n=(e,t)=>{this.nameToParams[e]=t};if("setup"===e.name&&this.global.test&&o.wrap(this.global.test,"each",(e=>function(){const t=R(arguments),r=e.apply(this,arguments);return function(){const[e]=arguments;return n(e,t),r.apply(this,arguments)}})),"test_start"===e.name){const r=N(this.nameToParams,e.test.name),n=new i("bound-anonymous-fn");M.set(e.test,n),n.runInAsyncScope((()=>{v.publish({name:C(e.test),suite:this.testSuite,runner:"jest-circus",testParameters:r,frameworkVersion:t,testStartLine:l(e.test.asyncError,this.testSuite)}),P.set(e.test,e.test.fn),e.test.fn=n.bind(e.test.fn)}))}"test_done"===e.name&&M.get(e.test).runInAsyncScope((()=>{let t="pass";if(e.test.errors&&e.test.errors.length){t="fail";const r=j(e.test.errors[0]);T.publish(r)}S.publish(t),e.test.fn=P.get(e.test)})),"test_skip"!==e.name&&"test_todo"!==e.name||new i("bound-anonymous-fn").runInAsyncScope((()=>{E.publish({name:C(e.test),suite:this.testSuite,runner:"jest-circus",frameworkVersion:t,testStartLine:l(e.test.asyncError,this.testSuite)})}))}}}function U(e,t){if(e.default){const r=q(e.default,t);return e.default=r,e.TestEnvironment=r,e}return q(e,t)}function F(e){const t=e.default?e.default:e;return o.wrap(t.prototype,"_addUntestedFiles",(e=>async function(){return O?Promise.resolve():e.apply(this,arguments)})),e}function $(e){const{configs:t}=e;if(L.runInAsyncScope((()=>{f.publish(t.map((e=>e.testEnvironmentOptions)))})),t.forEach((e=>{e.testEnvironmentOptions._ddTestCodeCoverageEnabled=k})),k){const t={...e.globalConfig,collectCoverage:!0};e.globalConfig=t}if(O){const t={...e.globalConfig,coverageReporters:["none"],passWithNoTests:!0};e.globalConfig=t}return e}n({name:"jest-environment-node",versions:[">=24.8.0"]},U),n({name:"jest-environment-jsdom",versions:[">=24.8.0"]},U),n({name:"@jest/reporters",file:"build/coverage_reporter.js",versions:[">=24.8.0 <26.6.2"]},F),n({name:"@jest/reporters",file:"build/CoverageReporter.js",versions:[">=26.6.2"]},F),n({name:"@jest/core",file:"build/cli/index.js",versions:[">=24.8.0"]},(function(e,t){const r=o.wrap(e,"runCLI",(e=>async function(){let r;const n=new Promise((e=>{r=e}));if(!I.hasSubscribers)return e.apply(this,arguments);L.runInAsyncScope((()=>{I.publish({onDone:r})}));try{const{err:e,itrConfig:t}=await n;e||(k=t.isCodeCoverageEnabled,O=t.isSuitesSkippingEnabled)}catch(e){a.error(e)}if(O){const e=new Promise((e=>{r=e}));L.runInAsyncScope((()=>{w.publish({onDone:r})}));try{const{err:t,skippableSuites:r}=await e;t||(x=r)}catch(e){a.error(e)}}const s=!!x.length,i=process.argv.slice(2).join(" ");L.runInAsyncScope((()=>{d.publish({command:`jest ${i}`,frameworkVersion:t})}));const o=await e.apply(this,arguments),{results:{success:c,coverageMap:u}}=o;let p;try{const{pct:e,total:t}=u.getCoverageSummary().lines;p=0!==t?e:0}catch(e){}return L.runInAsyncScope((()=>{h.publish({status:c?"pass":"fail",isSuitesSkipped:s,isSuitesSkippingEnabled:O,isCodeCoverageEnabled:k,testCodeCoverageLinesTotal:p})})),o}));return e.runCLI=r.runCLI,e})),n({name:"jest-circus",file:"build/legacy-code-todo-rewrite/jestAdapter.js",versions:[">=24.8.0"]},(function(e,t){const r=e.default?e.default:e,n=o.wrap(r,(function(){const e=arguments[2];if(!e)return r.apply(this,arguments);const n=new i("bound-anonymous-fn");return n.runInAsyncScope((()=>(m.publish({testSuite:e.testSuite,testEnvironmentOptions:e.testEnvironmentOptions,frameworkVersion:t}),r.apply(this,arguments).then((t=>{const{numFailingTests:r,skipped:s,failureMessage:i}=t;let o="pass";s?o="skipped":0!==r&&(o="fail");const a=c(e.global.__coverage__).map((t=>A(t,e.rootDir)));return a&&e.testEnvironmentOptions&&e.testEnvironmentOptions._ddTestCodeCoverageEnabled&&n.runInAsyncScope((()=>{b.publish([...a,e.testSuite])})),g.publish({status:o,errorMessage:i}),t})))))}));return e.default?e.default=n:e=n,e})),n({name:"@jest/core",versions:[">=24.8.0"],file:"build/SearchSource.js"},(e=>{const t=e.default?e.default:e;return o.wrap(t.prototype,"getTestPaths",(e=>async function(){if(!x.length)return e.apply(this,arguments);const[{rootDir:t}]=arguments,r=await e.apply(this,arguments),{tests:n}=r,s=n.filter((({path:e})=>{const r=e.replace(`${t}/`,"");return!x.includes(r)}));return x=[],{...r,tests:s}})),e})),n({name:"jest-config",versions:[">=25.1.0"]},(function(e){return o.wrap(e,"readConfigs",(e=>async function(){const t=await e.apply(this,arguments);return $(t),t})),e})),n({name:"jest-config",versions:["24.8.0 - 24.9.0"]},(function(e){return o.wrap(e,"readConfigs",(e=>function(){const t=e.apply(this,arguments);return $(t),t})),e})),n({name:"jest-jasmine2",versions:[">=24.8.0"],file:"build/jasmineAsyncInstall.js"},(function(e,t){return function(r,n){return n._ddtrace=global._ddtrace,o.wrap(n.jasmine.Spec.prototype,"execute",(e=>function(n){const s=new i("bound-anonymous-fn");s.runInAsyncScope((()=>{const i=A(this.result.testPath,r.rootDir);v.publish({name:this.getFullName(),suite:i,runner:"jest-jasmine2",frameworkVersion:t});const o=this,a=s.bind((function(){if(o.result.failedExpectations&&o.result.failedExpectations.length){const e=j(o.result.failedExpectations[0].error);T.publish(e)}S.publish(D[o.result.status]),n.apply(this,arguments)}));arguments[0]=a,e.apply(this,arguments)}))})),e.default(r,n)}})),n({name:"jest-worker",versions:[">=24.9.0"],file:"build/workers/ChildProcessWorker.js"},(e=>{const t=e.default;return o.wrap(t.prototype,"_onMessage",(e=>function(){const[t,r]=arguments[0];if(t!==u){if(t!==p)return e.apply(this,arguments);L.runInAsyncScope((()=>{y.publish(r)}))}else L.runInAsyncScope((()=>{_.publish(r)}))})),e}))},80693:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=n("apm:kafkajs:produce:start"),c=n("apm:kafkajs:produce:finish"),u=n("apm:kafkajs:produce:error"),p=n("apm:kafkajs:consume:start"),l=n("apm:kafkajs:consume:finish"),d=n("apm:kafkajs:consume:error");s({name:"kafkajs",versions:[">=1.4"]},(e=>{const t=e.Kafka;return o.wrap(t.prototype,"producer",(e=>function(){const t=e.apply(this,arguments),r=t.send;return t.send=function(){const e=new i("bound-anonymous-fn");return e.runInAsyncScope((()=>{if(!a.hasSubscribers)return r.apply(this,arguments);try{const{topic:t,messages:n=[]}=arguments[0];for(const e of n)"object"==typeof e&&(e.headers=e.headers||{});a.publish({topic:t,messages:n});const s=r.apply(this,arguments);return s.then(e.bind((()=>c.publish(void 0))),e.bind((e=>{e&&u.publish(e),c.publish(void 0)}))),s}catch(e){throw u.publish(e),c.publish(void 0),e}}))},t})),o.wrap(t.prototype,"consumer",(e=>function(){if(!p.hasSubscribers)return e.apply(this,arguments);const t=e.apply(this,arguments),r=t.run;return t.run=function({eachMessage:e,...t}){return r("function"!=typeof e?{eachMessage:e,...t}:{eachMessage:function(...t){const r=new i("bound-anonymous-fn");return r.runInAsyncScope((()=>{const{topic:n,partition:s,message:i}=t[0];p.publish({topic:n,partition:s,message:i});try{const n=e.apply(this,t);return n&&"function"==typeof n.then?n.then(r.bind((()=>l.publish(void 0))),r.bind((e=>{e&&d.publish(e),l.publish(void 0)}))):l.publish(void 0),n}catch(e){throw d.publish(e),l.publish(void 0),e}}))},...t})},t})),e}))},72818:(e,t,r)=>{"use strict";const n=r(7496),{addHook:s,channel:i}=r(93915),o=i("apm:koa:middleware:enter"),a=i("apm:koa:middleware:exit"),c=i("apm:koa:middleware:error"),u=i("apm:koa:middleware:next"),p=i("apm:koa:middleware:finish"),l=i("apm:koa:request:handle"),d=i("apm:koa:request:route"),h=new WeakMap;function f(e){return function(){const t=e.apply(this,arguments);return"function"!=typeof t?t:function(e,r){return l.publish({req:e,res:r}),t.apply(this,arguments)}}}function m(e){return function(){const t=e.apply(this,arguments);if(!Array.isArray(this.middleware))return t;const r=this.middleware.pop();return this.middleware.push(b(r)),t}}function g(e){return function(t,r,n,s){const i=e.apply(this,arguments);return!Array.isArray(t)&&i&&Array.isArray(i.stack)&&y(i),i}}function _(e){return function(){const t=e.apply(this,arguments);return t.stack.forEach(y),t}}function y(e){e.stack=e.stack.map((t=>{if("function"!=typeof t)return t;t=h.get(t)||t;const r=n.wrap(t,b(t,e));return h.set(r,t),r}))}function b(e,t){if("function"!=typeof e)return e;const r=e.name;return function(n,s){if(!n||!o.hasSubscribers)return e.apply(this,arguments);const i=n.req,c=t&&t.path,p="string"==typeof c&&!c.endsWith("(.*)")&&!c.endsWith("([^/]*)")&&c;o.publish({req:i,name:r,route:p}),"function"==typeof s&&(arguments[1]=function(e,t){return function(){return u.publish({req:e}),t.apply(this,arguments)}}(i,s));try{const t=e.apply(this,arguments);return t&&"function"==typeof t.then?t.then((e=>(v(n),e)),(e=>{throw v(n,e),e})):(v(n),t)}catch(e){throw v(n,e),e}finally{a.publish({req:i})}}}function v(e,t){const r=e.req,n=e.routePath;t&&c.publish({req:r,error:t}),n&&d.publish({req:r,route:n}),p.publish({req:r})}s({name:"koa",versions:[">=2"]},(e=>(n.wrap(e.prototype,"callback",f),n.wrap(e.prototype,"use",m),e))),s({name:"@koa/router",versions:[">=8"]},(e=>(n.wrap(e.prototype,"register",g),n.wrap(e.prototype,"use",_),e))),s({name:"koa-router",versions:[">=7"]},(e=>(n.wrap(e.prototype,"register",g),n.wrap(e.prototype,"use",_),e)))},17287:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496);function a(e){return"string"==typeof e||e instanceof String}s({name:"ldapjs",versions:[">=2"]},(e=>{const t=n("datadog:ldapjs:client:search");return o.wrap(e.Client.prototype,"search",(e=>function(r,n){if(t.hasSubscribers){let e;a(n)?e=n:"object"==typeof n&&n.filter&&a(n.filter)&&(e=n.filter),t.publish({base:r,filter:e})}return e.apply(this,arguments)})),o.wrap(e.Client.prototype,"_send",(e=>function(){const t=function(e){let t=-1;for(let r=e.length-1;r>=0;r--)if("function"==typeof e[r]){t=r;break}return t}(arguments);if(t>-1){const e=arguments[t];arguments[t]=o.wrap(e,(function(t,r){"object"==typeof r&&"function"==typeof r.on&&function(e){const t=new WeakMap,r=e=>function(r,n){if("function"==typeof n){let e=t.get(n);e||(e=new i("bound-anonymous-fn").bind(n),t.set(n,e)),arguments[1]=e}return e.apply(this,arguments)};o.wrap(e,"on",r),o.wrap(e,"addListener",r);const n=e=>function(r,n){if("function"==typeof n){const e=t.get(n);e&&(arguments[1]=e)}return e.apply(this,arguments)};o.wrap(e,"off",n),o.wrap(e,"removeListener",n)}(r),e.apply(this,arguments)}))}return e.apply(this,arguments)})),o.wrap(e.Client.prototype,"bind",(e=>function(t,r,n,s){return"function"==typeof n?arguments[2]=i.bind(n):"function"==typeof s&&(arguments[3]=i.bind(s)),e.apply(this,arguments)})),e}))},9984:(e,t,r)=>{"use strict";const{addHook:n,AsyncResource:s}=r(93915),i=r(7496);function o(e){return function(){const t=arguments.length-1;return arguments[t]=s.bind(arguments[t]),e.apply(this,arguments)}}n({name:"limitd-client",versions:[">=2.8"]},(e=>(i.wrap(e.prototype,"_directRequest",o),i.wrap(e.prototype,"_retriedRequest",o),e)))},344:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=n("apm:mariadb:query:start"),c=n("apm:mariadb:query:finish"),u=n("apm:mariadb:query:error"),p=n("apm:mariadb:pool:skip"),l=n("apm:mariadb:pool:unskip");function d(e){return class extends e{constructor(...e){super(...e);const t=new i("bound-anonymous-fn");this.start&&(this.start=function(e,t){return function(){if(!a.hasSubscribers)return e.apply(this,arguments);const r=t.bind(this.resolve),n=t.bind(this.reject),s=t.runInAsyncScope((()=>new i("bound-anonymous-fn")));return o.wrap(this,"resolve",(function(){return function(){return s.runInAsyncScope((()=>{c.publish()})),r.apply(this,arguments)}})),o.wrap(this,"reject",(function(){return function(e){return s.runInAsyncScope((()=>{u.publish(e),c.publish()})),n.apply(this,arguments)}})),s.runInAsyncScope((()=>(a.publish({sql:this.sql,conf:this.opts}),e.apply(this,arguments))))}}(this.start,t))}}}function h(e){return function(t){return function(r){return a.hasSubscribers?new i("bound-anonymous-fn").runInAsyncScope((()=>(a.publish({sql:r,conf:e}),t.apply(this,arguments).then((e=>(c.publish(),e)),(e=>{throw u.publish(e),c.publish(),e})))),"bound-anonymous-fn"):t.apply(this,arguments)}}}function f(e,t){return function(r){e.apply(this,arguments),o.wrap(this,t,h(r)),o.wrap(this,"_queryCallback",function(e){return function(t){return function(r){if(!a.hasSubscribers)return t.apply(this,arguments);const n=arguments[arguments.length-1],s=new i("bound-anonymous-fn"),o=new i("bound-anonymous-fn");return"function"!=typeof n&&(arguments.length=arguments.length+1),arguments[arguments.length-1]=s.bind((function(e){if(e&&u.publish(e),c.publish(),"function"==typeof n)return o.runInAsyncScope((()=>n.apply(this,arguments)))})),s.runInAsyncScope((()=>(a.publish({sql:r,conf:e}),t.apply(this,arguments))),"bound-anonymous-fn")}}}(r))}}function m(e){return function(){p.publish();try{return e.apply(this,arguments)}finally{l.publish()}}}const g="mariadb";s({name:g,file:"lib/cmd/query.js",versions:[">=3"]},(e=>d(e))),s({name:g,file:"lib/cmd/execute.js",versions:[">=3"]},(e=>d(e))),s({name:g,file:"lib/pool.js",versions:[">=3"]},(e=>(o.wrap(e.prototype,"_createConnection",m),e))),s({name:g,file:"lib/connection.js",versions:[">=2.5.2 <3"]},(e=>o.wrap(e,f(e,"_queryPromise")))),s({name:g,file:"lib/connection.js",versions:[">=2.0.4 <=2.5.1"]},(e=>o.wrap(e,f(e,"query")))),s({name:g,file:"lib/pool-base.js",versions:[">=2.0.4 <3"]},(e=>o.wrap(e,function(e){return function(t,r,n,s){arguments[1]=m(r),arguments[2]=m(n),e.apply(this,arguments),o.wrap(this,"query",h(t.connOptions))}}(e))))},305:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496);s({name:"memcached",versions:[">=2.2"]},(e=>{const t=n("apm:memcached:command:start"),r=n("apm:memcached:command:finish"),s=n("apm:memcached:command:error");return o.wrap(e.prototype,"command",(e=>function(n,o){if(!t.hasSubscribers)return e.apply(this,arguments);const a=new i("bound-anonymous-fn"),c=new i("bound-anonymous-fn"),u=this,p=c.bind((function(){const e=n.apply(this,arguments),i=a.bind(e.callback);return e.callback=c.bind((function(e){return e&&s.publish(e),r.publish(),i.apply(this,arguments)})),t.publish({client:u,server:o,query:e}),e}));return c.runInAsyncScope((()=>(arguments[0]=p,e.apply(this,arguments))))})),e}))},99967:(e,t,r)=>{"use strict";const n=r(7496),{addHook:s,channel:i,AsyncResource:o}=r(93915),a=i("apm:microgateway-core:request:handle"),c=i("apm:microgateway-core:request:route"),u=i("apm:microgateway-core:request:error"),p="microgateway-core",l=[">=2.1"],d=new WeakMap;s({name:p,versions:l,file:"lib/config-proxy-middleware.js"},(e=>n.wrap(e,function(e){return function(){const t=e.apply(this,arguments);return function(e,r,n){const s=new o("bound-anonymous-fn");return d.set(e,s),a.publish({req:e,res:r}),t.apply(this,arguments)}}}(e)))),s({name:p,versions:l,file:"lib/plugins-middleware.js"},(e=>n.wrap(e,function(e){return function(t){const r=e.apply(this,arguments);return function(e,t,n){return arguments[2]=function(e,t,r){return function(n){return d.get(e).runInAsyncScope((()=>{n&&u.publish(n),t.proxy&&t.proxy.base_path&&c.publish({req:e,res:t,route:t.proxy.base_path})})),r.apply(this,arguments)}}(e,t,n),r.apply(this,arguments)}}}(e))))},80411:(e,t,r)=>{const{createCoverageMap:n}=r(37646),{addHook:s,channel:i,AsyncResource:o}=r(93915),a=r(7496),c=r(63178),{getCoveredFilenamesFromCoverage:u,resetCoverage:p,mergeCoverage:l,getTestSuitePath:d,fromCoverageMapToCoverage:h,getTestLineStart:f}=r(90186),m=i("ci:mocha:test:start"),g=i("ci:mocha:test:error"),_=i("ci:mocha:test:skip"),y=i("ci:mocha:test:finish"),b=i("ci:mocha:test:parameterize"),v=i("ci:mocha:itr-configuration"),E=i("ci:mocha:test-suite:skippable"),S=i("ci:mocha:session:start"),T=i("ci:mocha:session:finish"),w=i("ci:mocha:test-suite:start"),I=i("ci:mocha:test-suite:finish"),x=i("ci:mocha:test-suite:error"),k=i("ci:mocha:test-suite:code-coverage"),O=new WeakSet,A=new WeakMap,N=new WeakMap,R=new Map,C=new WeakMap;let L=!1;const D=n();let M,P=[];function j(e){return e.isPending()?"skip":e.isFailed()||e.timedOut?"fail":"pass"}function q(e){if(!e.fn)return A.get(e);if(!e.fn.asyncResource)return A.get(e.fn);const t=N.get(e.fn);return A.get(t)}s({name:"mocha",versions:[">=5.2.0"],file:"lib/mocha.js"},((e,t)=>{M=t;const r=new o("bound-anonymous-fn");return a.wrap(e.prototype,"run",(e=>function(){if(this.options.parallel)return c.warn("Unable to initialize CI Visibility because Mocha is running in parallel mode."),e.apply(this,arguments);if(!v.hasSubscribers||this.isWorker)return this.isWorker&&(L=!0),e.apply(this,arguments);this.options.delay=!0;const t=e.apply(this,arguments),n=({err:e,skippableSuites:r})=>{P=e?[]:r,t.suite.suites=t.suite.suites.filter((e=>!P.includes(d(e.file,process.cwd())))),global.run()},s=({err:e})=>e?global.run():E.hasSubscribers?void E.publish({onDone:r.bind(n)}):global.run();return r.runInAsyncScope((()=>{v.publish({onDone:r.bind(s)})})),t})),e})),s({name:"mocha",versions:[">=5.2.0"],file:"lib/suite.js"},(e=>(a.wrap(e.prototype,"addTest",(e=>function(t){const r=f(new Error,t.file);return C.set(t,r),e.apply(this,arguments)})),e))),s({name:"mocha",versions:[">=5.2.0"],file:"lib/runner.js"},(function(e){return O.has(e)||(O.add(e),a.wrap(e.prototype,"run",(e=>function(){if(!m.hasSubscribers||L)return e.apply(this,arguments);const{suitesByTestFile:t,numSuitesByTestFile:r}=function(e){const t={};!function e(r){r.file&&(t[r.file]?t[r.file].push(r):t[r.file]=[r]),r.suites.forEach((t=>{e(t)}))}(e);const r=Object.keys(t).reduce(((e,r)=>(e[r]=t[r].length,e)),{});return{suitesByTestFile:t,numSuitesByTestFile:r}}(this.suite),n=new o("bound-anonymous-fn");return this.once("end",n.bind((function(){let e="pass";this.stats?e=0===this.stats.failures?"pass":"fail":0!==this.failures&&(e="fail"),R.clear();const t=!!P.length;let r;if(global.__coverage__){try{r=D.getCoverageSummary().lines.pct}catch(e){}global.__coverage__=h(D)}T.publish({status:e,isSuitesSkipped:t,testCodeCoverageLinesTotal:r})}))),this.once("start",n.bind((function(){const e=`mocha ${process.argv.slice(2).join(" ")}`;S.publish({command:e,frameworkVersion:M})}))),this.on("suite",(function(e){if(e.root||!e.tests.length)return;let t=R.get(e.file);t||(t=new o("bound-anonymous-fn"),R.set(e.file,t),t.runInAsyncScope((()=>{w.publish(e)})))})),this.on("suite end",(function(e){if(e.root)return;const n=t[e.file];if(0!=--r[e.file])return;let s="pass";if(n.every((e=>e.pending))?s="skip":n.forEach((e=>{e.eachTest((e=>{("failed"===e.state||e.timedOut)&&(s="fail")}))})),global.__coverage__){const t=u(global.__coverage__);k.publish({coverageFiles:t,suiteFile:e.file}),l(global.__coverage__,D),p(global.__coverage__)}R.get(e.file).runInAsyncScope((()=>{I.publish(s)}))})),this.on("test",(e=>{if(function(e){return void 0!==e._currentRetry&&0!==e._currentRetry}(e))return;const t=C.get(e),r=new o("bound-anonymous-fn");A.set(e.fn,r),r.runInAsyncScope((()=>{m.publish({test:e,testStartLine:t})}))})),this.on("test end",(e=>{const t=q(e),r=j(e);t&&!e.parent._afterEach.length&&t.runInAsyncScope((()=>{y.publish(r)}))})),this.on("hook end",(e=>{const t=e.ctx.currentTest;if(t&&e.parent._afterEach.includes(e)&&e.parent._afterEach.indexOf(e)===e.parent._afterEach.length-1){const e=j(t);q(t).runInAsyncScope((()=>{y.publish(e)}))}})),this.on("fail",((e,t)=>{const r=e.file;let n=e;const s="hook"===e.type;let i;s&&e.ctx&&(n=e.ctx.currentTest),n&&(i=q(n)),i&&i.runInAsyncScope((()=>{s?(t.message=`${e.fullTitle()}: ${t.message}`,g.publish(t),y.publish("fail")):g.publish(t)}));const o=R.get(r);if(o){const r=new Error(`"${e.parent.fullTitle()}" failed with message "${t.message}"`);r.stack=t.stack,o.runInAsyncScope((()=>{x.publish(r)}))}})),this.on("pending",(e=>{const t=q(e);if(t)t.runInAsyncScope((()=>{_.publish(e)}));else{const t=new o("bound-anonymous-fn");e.fn?A.set(e.fn,t):A.set(e,t),t.runInAsyncScope((()=>{_.publish(e)}))}})),e.apply(this,arguments)}))),e})),s({name:"mocha",versions:[">=5.2.0"],file:"lib/cli/run-helpers.js"},(e=>(a.wrap(e,"runMocha",(e=>async function(){const t=arguments[0];return t.options.parallel||(t.options.delay=!0),e.apply(this,arguments)})),e))),s({name:"mocha",versions:[">=5.2.0"],file:"lib/runnable.js"},(e=>(a.wrap(e.prototype,"run",(e=>function(){if(!m.hasSubscribers)return e.apply(this,arguments);const t=this.parent._beforeEach.includes(this),r=this.parent._afterEach.includes(this),n=t||r;if(this.fn.asyncResource){const e=N.get(this.fn);this.fn=e}if(n||"test"===this.type){const e=q(n?this.ctx.currentTest:this);if(e){const t=e.bind(this.fn);N.set(t,this.fn),this.fn=t,this.fn.asyncResource||(this.fn.asyncResource=e)}}return e.apply(this,arguments)})),e))),s({name:"mocha-each",versions:[">=2.0.1"]},(function(e){return O.has(e)?e:(O.add(e),a.wrap(e,(function(){const[t]=arguments,{it:r,...n}=e.apply(this,arguments);return{it:function(e){b.publish({name:e,params:t}),r.apply(this,arguments)},...n}})))}))},81897:(e,t,r)=>{"use strict";r(55891),r(42031)},55891:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=n("apm:moleculer:call:start"),c=n("apm:moleculer:call:finish"),u=n("apm:moleculer:call:error");function p(e){return function(t,r,n){const s=new i("bound-anonymous-fn");return(n=arguments[2]=n||{}).meta=n.meta||{},arguments.length=Math.max(3,arguments.length),s.runInAsyncScope((()=>{a.publish({actionName:t,params:r,opts:n});const s=e.apply(this,arguments),i=this,o=s.ctx;return s.then((e=>(c.publish({broker:i,ctx:o}),e)),(e=>{throw u.publish(e),c.publish({broker:i,ctx:o}),e}))}))}}s({name:"moleculer",versions:[">=0.14"]},(e=>(o.wrap(e.ServiceBroker.prototype,"call",p),e)))},42031:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=n("apm:moleculer:action:start"),c=n("apm:moleculer:action:finish"),u=n("apm:moleculer:action:error");function p(e){return function(t){return this.middlewares&&this.middlewares.add&&this.middlewares.add({name:"Datadog",localAction(e,t){const r=this;return function(n){return new i("bound-anonymous-fn").runInAsyncScope((()=>{a.publish({action:t,ctx:n,broker:r});try{return e(n).then((e=>(c.publish(),e)),(e=>{throw u.publish(e),c.publish(),e}))}catch(e){u.publish(e),c.publish()}}))}}}),e.apply(this,arguments)}}s({name:"moleculer",versions:[">=0.14"]},(e=>(o.wrap(e.ServiceBroker.prototype,"registerMiddlewares",p),e)))},28471:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=n("apm:mongodb:query:start"),c=n("apm:mongodb:query:finish"),u=n("apm:mongodb:query:error");function p(e){return o.wrap(e,"command",(e=>l(e,"command"))),o.wrap(e,"insert",(e=>l(e,"insert","insert"))),o.wrap(e,"update",(e=>l(e,"update","update"))),o.wrap(e,"remove",(e=>l(e,"remove","remove"))),o.wrap(e,"query",(e=>l(e,"query"))),o.wrap(e,"getMore",(e=>l(e,"getMore","getMore"))),o.wrap(e,"killCursors",(e=>l(e,"killCursors","killCursors"))),e}function l(e,t,r){return o.wrap(e,(function(t,n,s){return a.hasSubscribers?m(0,e,this,arguments,t,n,s,{name:r}):e.apply(this,arguments)}))}function d(e,t,r){return o.wrap(e,(function(t,n){if(!a.hasSubscribers)return e.apply(this,arguments);const s="string"==typeof this.address?this.address.split(":"):"",i={s:{options:2===s.length?{host:s[0],port:s[1]}:{}}};return t=`${t.db}.${t.collection}`,m(0,e,this,arguments,i,t,n,{name:r})}))}function h(e,t,r){return o.wrap(e,(function(){if(!a.hasSubscribers)return e.apply(this,arguments);const t=this.server.s.pool,n=this.ns;return m(0,e,this,arguments,t,n,{},{name:r})}))}function f(e,t,r){return o.wrap(e,(function(t,n){return a.hasSubscribers?m(0,e,this,arguments,this,t,n,{name:r}):e.apply(this,arguments)}))}function m(e,t,r,n,s,o,p,l={}){const d=l.name||p&&Object.keys(p)[0],h=n.length-1;let f=n[h];if("function"!=typeof f)return t.apply(r,n);const m=s&&s.s&&s.s.options,g=new i("bound-anonymous-fn"),_=new i("bound-anonymous-fn");return f=g.bind(f),_.runInAsyncScope((()=>{a.publish({ns:o,ops:p,options:m,name:d}),n[h]=_.bind((function(e,t){if(e&&u.publish(e),c.publish(),f)return f.apply(this,arguments)}));try{return t.apply(r,n)}catch(e){throw u.publish(e),e}}))}s({name:"mongodb-core",versions:["2 - 3.1.9"]},(e=>{const t=e.Server.prototype;o.wrap(t,"command",(e=>f(e))),o.wrap(t,"insert",(e=>f(e,0,"insert"))),o.wrap(t,"update",(e=>f(e,0,"update"))),o.wrap(t,"remove",(e=>f(e,0,"remove")));const r=e.Cursor.prototype;return o.wrap(r,"_getmore",(e=>h(e,0,"getMore"))),o.wrap(r,"_find",(e=>{return t=e,o.wrap(t,(function(){if(!a.hasSubscribers)return t.apply(this,arguments);const e=this.server.s.pool,r=this.ns,n=this.cmd;return m(0,t,this,arguments,e,r,n)}));var t})),o.wrap(r,"kill",(e=>h(e,0,"killCursors"))),e})),s({name:"mongodb",versions:[">=4 <4.6.0"],file:"lib/cmap/connection.js"},(e=>{const t=e.Connection.prototype;return o.wrap(t,"command",(e=>d(e))),o.wrap(t,"query",(e=>d(e))),e})),s({name:"mongodb",versions:[">=4.6.0"],file:"lib/cmap/connection.js"},(e=>{const t=e.Connection.prototype;return o.wrap(t,"command",(e=>d(e))),e})),s({name:"mongodb",versions:[">=3.3 <4"],file:"lib/core/wireprotocol/index.js"},(e=>p(e))),s({name:"mongodb-core",versions:[">=3.2"],file:"lib/wireprotocol/index.js"},(e=>p(e))),s({name:"mongodb-core",versions:["~3.1.10"],file:"lib/wireprotocol/3_2_support.js"},(e=>(o.wrap(e.prototype,"command",(e=>l(e))),e))),s({name:"mongodb-core",versions:["~3.1.10"],file:"lib/wireprotocol/2_6_support.js"},(e=>(o.wrap(e.prototype,"command",(e=>l(e))),e))),s({name:"mongodb",versions:[">=3.5.4 <4.11.0"],file:"lib/utils.js"},(e=>(o.wrap(e,"maybePromise",(e=>function(t,r,n){const s=new i("bound-anonymous-fn"),o=arguments.length-2;return"function"==typeof(r=arguments[o])&&(arguments[o]=s.bind(r)),e.apply(this,arguments)})),e)))},73502:(e,t,r)=>{"use strict";const{addHook:n}=r(93915),{wrapThen:s}=r(91273),{AsyncResource:i}=r(93915),o=r(7496);function a(e){return function(t){return"function"==typeof t?arguments[0]=i.bind(t):"function"==typeof this[t]&&(arguments[0]=i.bind(((...e)=>this[t](...e)))),e.apply(this,arguments)}}n({name:"mongoose",versions:[">=4.6.4 <5","5","6",">=7"]},(e=>(e.Promise!==global.Promise&&o.wrap(e.Promise.prototype,"then",s),o.wrap(e.Collection.prototype,"addQueue",a),e)))},48072:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496);s({name:"mysql",file:"lib/Connection.js",versions:[">=2"]},(e=>{const t=n("apm:mysql:query:start"),r=n("apm:mysql:query:finish"),s=n("apm:mysql:query:error");return o.wrap(e.prototype,"query",(e=>function(){if(!t.hasSubscribers)return e.apply(this,arguments);const n={sql:arguments[0].sql?arguments[0].sql:arguments[0],conf:this.config},o=new i("bound-anonymous-fn"),a=new i("bound-anonymous-fn");return a.runInAsyncScope((()=>{t.publish(n),arguments[0].sql?arguments[0].sql=n.sql:arguments[0]=n.sql;try{const t=e.apply(this,arguments);if(t._callback){const e=o.bind(t._callback);t._callback=a.bind((function(t,n){return t&&s.publish(t),r.publish(n),e.apply(this,arguments)}))}else{const e=a.bind((function(){r.publish(void 0)}));t.on("end",e)}return t}catch(e){throw e.stack,s.publish(e),e}}))})),e})),s({name:"mysql",file:"lib/Pool.js",versions:[">=2"]},(e=>(o.wrap(e.prototype,"getConnection",(e=>function(t){return arguments[0]=i.bind(t),e.apply(this,arguments)})),e)))},4205:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496);s({name:"mysql2",file:"lib/connection.js",versions:[">=1"]},(e=>{const t=n("apm:mysql2:query:start"),r=n("apm:mysql2:query:finish"),s=n("apm:mysql2:query:error");return o.wrap(e.prototype,"addCommand",(e=>function(n){if(!t.hasSubscribers)return e.apply(this,arguments);const o=new i("bound-anonymous-fn"),a=n&&n.constructor&&n.constructor.name,c="function"==typeof n.execute&&("Execute"===a||"Query"===a);return n.execute=c?function(e,n,o,a){const c=new i("bound-anonymous-fn");return o.bind((function(i,u){const p={sql:e.statement?e.statement.query:e.sql,conf:a};if(t.publish(p),e.statement?e.statement.query=p.sql:e.sql=p.sql,this.onResult){const e=c.bind(this.onResult);this.onResult=o.bind((function(t){t&&s.publish(t),r.publish(void 0),e.apply(this,arguments)}),"bound-anonymous-fn",this)}else this.on("error",o.bind((e=>s.publish(e)))),this.on("end",o.bind((()=>r.publish(void 0))));this.execute=n;try{return n.apply(this,arguments)}catch(e){s.publish(e)}}),e)}(n,n.execute,o,this.config):function(e,t,r){return r.bind((function(e,n){return this.onResult&&(this.onResult=r.bind(this.onResult)),t.apply(this,arguments)}),e)}(n,n.execute,o),o.bind(e,this).apply(this,arguments)})),e}))},16548:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=n("apm:net:ipc:start"),c=n("apm:net:ipc:finish"),u=n("apm:net:ipc:error"),p=n("apm:net:tcp:start"),l=n("apm:net:tcp:finish"),d=n("apm:net:tcp:error"),h=n("apm:net:tcp:connection");function f(e){if(e[0])switch(typeof e[0]){case"object":return Array.isArray(e[0])?f(e[0]):e[0];case"string":if(isNaN(parseFloat(e[0])))return{path:e[0]};case"number":return{port:e[0],host:"string"==typeof e[1]?e[1]:"localhost"}}}function m(e,t,r){const n=["connect","error","close","timeout"],s=r.bind((function(e){e&&("ipc"===t?u.publish(e):d.publish(e)),"ipc"===t?c.publish(void 0):l.publish(void 0)})),i=r.bind((function(){h.publish({socket:e})})),o=function(){e.removeListener("connect",i),n.forEach((t=>{e.removeListener(t,s),e.removeListener(t,o)}))};"tcp"===t&&e.once("connect",i),n.forEach((t=>{e.once(t,s),e.once(t,o)}))}s({name:"net"},(e=>(r(9523),o.wrap(e.Socket.prototype,"connect",(e=>function(){if(!a.hasSubscribers||!p.hasSubscribers)return e.apply(this,arguments);const t=f(arguments),r=arguments.length-1,n=arguments[r];if(!t)return e.apply(this,arguments);const s=new i("bound-anonymous-fn"),o=new i("bound-anonymous-fn");"function"==typeof n&&(arguments[r]=s.bind(n));const c=t.path?"ipc":"tcp";return o.runInAsyncScope((()=>{"ipc"===c?(a.publish({options:t}),m(this,"ipc",o)):(p.publish({options:t}),m(this,"tcp",o));const r=this.emit;this.emit=function(e){switch(e){case"ready":case"connect":return s.runInAsyncScope((()=>r.apply(this,arguments)));default:return r.apply(this,arguments)}};try{return e.apply(this,arguments)}catch(e){throw"ipc"===c?u.publish(e):d.publish(e),e}}))})),e)))},65117:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=n("apm:next:request:start"),c=n("apm:next:request:finish"),u=n("apm:next:request:error"),p=n("apm:next:page:load"),l=new WeakMap;function d(e){return function(t,r,n,s){return E(t,r,(()=>e.apply(this,arguments)))}}function h(e){return function(t,r,n,s){return E(t,r,(()=>e.apply(this,arguments).then((e=>e?this.hasPage(n).then((t=>{const r=t?n:function(e,t=[]){for(const r of t)if(r.page.startsWith("/api")&&r.match(e))return v(r.page);return v(e)}(n,this.dynamicRoutes);return p.publish({page:r}),e})):e))))}}function f(e){return function(t,r,n,s){return E(t,r,(()=>{const t="object"==typeof s&&"object"==typeof s.definition?s.definition.pathname:void 0;return p.publish({page:t}),e.apply(this,arguments)}))}}function m(e){return function(t){return E(t.req,t.res,(()=>e.apply(this,arguments)))}}function g(e){return function(t){return E(t.req,t.res,(()=>e.apply(this,arguments)))}}function _(e){return function(t,r,n,s,i){return E(t,r,(()=>e.apply(this,arguments)))}}function y(e){return function(t,r,n,s,i){return E(r,n,(()=>e.apply(this,arguments)))}}function b(e){return function(t,r){const n=e.apply(this,arguments);return n&&p.publish({page:v(t)}),n}}function v(e){return"object"==typeof e?e.pathname:e}function E(e,t,r){if(l.has(e))return r();const n=new i("bound-anonymous-fn");return l.set(e,n),n.runInAsyncScope((()=>{a.publish({req:e,res:t});try{return r().then((r=>S(e,t,r)),(r=>S(e,t,null,r)))}catch(r){return S(e,t,null,r)}}))}function S(e,t,r,n){if(n&&u.publish(n),c.publish({req:e,res:t}),n)throw n;return r}s({name:"next",versions:[">=13.2"],file:"dist/server/next-server.js"},(e=>{const t=e.default;return o.wrap(t.prototype,"handleRequest",d),o.wrap(t.prototype,"handleApiRequest",f),o.wrap(t.prototype,"renderToResponse",m),o.wrap(t.prototype,"renderErrorToResponse",g),o.wrap(t.prototype,"findPageComponents",b),e})),s({name:"next",versions:[">=11.1 <13.2"],file:"dist/server/next-server.js"},(e=>{const t=e.default;return o.wrap(t.prototype,"handleRequest",d),o.wrap(t.prototype,"handleApiRequest",h),o.wrap(t.prototype,"renderToResponse",m),o.wrap(t.prototype,"renderErrorToResponse",g),o.wrap(t.prototype,"findPageComponents",b),e})),s({name:"next",versions:[">=9.5 <11.1"],file:"dist/next-server/server/next-server.js"},(e=>{const t=e.default;return o.wrap(t.prototype,"handleRequest",d),o.wrap(t.prototype,"handleApiRequest",h),o.wrap(t.prototype,"renderToHTML",_),o.wrap(t.prototype,"renderErrorToHTML",y),o.wrap(t.prototype,"findPageComponents",b),e}))},75177:(e,t,r)=>{"use strict";const{addHook:n}=r(93915),s=r(7496),{createWrapRequest:i}=r(88672);n({name:"@opensearch-project/opensearch",file:"lib/Transport.js",versions:[">=1"]},(e=>(s.wrap(e.prototype,"request",i("opensearch")),e)))},57807:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=new WeakMap,c=new WeakMap,u=n("apm:oracledb:query:start"),p=n("apm:oracledb:query:error"),l=n("apm:oracledb:query:finish");function d(e){e&&p.publish(e),l.publish(void 0)}s({name:"oracledb",versions:["5"]},(e=>(o.wrap(e.Connection.prototype,"execute",(e=>function(t,...r){if(!u.hasSubscribers)return e.apply(this,arguments);if(arguments.length&&"function"==typeof arguments[arguments.length-1]){const e=arguments[arguments.length-1],t=new i("apm:oracledb:outer-scope");arguments[arguments.length-1]=function(r,n){return d(r),t.runInAsyncScope((()=>e.apply(this,arguments)))}}return new i("apm:oracledb:inner-scope").runInAsyncScope((()=>{const r=a.get(this);u.publish({query:t,connAttrs:r});try{let t=e.apply(this,arguments);return t&&"function"==typeof t.then&&(t=t.then((e=>(d(),e)),(e=>{throw d(e),e}))),t}catch(e){throw p.publish(e),e}}))})),o.wrap(e,"getConnection",(e=>function(t,r){if(!r)return e.apply(this,arguments).then((e=>(a.set(e,t),e)));arguments[1]=(e,n)=>{n&&a.set(n,t),r(e,n)},e.apply(this,arguments)})),o.wrap(e,"createPool",(e=>function(t,r){if(!r)return e.apply(this,arguments).then((e=>(c.set(e,t),e)));arguments[1]=(e,n)=>{n&&c.set(n,t),r(e,n)},e.apply(this,arguments)})),o.wrap(e.Pool.prototype,"getConnection",(e=>function(){let t;if("function"==typeof arguments[arguments.length-1]&&(t=arguments[arguments.length-1]),!t)return e.apply(this,arguments).then((e=>(a.set(e,c.get(this)),e)));arguments[arguments.length-1]=(e,r)=>{r&&a.set(r,c.get(this)),t(e,r)},e.apply(this,arguments)})),e)))},87788:(e,t,r)=>{"use strict";const{addHook:n,channel:s}=r(93915),i=r(7496),o=s("apm:paperplane:log"),a=s("apm:paperplane:request:handle"),c=s("apm:paperplane:request:route"),u=Number(process.versions.node.split(".")[0]),p="paperplane",l=u<=12?[">=2.3.2"]:u<=14?[">=3.1.1"]:[],d=e=>t=>{const{original:r,route:n}=t;return c.hasSubscribers&&c.publish({req:r,route:n}),e(t)},h=e=>t=>{const r={message:t};return o.publish(r),e(r.message)},f=e=>t=>{const r=e(t);return function(e,t){return a.publish(e),r.apply(this,arguments)}},m=e=>t=>{const r={};for(const e in t)r[e]=d(t[e]);return e(r)};n({name:p,versions:l,file:"lib/logger.js"},(e=>(i.wrap(e,"logger",h),e))),n({name:p,versions:l,file:"lib/mount.js"},(e=>(i.wrap(e,"mount",f),e))),n({name:p,versions:l,file:"lib/routes.js"},(e=>(i.wrap(e,"routes",m),e))),u<=12&&n({name:p,versions:["2.3.0 - 2.3.1"]},(e=>(i.wrap(e,"mount",f),i.wrap(e,"routes",m),e)))},11772:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=n("apm:pg:query:start"),c=n("apm:pg:query:finish"),u=n("apm:pg:query:error");function p(e){return function(){if(!a.hasSubscribers)return e.apply(this,arguments);const t=new i("bound-anonymous-fn"),r=new i("bound-anonymous-fn"),n=this.processID;let s={text:arguments[0]};return r.runInAsyncScope((()=>{a.publish({params:this.connectionParameters,query:s,processId:n}),arguments[0]=s.text;const i=r.bind((function(e){e&&u.publish(e),c.publish()})),o=e.apply(this,arguments),p=this.queryQueue||this._queryQueue,l=this.activeQuery||this._activeQuery;if(s=p[p.length-1]||l,!s)return o;if(s.callback){const e=t.bind(s.callback);s.callback=function(t,r){return i(t),e.apply(this,arguments)}}else s.once?s.once("error",i).once("end",(()=>i())):s.then((()=>i()),i);try{return o}catch(e){u.publish(e)}}))}}s({name:"pg",versions:[">=8.0.3"]},(e=>(o.wrap(e.Client.prototype,"query",(e=>p(e))),e))),s({name:"pg",file:"lib/native/index.js",versions:[">=8.0.3"]},(e=>(o.wrap(e.prototype,"query",(e=>p(e))),e)))},79113:(e,t,r)=>{"use strict";const{channel:n,addHook:s}=r(93915),i=r(7496);function o(e,t,r){return function(){const n=r.apply(this,arguments);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,writable:!0,value:t(n[e])}),n}}function a(e){const t=n("apm:pino:log");return function(r,n,s,i){const o={message:r=arguments[0]=r||{}};return t.publish(o),arguments[0]=o.message,e.apply(this,arguments)}}function c(e){const t=n("apm:pino:log");return function(){let r={};e&&(r=e.apply(this,arguments));const n={message:r};return t.publish(n),n.message}}function u(e){const t=n("apm:pino:log");return function(r){const n={message:r.input};return t.publish(n),r.input=n.message,e.apply(this,arguments)}}s({name:"pino",versions:["2 - 3","4",">=5 <5.14.0"]},(e=>{const t=e.symbols&&e.symbols.asJsonSym||"asJson";return i.wrap(e,o(t,a,e))})),s({name:"pino",versions:[">=5.14.0 <6.8.0"]},(e=>{const t=e.symbols.mixinSym;return i.wrap(e,o(t,c,e))})),s({name:"pino",versions:[">=6.8.0"]},(e=>{const t=e.symbols.mixinSym,r=i.wrap(e,o(t,c,e));return r.pino=r,r.default=r,r})),s({name:"pino-pretty",file:"lib/utils.js",versions:[">=3"]},(e=>(i.wrap(e,"prettifyObject",u),e))),s({name:"pino-pretty",versions:["1 - 2"]},(e=>i.wrap(e,function(e){const t=n("apm:pino:log");return function(){const r=e.apply(this,arguments);return function(e){const n={message:e};return t.publish(n),arguments[0]=n.message,r.apply(this,arguments)}}}(e))))},63500:(e,t,r)=>{const{addHook:n,channel:s,AsyncResource:i}=r(93915),o=r(7496),a=s("ci:playwright:test:start"),c=s("ci:playwright:test:finish"),u=s("ci:playwright:session:start"),p=s("ci:playwright:session:finish"),l=s("ci:playwright:test-suite:start"),d=s("ci:playwright:test-suite:finish"),h=new WeakMap,f=new Map,m=new Map;let g=[];const _={passed:"pass",failed:"fail",timedOut:"fail",skipped:"skip"};let y={};function b(e){const{_requireFile:t,title:r,_type:n,location:{line:s}}=e;if("beforeAll"===n||"afterAll"===n)return;if(!g.includes(t)){g.push(t);const e=new i("bound-anonymous-fn");f.set(t,e),e.runInAsyncScope((()=>{l.publish(t)}))}const o=new i("bound-anonymous-fn");h.set(e,o),o.runInAsyncScope((()=>{a.publish({testName:r,testSuiteAbsolutePath:t,testSourceLine:s})}))}function v(e,t,r){const{_requireFile:n,results:s,_type:i}=e;if("beforeAll"===i||"afterAll"===i)return;const o=s[s.length-1];if(h.get(e).runInAsyncScope((()=>{c.publish({testStatus:t,steps:o.steps,error:r})})),m.has(n)?m.get(n).push(t):m.set(n,[t]),y[n]=y[n].filter((t=>t!==e)),!y[n].length){const e=m.get(n);let t="pass";e.some((e=>"fail"===e))?t="fail":e.every((e=>"skip"===e))&&(t="skip"),f.get(n).runInAsyncScope((()=>{d.publish(t)}))}}function E(e){return function(){return y=function(e){const t={};for(const{test:r}of e.values()){const{_requireFile:e}=r;"beforeAll"!==r._type&&"afterAll"!==r._type&&(t[e]?t[e].push(r):t[e]=[r])}return t}(this._testById),e.apply(this,arguments)}}function S(e){return function(){return y=arguments[0].reduce(((e,{requireFile:t,tests:r})=>(e[t]?e[t]=e[t].concat(r):e[t]=r,e)),{}),e.apply(this,arguments)}}function T(e,t){return o.wrap(e.Dispatcher.prototype,"run",t),o.wrap(e.Dispatcher.prototype,"_createWorker",(e=>function(){const t=this,r=e.apply(this,arguments);return r.on("testBegin",(({testId:e})=>{const{test:r}=t._testById.get(e);b(r)})),r.on("testEnd",(({testId:e,status:r,errors:n})=>{const{test:s}=t._testById.get(e);v(s,_[r],n&&n[0])})),r})),e}function w(e,t){return o.wrap(e.Runner.prototype,"runAllTests",(e=>async function(){const r=new i("bound-anonymous-fn"),n=function(e){const t=function(e){try{return e._configLoader.fullConfig()}catch(t){try{return e._loader.fullConfig()}catch(t){return e._config||{}}}}(e);return t.rootDir?t.rootDir:e._configDir?e._configDir:process.cwd()}(this),s=`playwright ${process.argv.slice(2).join(" ")}`;r.runInAsyncScope((()=>{u.publish({command:s,frameworkVersion:t,rootDir:n})}));const o=await e.apply(this,arguments),a=o.status||o;let c;const l=new Promise((e=>{c=e}));return r.runInAsyncScope((()=>{p.publish({status:_[a],onDone:c})})),await l,g=[],y={},o})),e}n({name:"@playwright/test",file:"lib/runner.js",versions:[">=1.18.0 <1.30.0"]},w),n({name:"@playwright/test",file:"lib/dispatcher.js",versions:[">=1.18.0  <1.30.0"]},(function(e){return o.wrap(e.Dispatcher.prototype,"run",E),o.wrap(e.Dispatcher.prototype,"_createWorker",(e=>function(){const t=this,r=e.apply(this,arguments);return r.process.on("message",(({method:e,params:r})=>{if("testBegin"===e){const{test:e}=t._testById.get(r.testId);b(e)}else if("testEnd"===e){const{test:e}=t._testById.get(r.testId),{results:n}=e,s=n[n.length-1];v(e,_[s.status],s.error)}})),r})),e})),n({name:"@playwright/test",file:"lib/dispatcher.js",versions:[">=1.30.0 <1.31.0"]},(e=>T(e,E))),n({name:"@playwright/test",file:"lib/runner/dispatcher.js",versions:[">=1.31.0"]},(e=>T(e,S))),n({name:"@playwright/test",file:"lib/runner/runner.js",versions:[">=1.31.0"]},w)},7466:(e,t,r)=>{"use strict";const{addHook:n}=r(93915),{wrapThen:s}=r(91273),i=r(7496);n({name:"promise-js",versions:[">=0.0.3"]},(e=>(e!==global.Promise&&i.wrap(e.prototype,"then",s),e)))},35103:(e,t,r)=>{"use strict";const{addHook:n}=r(93915),{wrapThen:s}=r(91273),i=r(7496);n({name:"promise",file:"lib/core.js",versions:[">=7"]},(e=>(i.wrap(e.prototype,"then",s),e)))},25443:(e,t,r)=>{"use strict";const{addHook:n}=r(93915),{wrapThen:s}=r(91273),i=r(7496);n({name:"q",versions:["1"]},(e=>(i.wrap(e.makePromise.prototype,"then",s),e))),n({name:"q",versions:[">=2"]},(e=>(i.wrap(e.Promise.prototype,"then",s),e)))},83218:(e,t,r)=>{"use strict";const{addHook:n,channel:s}=r(93915),i=r(7496),o=s("datadog:qs:parse:finish");function a(e){return function(){const t=e.apply(this,arguments);return o.hasSubscribers&&t&&o.publish({qs:t}),t}}n({name:"qs",versions:[">=1"]},(e=>(i.wrap(e,"parse",a),e)))},78749:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=n("apm:redis:command:start"),c=n("apm:redis:command:finish"),u=n("apm:redis:command:error");function p(e){return function(t){if(!a.hasSubscribers)return e.apply(this,arguments);const r=t[0],n=t.slice(1),s=new i("bound-anonymous-fn");return s.runInAsyncScope((()=>{l(this,r,n);const t=e.apply(this,arguments),i=s.bind((()=>h(c,u))),o=s.bind((e=>h(c,u,e)));return t.then(i,o),t}))}}function l(e,t,r){const n=e.selected_db,s=e.connection_options||e.connection_option||e.connectionOption||{};a.publish({db:n,command:t,args:r,connectionOptions:s})}function d(e,t,r){return function(n){if(h(e,t,n),r)return r.apply(this,arguments)}}function h(e,t,r){r&&t.publish(r),e.publish()}s({name:"@redis/client",file:"dist/lib/client/commands-queue.js",versions:[">=1.1"]},(e=>(o.wrap(e.default.prototype,"addCommand",p),e))),s({name:"@node-redis/client",file:"dist/lib/client/commands-queue.js",versions:[">=1"]},(e=>(o.wrap(e.default.prototype,"addCommand",p),e))),s({name:"redis",versions:[">=2.6 <4"]},(e=>(o.wrap(e.RedisClient.prototype,"internal_send_command",(e=>function(t){if(!a.hasSubscribers)return e.apply(this,arguments);if(!t.callback)return e.apply(this,arguments);const r=new i("bound-anonymous-fn"),n=new i("bound-anonymous-fn"),s=r.bind(t.callback);return n.runInAsyncScope((()=>{l(this,t.command,t.args),t.callback=n.bind(d(c,u,s));try{return e.apply(this,arguments)}catch(e){throw u.publish(e),e}}))})),e))),s({name:"redis",versions:[">=0.12 <2.6"]},(e=>(o.wrap(e.RedisClient.prototype,"send_command",(e=>function(t,r,n){if(!a.hasSubscribers)return e.apply(this,arguments);const s=new i("bound-anonymous-fn"),o=new i("bound-anonymous-fn");return o.runInAsyncScope((()=>{if(l(this,t,r),"function"==typeof n){const e=s.bind(n);arguments[2]=o.bind(d(c,u,e))}else if(Array.isArray(r)&&"function"==typeof r[r.length-1]){const e=s.bind(r[r.length-1]);r[r.length-1]=o.bind(d(c,u,e))}else arguments[2]=o.bind(d(c,u));try{return e.apply(this,arguments)}catch(e){throw u.publish(e),e}}))})),e)))},15158:(e,t,r)=>{"use strict";const n=r(7496),{addHook:s,channel:i}=r(93915),o=["use","pre"],a=["del","get","head","opts","post","put","patch"],c=i("apm:restify:request:handle"),u=i("apm:restify:middleware:error"),p=i("apm:restify:middleware:enter"),l=i("apm:restify:middleware:exit"),d=i("apm:restify:middleware:finish"),h=i("apm:restify:middleware:next");function f(e){return function(t,r){return c.publish({req:t,res:r}),e.apply(this,arguments)}}function m(e){return function(t){const r=_(Array.prototype.slice.call(arguments,1));return e.apply(this,[t].concat(r))}}function g(e){return function(){return e.apply(this,_(arguments))}}function _(e){return Array.prototype.map.call(e,y)}function y(e){return Array.isArray(e)?_(e):function(t,r,n){"function"==typeof n&&(arguments[2]=function(e,t){return function(){h.publish({req:e}),d.publish({req:e}),t.apply(this,arguments)}}(t,n));const s=t.route&&t.route.path;p.publish({req:t,route:s});try{return e.apply(this,arguments)}catch(e){throw u.publish({req:t,error:e}),h.publish({req:t}),d.publish({req:t}),e}finally{l.publish({req:t})}}}s({name:"restify",versions:[">=3"],file:"lib/server.js"},(e=>(n.wrap(e.prototype,"_setupRequest",f),n.massWrap(e.prototype,o,g),n.massWrap(e.prototype,a,m),e)))},96402:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a=Symbol("circularBufferConstructor"),c=Symbol("inFlightDeliveries"),u=new WeakSet,p=n("apm:rhea:send:start"),l=n("apm:rhea:send:encode"),d=n("apm:rhea:send:error"),h=n("apm:rhea:send:finish"),f=n("apm:rhea:receive:start"),m=n("apm:rhea:receive:dispatch"),g=n("apm:rhea:receive:error"),_=n("apm:rhea:receive:finish"),y=new WeakMap;function b(e){return e.connection&&e.session&&e.session.outgoing}function v(e,t){let r=e[c];r||(r=new Set,e[c]=r),r.add(t)}function E(e,t){const r=y.get(e);r&&(t&&m.publish({state:t}),r.connection&&r.connection[c]&&r.connection[c].delete(e))}s({name:"rhea",versions:[">=1"]},(e=>(o.wrap(e.message,"encode",(e=>function(t){return l.publish(t),e.apply(this,arguments)})),e))),s({name:"rhea",versions:[">=1"],file:"lib/link.js"},(e=>{const t=e.Sender,r=e.Receiver;return o.wrap(t.prototype,"send",(e=>function(t,r,n){if(!b(this))return e.apply(this,arguments);const{host:s,port:o}=function(e){let t,r;return e&&e.options&&(t=e.options.host,r=e.options.port),{host:t,port:r}}(this.connection),a=this.options&&this.options.target&&this.options.target.address?this.options.target.address:void 0,c=new i("bound-anonymous-fn");return c.runInAsyncScope((()=>{p.publish({targetAddress:a,host:s,port:o,msg:t});const r=e.apply(this,arguments),n={asyncResource:c};y.set(r,n),v(this.connection,r);try{return r}catch(e){throw d.publish(e),e}}))})),o.wrap(r.prototype,"dispatch",(e=>function(t,r){if(!b(this))return e.apply(this,arguments);if("message"===t&&r){const t=new i("bound-anonymous-fn");return t.runInAsyncScope((()=>{if(f.publish({msgObj:r,connection:this.connection}),r.delivery){const e={asyncResource:t};y.set(r.delivery,e),r.delivery.update=function(e,t){const r=y.get(e).asyncResource;if(e&&r){const e=r.bind(t);return i.bind((function(t,r){const n=function(e){if(e&&e.descriptor&&e.descriptor)switch(e.descriptor.value){case 36:return"accepted";case 37:return"rejected";case 38:return"released";case 39:return"modified"}}(r);return m.publish({state:n}),e.apply(this,arguments)}))}return function(e,r){return t.apply(this,arguments)}}(r.delivery,r.delivery.update),v(this.connection,r.delivery)}try{return e.apply(this,arguments)}catch(e){throw g.publish(e),e}}))}return e.apply(this,arguments)})),e})),s({name:"rhea",versions:[">=1"],file:"lib/connection.js"},(e=>(o.wrap(e.prototype,"dispatch",(e=>function(t,r){if("disconnected"===t){const e=r.error||this.saved_error;this[c]&&this[c].forEach((t=>{const r=y.get(t),n=r&&r.asyncResource;n&&n.runInAsyncScope((()=>{g.publish(e),E(t,null),_.publish()}))}))}return e.apply(this,arguments)})),e))),s({name:"rhea",versions:[">=1"],file:"lib/session.js"},(e=>{var t;return t=e.prototype,Object.defineProperty(t,"outgoing",{configurable:!0,get(){},set(e){if(delete t.outgoing,this.outgoing=e,e){let r;if(e.deliveries&&(r=e.deliveries.constructor),r&&!u.has(r.prototype)){o.wrap(r.prototype,"pop_if",(e=>function(t){return arguments[0]=i.bind((function(e){const r=y.get(e),n=r&&r.asyncResource;if(!n)return t(e);const s=n.runInAsyncScope((()=>t(e)));if(s){const t=e.remote_state,r=t&&t.constructor?e.remote_state.constructor.composite_type:void 0;n.runInAsyncScope((()=>{E(e,r),h.publish()}))}return s})),e.apply(this,arguments)})),u.add(r.prototype);const e=t.constructor;e&&(e[a]=r)}}}}),e}))},50825:(e,t,r)=>{"use strict";const n=r(38873).concat("all"),s=r(14779),i=r(7496),{addHook:o,channel:a}=r(93915);function c(e){const t=a(`apm:${e}:middleware:enter`),r=a(`apm:${e}:middleware:exit`),o=a(`apm:${e}:middleware:finish`),c=a(`apm:${e}:middleware:error`),u=a(`apm:${e}:middleware:next`),p=new WeakMap,l=Object.create(null);function d(e,n){n._name=n._name||e.name;const s=i.wrap(n,(function(){if(!t.hasSubscribers)return n.apply(this,arguments);const s=p.get(e),i=arguments.length-1,a=n._name||n.name,l=arguments[arguments.length>3?1:0],d=arguments[i];let h;if("function"==typeof d&&(arguments[i]=function(e,t){return function(r){r&&"route"!==r&&"router"!==r&&c.publish({req:e,error:r}),u.publish({req:e}),o.publish({req:e}),t.apply(this,arguments)}}(l,d)),s)for(let t=0;t<s.length;t++)if(s[t].test(e)){h=s[t].path;break}t.publish({name:a,req:l,route:h});try{return n.apply(this,arguments)}catch(e){throw c.publish({req:l,error:e}),u.publish({req:l}),o.publish({req:l}),e}finally{r.publish({req:l})}}));return s._datadog_orig=n,s}function h(e){const t=f([].concat(e));return"function"==typeof t[0]?[]:t.map((e=>({path:e instanceof RegExp?`(${e})`:e,test:t=>{const r=p.get(t);return!function(e,t){return void 0!==e.regexp.fast_star?e.regexp.fast_star:t.some((e=>"*"===e.path))}(t,r)&&!function(e,t){return void 0!==e.regexp.fast_slash?e.regexp.fast_slash:t.some((e=>"/"===e.path))}(t,r)&&function(e){const t=l[e];if(t)return t;const r=s(e);return l[e]=r,r}(e).test(t.path)}})))}function f(e){return e.reduce(((e,t)=>Array.isArray(t)?e.concat(f(t)):e.concat(t)),[])}return function e(t){return function(r){const s=this.stack?[].concat(this.stack).length:0,i=t.apply(this,arguments);return"function"==typeof this.stack&&(this.stack=[{handle:this.stack}]),function(t,r,s){[].concat(t).slice(r).forEach((t=>{t.__handle?t.__handle=d(t,t.__handle):t.handle=d(t,t.handle),p.set(t,s),t.route&&n.forEach((r=>{"function"==typeof t.route.stack&&(t.route.stack=[{handle:t.route.stack}]),t.route[r]=e(t.route[r])}))}))}(this.stack,s,h(r)),i}}}const u=c("router");o({name:"router",versions:[">=1"]},(e=>(i.wrap(e.prototype,"use",u),i.wrap(e.prototype,"route",u),e))),e.exports={createWrapRouterMethod:c}},31467:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496),a={hs:"handshake",qf:"query-fetch",qs:"query-subscribe",qu:"query-unsubscribe",bf:"bulk-fetch",bs:"bulk-subscribe",bu:"bulk-unsubscribe",f:"fetch",s:"subscribe",u:"unsubscribe",op:"op",nf:"snapshot-fetch",nt:"snapshot-fetch-by-ts",p:"presence-broadcast",pr:"presence-request",ps:"presence-subscribe",pu:"presence-unsubscribe"};s({name:"sharedb",versions:[">=1"],file:"lib/agent.js"},(e=>{const t=n("apm:sharedb:request:start"),r=n("apm:sharedb:request:finish"),s=n("apm:sharedb:request:error");return o.wrap(e.prototype,"_handleMessage",(e=>function(n,o){const c=new i("bound-anonymous-fn"),u=new i("bound-anonymous-fn"),p=function(e){const t=a[e];return void 0===t?e:t}(n.a);return u.runInAsyncScope((()=>{t.publish({actionName:p,request:n}),o=c.bind(o),arguments[1]=u.bind((function(e,t){return e&&s.publish(e),r.publish({request:n,res:t}),o.apply(this,arguments)}));try{return e.apply(this,arguments)}catch(e){throw s.publish(e),e}}))})),e}))},54213:(e,t,r)=>{"use strict";const{channel:n,addHook:s,AsyncResource:i}=r(93915),o=r(7496);s({name:"tedious",versions:[">=1.0.0"]},(e=>{const t=n("apm:tedious:request:start"),r=n("apm:tedious:request:finish"),s=n("apm:tedious:request:error");return o.wrap(e.Connection.prototype,"makeRequest",(e=>function(n){if(!t.hasSubscribers)return e.apply(this,arguments);const o=function(e){if(!e.parameters)return;const t=e.parametersByName.statement||e.parametersByName.stmt;return t?t.value:e.sqlTextOrProcedure}(n);if(!o)return e.apply(this,arguments);const a=new i("bound-anonymous-fn"),c=new i("bound-anonymous-fn"),u=this.config;return c.runInAsyncScope((()=>{t.publish({queryOrProcedure:o,connectionConfig:u});const i=a.bind(n.callback,n);n.callback=c.bind((function(e){return e&&s.publish(e),r.publish(void 0),i.apply(this,arguments)}),null,n);try{return e.apply(this,arguments)}catch(e){throw s.publish(e),e}}))})),e}))},64194:(e,t,r)=>{"use strict";const{addHook:n}=r(93915),{wrapThen:s}=r(91273),i=r(7496);n({name:"when",file:"lib/Promise.js",versions:[">=3"]},(e=>(i.wrap(e.prototype,"then",s),e)))},48488:(e,t,r)=>{"use strict";const{channel:n,addHook:s}=r(93915),i=r(7496),o=new WeakSet;function a(e,t){return function(){const r=e.apply(this,arguments);if(t.hasSubscribers)for(const e in this.transports){const r=this.transports[e];if(o.has(r)||"function"!=typeof r.log)continue;const n=r.log;r.log=function(e,r,s,i){const o={message:s||{}};t.publish(o),arguments[2]=o.message,n.apply(this,arguments)},o.add(r)}return r}}s({name:"winston",file:"lib/winston/logger.js",versions:[">=3"]},(e=>{const t=n("apm:winston:log");return i.wrap(e.prototype,"write",(e=>function(r,n,s){if(t.hasSubscribers){const e={message:r};t.publish(e),arguments[0]=e.message}return e.apply(this,arguments)})),e})),s({name:"winston",file:"lib/winston/logger.js",versions:["1","2"]},(e=>{const t=n("apm:winston:log");return e.Logger.prototype.configure&&i.wrap(e.Logger.prototype,"configure",(e=>a(e,t))),i.wrap(e.Logger.prototype,"add",(e=>a(e,t))),e}))},236:(e,t,r)=>{"use strict";const n=r(85945),{getAddress:s,getShortName:i}=r(90287);e.exports=class extends n{static get id(){return"amqp10"}static get system(){return"amqp"}start({link:e}){const t=i(e),r=s(e);this.startSpan("amqp.receive",{service:this.config.service||`${this.tracer._service}-amqp`,resource:["receive",t].filter((e=>e)).join(" "),type:"worker",kind:"consumer",meta:{"amqp.link.source.address":t,"amqp.link.role":"receiver","amqp.link.name":e.name,"amqp.link.handle":e.handle,"amqp.connection.host":r.host,"amqp.connection.port":r.port,"amqp.connection.user":r.user}})}}},19831:(e,t,r)=>{"use strict";const n=r(294),s=r(236),i=r(35905);e.exports=class extends i{static get id(){return"amqp10"}static get plugins(){return{producer:n,consumer:s}}}},294:(e,t,r)=>{"use strict";const n=r(35966),{CLIENT_PORT_KEY:s}=r(12909),{getAddress:i,getShortName:o}=r(90287);e.exports=class extends n{static get id(){return"amqp10"}static get operation(){return"send"}static get system(){return"amqp"}start({link:e}){const t=i(e),r=o(e);this.startSpan("amqp.send",{service:this.config.service||`${this.tracer._service}-amqp`,resource:["send",r].filter((e=>e)).join(" "),kind:"producer",meta:{"amqp.link.target.address":r,"amqp.link.role":"sender","out.host":t.host,[s]:t.port,"amqp.link.name":e.name,"amqp.link.handle":e.handle,"amqp.connection.host":t.host,"amqp.connection.port":t.port,"amqp.connection.user":t.user}})}}},90287:e=>{"use strict";e.exports={getAddress:function(e){return e&&e.session&&e.session.connection&&e.session.connection.address||{}},getShortName:function(e){return e&&e.name?e.name.split("_").slice(0,-1).join("_"):null}}},37362:(e,t,r)=>{"use strict";const{TEXT_MAP:n}=r(69769),{CLIENT_PORT_KEY:s}=r(12909),i=r(90532),{getResourceName:o}=r(67030);e.exports=class extends i{static get id(){return"amqplib"}static get operation(){return"command"}start({channel:e={},method:t,fields:r}){if("basic.deliver"===t||"basic.get"===t)return;if("basic.publish"===t)return;const i=e.connection&&e.connection.stream||{},a=this.startSpan("amqp.command",{service:this.config.service||`${this.tracer._service}-amqp`,resource:o(t,r),kind:"client",meta:{"out.host":i._host,[s]:i.remotePort,"amqp.queue":r.queue,"amqp.exchange":r.exchange,"amqp.routingKey":r.routingKey,"amqp.consumerTag":r.consumerTag,"amqp.source":r.source,"amqp.destination":r.destination}});r.headers=r.headers||{},this.tracer.inject(a,n,r.headers)}}},69364:(e,t,r)=>{"use strict";const{TEXT_MAP:n}=r(69769),s=r(85945),{getResourceName:i}=r(67030);e.exports=class extends s{static get id(){return"amqplib"}static get operation(){return"command"}start({method:e,fields:t,message:r}){if("basic.deliver"!==e&&"basic.get"!==e)return;const s=function(e,t){return t?e.extract(n,t.properties.headers):null}(this.tracer,r);this.startSpan("amqp.command",{childOf:s,service:this.config.service||`${this.tracer._service}-amqp`,resource:i(e,t),kind:"consumer",type:"worker",meta:{"amqp.queue":t.queue,"amqp.exchange":t.exchange,"amqp.routingKey":t.routingKey,"amqp.consumerTag":t.consumerTag,"amqp.source":t.source,"amqp.destination":t.destination}})}}},23421:(e,t,r)=>{"use strict";const n=r(55537),s=r(69364),i=r(37362),o=r(35905);e.exports=class extends o{static get id(){return"amqplib"}static get plugins(){return{producer:n,consumer:s,client:i}}}},55537:(e,t,r)=>{"use strict";const{TEXT_MAP:n}=r(69769),{CLIENT_PORT_KEY:s}=r(12909),i=r(35966),{getResourceName:o}=r(67030);e.exports=class extends i{static get id(){return"amqplib"}static get operation(){return"command"}start({channel:e={},method:t,fields:r}){if("basic.publish"!==t)return;const i=e.connection&&e.connection.stream||{},a=this.startSpan("amqp.command",{service:this.config.service||`${this.tracer._service}-amqp`,resource:o(t,r),kind:"producer",meta:{"out.host":i._host,[s]:i.remotePort,"amqp.queue":r.queue,"amqp.exchange":r.exchange,"amqp.routingKey":r.routingKey,"amqp.consumerTag":r.consumerTag,"amqp.source":r.source,"amqp.destination":r.destination}});r.headers=r.headers||{},this.tracer.inject(a,n,r.headers)}}},67030:e=>{"use strict";e.exports={getResourceName:function(e,t={}){return[e,t.exchange,t.routingKey,t.queue,t.source,t.destination].filter((e=>e)).join(" ")}}},42297:(e,t,r)=>{"use strict";const n=r(45032),s=r(63391),{storage:i}=r(60445),{isTrue:o}=r(66456);e.exports=class extends s{static get id(){return"aws"}get serviceIdentifier(){const e=this.constructor.id.toLowerCase();return Object.defineProperty(this,"serviceIdentifier",{configurable:!0,writable:!0,enumerable:!0,value:e}),e}constructor(...e){super(...e),this.addSub(`apm:aws:request:start:${this.serviceIdentifier}`,(({request:e,operation:t,awsRegion:r,awsService:s})=>{if(!this.isEnabled(e))return;const o=this.getServiceName(),a=this.tracer.scope().active(),c={"span.kind":"client","service.name":o,"aws.operation":t,"aws.region":r,"aws.service":s,component:"aws-sdk"};this.requestTags&&this.requestTags.set(e,c);const u=this.tracer.startSpan("aws.request",{childOf:a,tags:c});n.sample(u,this.config.measured),this.requestInject(u,e);const p=i.getStore();this.enter(u,p)})),this.addSub(`apm:aws:request:region:${this.serviceIdentifier}`,(e=>{const t=i.getStore();if(!t)return;const{span:r}=t;r&&r.setTag("aws.region",e)})),this.addSub(`apm:aws:request:complete:${this.serviceIdentifier}`,(({response:e})=>{const t=i.getStore();if(!t)return;const{span:r}=t;r&&(this.addResponseTags(r,e),this.finish(r,e,e.error))}))}requestInject(e,t){}isEnabled(e){const t=this.serviceIdentifier.toUpperCase(),r=process.env[`DD_TRACE_AWS_SDK_${t}_ENABLED`];return!r||o(r)}addResponseTags(e,t){if(!e||!t.request)return;const r=t.request.params,n=t.request.operation,s=this.generateTags(r,n,t)||{},i=Object.assign({"aws.response.request_id":t.requestId,"resource.name":n,"span.kind":"client"},s);e.addTags(i)}generateTags(){}finish(e,t,r){r&&(e.setTag("error",r),r.requestId&&e.addTags({"aws.response.request_id":r.requestId})),t&&this.config.hooks.request(e,t),e.finish()}configure(e){super.configure(function(e,t){const r=function(e){return{request:e.hooks&&e.hooks.request||(()=>{})}}(e);let n=e[t];switch(typeof n){case"undefined":n={};break;case"boolean":n={enabled:n}}return Object.assign({},e,n,{splitByAwsService:!1!==e.splitByAwsService,hooks:r})}(e,this.serviceIdentifier))}getServiceName(){return this.config.service?this.config.service:`${this.tracer._service}-aws-${this.serviceIdentifier}`}}},19872:(e,t,r)=>{"use strict";const n=r(63391),s=r(13148);e.exports=class extends n{static get id(){return"aws-sdk"}constructor(...e){super(...e),this.services={};for(const t in s){const r=s[t];this.services[t]=new r(...e)}}configure(e){for(const t of Object.values(this.services))t.configure(e)}}},2221:(e,t,r)=>{"use strict";const n=r(42297);e.exports=class extends n{static get id(){return"cloudwatchlogs"}generateTags(e,t){const r={};return e&&e.logGroupName?Object.assign(r,{"resource.name":`${t} ${e.logGroupName}`,"aws.cloudwatch.logs.log_group_name":e.logGroupName}):r}}},13784:(e,t,r)=>{"use strict";const n=r(42297);e.exports=class extends n{}},19445:(e,t,r)=>{"use strict";const n=r(42297);e.exports=class extends n{static get id(){return"dynamodb"}generateTags(e,t,r){const n={};if(e&&(e.TableName&&Object.assign(n,{"resource.name":`${t} ${e.TableName}`,"aws.dynamodb.table_name":e.TableName}),e.RequestItems&&"object"==typeof e.RequestItems&&1===Object.keys(e.RequestItems).length)){const r=Object.keys(e.RequestItems)[0];Object.assign(n,{"resource.name":`${t} ${r}`,"aws.dynamodb.table_name":r})}return Object.assign(n,{"span.type":"dynamodb"}),n}}},89476:(e,t,r)=>{"use strict";const n=r(63178),s=r(42297);e.exports=class extends s{static get id(){return"eventbridge"}generateTags(e,t,r){return e&&e.source?{"resource.name":`${t} ${e.source}`,"aws.eventbridge.source":e.source}:{}}requestInject(e,t){if("putEvents"===t.operation&&t.params&&t.params.Entries&&t.params.Entries.length>0&&t.params.Entries[0].Detail)try{const r=JSON.parse(t.params.Entries[0].Detail);r._datadog={},this.tracer.inject(e,"text_map",r._datadog);const s=JSON.stringify(r);if(Buffer.byteLength(s)>=262144)return void n.info("Payload size too large to pass context");t.params.Entries[0].Detail=s}catch(e){n.error(e)}}}},13148:(e,t,r)=>{"use strict";t.cloudwatchlogs=r(2221),t.dynamodb=r(19445),t.eventbridge=r(89476),t.kinesis=r(94294),t.lambda=r(17449),t.redshift=r(83029),t.s3=r(92437),t.sns=r(89941),t.sqs=r(37050),t.default=r(13784)},94294:(e,t,r)=>{"use strict";const n=r(63178),s=r(42297);e.exports=class extends s{static get id(){return"kinesis"}generateTags(e,t,r){return e&&e.StreamName?{"resource.name":`${t} ${e.StreamName}`,"aws.kinesis.stream_name":e.StreamName}:{}}_tryParse(e){try{return JSON.parse(e)}catch(e){n.info("Not JSON string. Trying Base64 encoded JSON string")}try{return JSON.parse(Buffer.from(e,"base64").toString("ascii"),!0)}catch(e){return null}}requestInject(e,t){const r=t.operation;if("putRecord"===r||"putRecords"===r){if(!t.params)return;const r={};let s;if(this.tracer.inject(e,"text_map",r),t.params.Records&&t.params.Records.length>0)s=t.params.Records[0];else{if(!t.params.Data)return void n.error("No valid payload passed, unable to pass trace context");s=t.params}const i=this._tryParse(s.Data);if(i){i._datadog=r;const e=Buffer.from(JSON.stringify(i));if(e.length>=1048576)return void n.info("Payload size too large to pass context");s.Data=e}else n.error("Unable to parse payload, unable to pass trace context")}}}},17449:(e,t,r)=>{"use strict";const n=r(63178),s=r(42297);e.exports=class extends s{static get id(){return"lambda"}generateTags(e,t,r){const n={};return e&&e.FunctionName?Object.assign(n,{"resource.name":`${t} ${e.FunctionName}`,"aws.lambda":e.FunctionName}):n}requestInject(e,t){if("invoke"===t.operation&&(t.params||(t.params={}),!t.params.InvocationType||"RequestResponse"===t.params.InvocationType))try{let r={};if(t.params.ClientContext){const e=Buffer.from(t.params.ClientContext,"base64").toString("utf-8");r=JSON.parse(e)}r.custom||(r.custom={}),this.tracer.inject(e,"text_map",r.custom);const n=Buffer.from(JSON.stringify(r)).toString("base64");t.params.ClientContext=n}catch(e){n.error(e)}}}},83029:(e,t,r)=>{"use strict";const n=r(42297);e.exports=class extends n{static get id(){return"redshift"}generateTags(e,t,r){const n={};return e&&e.ClusterIdentifier?Object.assign(n,{"resource.name":`${t} ${e.ClusterIdentifier}`,"aws.redshift.cluster_identifier":e.ClusterIdentifier}):n}}},92437:(e,t,r)=>{"use strict";const n=r(42297);e.exports=class extends n{static get id(){return"s3"}generateTags(e,t,r){const n={};return e&&e.Bucket?Object.assign(n,{"resource.name":`${t} ${e.Bucket}`,"aws.s3.bucket_name":e.Bucket}):n}}},89941:(e,t,r)=>{"use strict";const n=r(63178),s=r(42297);e.exports=class extends s{static get id(){return"sns"}generateTags(e,t,r){return e&&(e.TopicArn||r.data&&r.data.TopicArn)?{"resource.name":`${t} ${e.TopicArn||r.data.TopicArn}`,"aws.sns.topic_arn":e.TopicArn||r.data.TopicArn}:{}}requestInject(e,t){const{operation:r,params:n}=t;if(n)switch(r){case"publish":this._injectMessageAttributes(e,n);break;case"publishBatch":n.PublishBatchRequestEntries&&n.PublishBatchRequestEntries.length>0&&this._injectMessageAttributes(e,n.PublishBatchRequestEntries[0])}}_injectMessageAttributes(e,t){if(t.MessageAttributes||(t.MessageAttributes={}),Object.keys(t.MessageAttributes).length>=10)return void n.info("Message attributes full, skipping trace context injection");const r={};this.tracer.inject(e,"text_map",r),t.MessageAttributes._datadog={DataType:"Binary",BinaryValue:Buffer.from(JSON.stringify(r))}}}},37050:(e,t,r)=>{"use strict";const n=r(63178),s=r(42297),{storage:i}=r(60445);e.exports=class extends s{static get id(){return"sqs"}constructor(...e){super(...e),this.requestTags=new WeakMap,this.addSub("apm:aws:response:start:sqs",(e=>{const{request:t,response:r}=e,n=i.getStore(),s=this,o=this.responseExtract(t.params,t.operation,r);if(o){e.needsFinish=!0;const r={childOf:o,tags:Object.assign({},this.requestTags.get(t)||{},{"span.kind":"server"})},i=s.tracer.startSpan("aws.response",r);this.enter(i,n)}})),this.addSub("apm:aws:response:finish:sqs",(e=>{const{span:t}=i.getStore();this.finish(t,null,e)}))}isEnabled(e){const t=this.config;switch(e.operation){case"receiveMessage":return!1!==t.consumer;case"sendMessage":case"sendMessageBatch":return!1!==t.producer;default:return!0}}generateTags(e,t,r){const n={};if(!e||!e.QueueName&&!e.QueueUrl)return n;switch(Object.assign(n,{"resource.name":`${t} ${e.QueueName||e.QueueUrl}`,"aws.sqs.queue_name":e.QueueName||e.QueueUrl}),t){case"receiveMessage":n["span.type"]="worker",n["span.kind"]="consumer";break;case"sendMessage":case"sendMessageBatch":n["span.kind"]="producer"}return n}responseExtract(e,t,r){if("receiveMessage"!==t)return;if(e.MaxNumberOfMessages&&1!==e.MaxNumberOfMessages)return;if(!r||!r.Messages||!r.Messages[0])return;let s=r.Messages[0];if(s.Body)try{const e=JSON.parse(s.Body);"Notification"===e.Type&&(s=e)}catch(e){}if(!s.MessageAttributes||!s.MessageAttributes._datadog)return;const i=s.MessageAttributes._datadog;try{if(i.StringValue){const e=i.StringValue;return this.tracer.extract("text_map",JSON.parse(e))}if("Binary"===i.Type){const e=Buffer.from(i.Value,"base64");return this.tracer.extract("text_map",JSON.parse(e))}}catch(e){n.error(e)}}requestInject(e,t){if("sendMessage"===t.operation){if(t.params||(t.params={}),t.params.MessageAttributes){if(Object.keys(t.params.MessageAttributes).length>=10)return}else t.params.MessageAttributes={};const r={};this.tracer.inject(e,"text_map",r),t.params.MessageAttributes._datadog={DataType:"String",StringValue:JSON.stringify(r)}}}}},18155:(e,t,r)=>{"use strict";const n=r(99642);e.exports=class extends n{static get id(){return"bunyan"}}},50789:(e,t,r)=>{"use strict";const{CLIENT_PORT_KEY:n}=r(12909),s=r(96284);e.exports=class extends s{static get id(){return"cassandra-driver"}static get system(){return"cassandra"}start({keyspace:e,query:t,connectionOptions:r={}}){var s,i;Array.isArray(t)&&(t=t.map((e=>(e.query||e).replace(/;?$/,";"))).join(" ")),this.startSpan("cassandra.query",{service:this.config.service,resource:(s=t,i=5e3,!s||s.length<=i?s:`${s.substr(0,i-3)}...`),type:"cassandra",kind:"client",meta:{"db.type":"cassandra","cassandra.query":t,"cassandra.keyspace":e,"out.host":r.host,[n]:r.port}})}}},89685:(e,t,r)=>{"use strict";const n=r(76830);e.exports=class extends n{static get id(){return"connect"}constructor(...e){super(...e),this.addSub("apm:connect:request:handle",(({req:e})=>{this.setFramework(e,"connect",this.config)}))}}},64830:(e,t,r)=>{"use strict";const n=r(63391),{storage:s}=r(60445),i=r(45032);function o(){s.getStore().span.finish()}e.exports=class extends n{static get id(){return"couchbase"}addSubs(e,t,r=o){this.addSub(`apm:couchbase:${e}:start`,t),this.addSub(`apm:couchbase:${e}:error`,this.addError),this.addSub(`apm:couchbase:${e}:finish`,r)}startSpan(e,t,r,{bucket:n,collection:s}){const o={"db.type":"couchbase",component:"couchbase","service.name":this.config.service||`${this.tracer._service}-couchbase`,"resource.name":`couchbase.${e}`,"span.kind":"client"};for(const e in t)o[e]=t[e];const a=this.tracer.startSpan(`couchbase.${e}`,{childOf:r?r.span:null,tags:o});return n&&a.setTag("couchbase.bucket.name",n.name),s&&a.setTag("couchbase.collection.name",s.name),i.sample(a,this.config.measured),a}constructor(...e){super(...e),this.addSubs("query",(({resource:e,bucket:t})=>{const r=s.getStore(),n=this.startSpan("query",{"span.type":"sql","resource.name":e},r,{bucket:t});this.enter(n,r)})),this._addCommandSubs("upsert"),this._addCommandSubs("insert"),this._addCommandSubs("replace"),this._addCommandSubs("append"),this._addCommandSubs("prepend")}_addCommandSubs(e){this.addSubs(e,(({bucket:t,collection:r})=>{const n=s.getStore(),i=this.startSpan(e,{},n,{bucket:t,collection:r});this.enter(i,n)}))}}},74260:(e,t,r)=>{"use strict";const n=r(57363),{storage:s}=r(60445),{TEST_SKIP_REASON:i,TEST_STATUS:o,TEST_SOURCE_START:a,finishAllTraceSpans:c,getTestSuitePath:u,getTestSuiteCommonTags:p,addIntelligentTestRunnerSpanTags:l}=r(90186),{RESOURCE_NAME:d}=r(43620),{COMPONENT:h,ERROR_MESSAGE:f}=r(12909);e.exports=class extends n{static get id(){return"cucumber"}constructor(...e){super(...e),this.sourceRoot=process.cwd(),this.addSub("ci:cucumber:session:finish",(({status:e,isSuitesSkipped:t,testCodeCoverageLinesTotal:r})=>{const{isSuitesSkippingEnabled:n,isCodeCoverageEnabled:s}=this.itrConfig||{};l(this.testSessionSpan,this.testModuleSpan,{isSuitesSkipped:t,isSuitesSkippingEnabled:n,isCodeCoverageEnabled:s,testCodeCoverageLinesTotal:r}),this.testSessionSpan.setTag(o,e),this.testModuleSpan.setTag(o,e),this.testModuleSpan.finish(),this.testSessionSpan.finish(),c(this.testSessionSpan),this.itrConfig=null,this.tracer._exporter.flush()})),this.addSub("ci:cucumber:test-suite:start",(e=>{const t=p(this.command,this.frameworkVersion,u(e,this.sourceRoot),"cucumber");this.testSuiteSpan=this.tracer.startSpan("cucumber.test_suite",{childOf:this.testModuleSpan,tags:{[h]:this.constructor.id,...this.testEnvironmentMetadata,...t}})})),this.addSub("ci:cucumber:test-suite:finish",(e=>{this.testSuiteSpan.setTag(o,e),this.testSuiteSpan.finish()})),this.addSub("ci:cucumber:test-suite:code-coverage",(({coverageFiles:e,suiteFile:t})=>{if(!this.itrConfig||!this.itrConfig.isCodeCoverageEnabled)return;const r=[...e,t].map((e=>u(e,this.sourceRoot))),n={traceId:this.testSuiteSpan.context()._traceId,spanId:this.testSuiteSpan.context()._spanId,files:r};this.tracer._exporter.exportCoverage(n)})),this.addSub("ci:cucumber:test:start",(({testName:e,fullTestSuite:t,testSourceLine:r})=>{const n=s.getStore(),i=u(t,this.sourceRoot),o=this.startTestSpan(e,i,r);this.enter(o,n)})),this.addSub("ci:cucumber:test-step:start",(({resource:e})=>{const t=s.getStore(),r=t?t.span:t,n=this.tracer.startSpan("cucumber.step",{childOf:r,tags:{[h]:this.constructor.id,"cucumber.step":e,[d]:e}});this.enter(n,t)})),this.addSub("ci:cucumber:test:finish",(({isStep:e,status:t,skipReason:r,errorMessage:n})=>{const a=s.getStore().span,u=e?"step.status":o;a.setTag(u,t),r&&a.setTag(i,r),n&&a.setTag(f,n),a.finish(),e||c(a)})),this.addSub("ci:cucumber:error",(e=>{e&&s.getStore().span.setTag("error",e)}))}startTestSpan(e,t,r){return super.startTestSpan(e,t,this.testSuiteSpan,{[a]:r})}}},46614:(e,t,r)=>{const n=r(63391);e.exports=class extends n{static get id(){return"cypress"}}},70057:(e,t,r)=>{"use strict";const n=r(35905),s=r(18598),i=r(42165),o=r(10361),a=r(10639);e.exports=class extends n{static get id(){return"dns"}static get plugins(){return{lookup:s,lookup_service:i,resolve:o,reverse:a}}}},18598:(e,t,r)=>{"use strict";const n=r(90532);e.exports=class extends n{static get id(){return"dns"}static get operation(){return"lookup"}start([e]){this.startSpan("dns.lookup",{service:this.config.service,resource:e,kind:"client",meta:{"dns.hostname":e,"dns.address":"","dns.addresses":""}})}finish(e){const t=this.activeSpan;if(Array.isArray(e)){const r=Array.isArray(e)?e.map((e=>e.address)).sort():[e];t.setTag("dns.address",r[0]),t.setTag("dns.addresses",r.join(","))}else t.setTag("dns.address",e);t.finish()}}},42165:(e,t,r)=>{"use strict";const n=r(90532);e.exports=class extends n{static get id(){return"dns"}static get operation(){return"lookup_service"}start([e,t]){this.startSpan("dns.lookup_service",{service:this.config.service,resource:`${e}:${t}`,kind:"client",meta:{"dns.address":e},metrics:{"dns.port":t}})}}},10361:(e,t,r)=>{"use strict";const n=r(90532);e.exports=class extends n{static get id(){return"dns"}static get operation(){return"resolve"}start([e,t]){const r="string"==typeof t?t:"A";this.startSpan("dns.resolve",{service:this.config.service,resource:`${r} ${e}`,kind:"client",meta:{"dns.hostname":e,"dns.rrtype":r}})}}},10639:(e,t,r)=>{"use strict";const n=r(90532);e.exports=class extends n{static get id(){return"dns"}static get operation(){return"reverse"}start([e]){this.startSpan("dns.reverse",{service:this.config.service,resource:e,kind:"client",meta:{"dns.ip":e}})}}},49959:(e,t,r)=>{"use strict";const n=r(96284);e.exports=class extends n{static get id(){return"elasticsearch"}start({params:e}){const t=function(e){return e&&JSON.stringify(e)}(e.body||e.bulkBody);var r;this.startSpan(`${this.system}.query`,{service:this.config.service,resource:`${e.method} ${r=e.path,r&&r.replace(/[0-9]+/g,"?")}`,type:"elasticsearch",kind:"client",meta:{"db.type":this.system,[`${this.system}.url`]:e.path,[`${this.system}.method`]:e.method,[`${this.system}.body`]:t,[`${this.system}.params`]:JSON.stringify(e.querystring||e.query)}})}finish({params:e}){const t=this.activeSpan;this.config.hooks.query(t,e),super.finish({params:e})}}},52127:(e,t,r)=>{"use strict";const n=r(76830);e.exports=class extends n{static get id(){return"express"}constructor(...e){super(...e),this.addSub("apm:express:request:handle",(({req:e})=>{this.setFramework(e,"express",this.config)}))}}},54972:(e,t,r)=>{"use strict";const n=r(76830);e.exports=class extends n{static get id(){return"fastify"}constructor(...e){super(...e),this.addSub("apm:fastify:request:handle",(({req:e})=>{this.setFramework(e,"fastify",this.config)}))}}},70483:(e,t,r)=>{"use strict";const n=r(63391),s=r(53979);e.exports=class extends n{static get id(){return"find-my-way"}constructor(...e){super(...e),this.addSub("apm:find-my-way:request:route",(({req:e,route:t})=>{s.setRoute(e,t)}))}}},52052:(e,t,r)=>{"use strict";const n=r(90532);e.exports=class extends n{static get id(){return"google-cloud-pubsub"}static get operation(){return"request"}start({request:e,api:t,projectId:r}){"publish"!==t&&this.startSpan("pubsub.request",{service:this.config.service||`${this.tracer._service}-pubsub`,resource:[t,e.name].filter((e=>e)).join(" "),kind:"client",meta:{"pubsub.method":t,"gcloud.project_id":r}})}}},86572:(e,t,r)=>{"use strict";const n=r(85945);e.exports=class extends n{static get id(){return"google-cloud-pubsub"}static get operation(){return"receive"}start({message:e}){const t=e._subscriber._subscription,r=t.metadata&&t.metadata.topic,n=this.tracer.extract("text_map",e.attributes)||null;this.startSpan("pubsub.receive",{childOf:n,service:this.config.service,resource:r,kind:"consumer",type:"worker",meta:{"gcloud.project_id":t.pubsub.projectId,"pubsub.topic":r},metrics:{"pubsub.ack":0}})}finish(e){const t=this.activeSpan;e.message._handled&&t.setTag("pubsub.ack",1),t.finish()}}},67887:(e,t,r)=>{"use strict";const n=r(4284),s=r(86572),i=r(52052),o=r(35905);e.exports=class extends o{static get id(){return"google-cloud-pubsub"}static get plugins(){return{producer:n,consumer:s,client:i}}}},4284:(e,t,r)=>{"use strict";const n=r(35966);e.exports=class extends n{static get id(){return"google-cloud-pubsub"}static get operation(){return"request"}start({request:e,api:t,projectId:r}){if("publish"!==t)return;const n=e.messages||[],s=e.topic,i=this.startSpan("pubsub.request",{service:this.config.service||`${this.tracer._service}-pubsub`,resource:`${t} ${s}`,kind:"producer",meta:{"gcloud.project_id":r,"pubsub.method":t,"pubsub.topic":s}});for(const e of n)e.attributes||(e.attributes={}),this.tracer.inject(i,"text_map",e.attributes)}}},64978:(e,t,r)=>{"use strict";const n=r(44797);let s;function i(e,t,n,i){if(!1!==i&&!1!==s)try{try{s=s||r(9659)}catch(e){throw s=!1,e}return s.defaultEngineReportingSignature(e,t)}catch(e){}return[n,t].filter((e=>e)).join(" ")}e.exports=class extends n{static get id(){return"graphql"}static get operation(){return"execute"}start({operation:e,args:t,docSource:r}){const n=e&&e.operation,s=e&&e.name&&e.name.value,o=t.document,a=this.config.source&&o&&r,c=this.startSpan("graphql.execute",{service:this.config.service,resource:i(o,s,n,this.config.signature),kind:"server",type:"graphql",meta:{"graphql.operation.type":n,"graphql.operation.name":s,"graphql.source":a}});!function(e,t,r){const n={};if(r&&e.variables){const t=e.variables(r);for(const e in t)n[`graphql.variables.${e}`]=t[e]}t.addTags(n)}(this.config,c,t.variableValues)}finish({res:e,args:t}){const r=this.activeSpan;this.config.hooks.execute(r,t,e),r.finish()}}},52316:(e,t,r)=>{"use strict";const n=r(35905),s=r(63178),i=r(64978),o=r(36506),a=r(79042),c=r(15759);function u(e){return"number"==typeof e.depth?e.depth:(e.hasOwnProperty("depth")&&s.error("Expected `depth` to be a integer."),-1)}function p(e){return"function"==typeof e.variables?e.variables:e.variables instanceof Array?t=>{return r=t,n=e.variables,Object.fromEntries(Object.entries(r).filter((([e])=>n.includes(e))));var r,n}:(e.hasOwnProperty("variables")&&s.error("Expected `variables` to be an array or function."),null)}function l(e){const t=()=>{};return{execute:e.hooks&&e.hooks.execute||t,parse:e.hooks&&e.hooks.parse||t,validate:e.hooks&&e.hooks.validate||t}}e.exports=class extends n{static get id(){return"graphql"}static get plugins(){return{execute:i,parse:o,validate:a,resolve:c}}configure(e){return super.configure(function(e){return Object.assign({},e,{depth:u(e),variables:p(e),collapse:void 0===e.collapse||!!e.collapse,hooks:l(e)})}(e))}}},36506:(e,t,r)=>{"use strict";const n=r(44797);e.exports=class extends n{static get id(){return"graphql"}static get operation(){return"parser"}start(){this.startSpan("graphql.parse",{service:this.config.service,type:"graphql",meta:{"graphql.source":""}})}finish({source:e,document:t,docSource:r}){const n=this.activeSpan;this.config.source&&t&&n.setTag("graphql.source",r),this.config.hooks.parse(n,e,t),n.finish()}}},15759:(e,t,r)=>{"use strict";const n=r(44797),s=Symbol("collapsedPaths");function i(e,t){const r=t.filter((e=>"string"==typeof e)).length;return e.depth<0||e.depth>=r}function o(e,t){const r=t.collapse?function(e){return function(){return e.apply(this,arguments).map((e=>"number"==typeof e?"*":e))}}(a):a;return r(e&&e.path)}function a(e){const t=[];let r=e;for(;r;)t.push(r.key),r=r.prev;return t.reverse()}e.exports=class extends n{static get id(){return"graphql"}static get operation(){return"resolve"}start({info:e,context:t}){const r=o(e,this.config);if(!i(this.config,r))return;const n=r.join(".");if(this.config.collapse){if(t[s]||(t[s]={}),t.fields[n])return;if(t[s][n])return;t[s][n]=!0}const a=t.source,c=e.fieldNodes.find((e=>"Field"===e.kind)),u=this.config.source&&a&&c&&c.loc,p=u&&a.substring(u.start,u.end),l=this.startSpan("graphql.resolve",{service:this.config.service,resource:`${e.fieldName}:${e.returnType}`,type:"graphql",meta:{"graphql.field.name":e.fieldName,"graphql.field.path":n,"graphql.field.type":e.returnType.name,"graphql.source":p}});if(c&&this.config.variables&&c.arguments){const t=this.config.variables(e.variableValues);c.arguments.filter((e=>e.value&&"Variable"===e.value.kind)).filter((e=>e.value.name&&t[e.value.name.value])).map((e=>e.value.name.value)).forEach((e=>{l.setTag(`graphql.variables.${e}`,t[e])}))}}finish(e){this.activeSpan.finish(e)}constructor(...e){super(...e),this.addTraceSub("updateField",(({field:e,info:t,err:r})=>{const n=o(t,this.config);if(!i(this.config,n))return;const s=this.activeSpan;e.finishTime=s._getTime?s._getTime():0,e.error=e.error||r}))}configure(e){super.configure(0!==e.depth&&e)}}},9659:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(35937);t.defaultEngineReportingSignature=n.defaultEngineReportingSignature},35937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(18575);t.defaultEngineReportingSignature=function(e,t){return n.printWithReducedWhitespace(n.sortAST(n.removeAliases(n.hideLiterals(n.dropUnusedDefinitions(e,t)))))}},18575:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(80285),i=r(23033),o=r(49548),a=n(r(58254));function c(e){if(e)return a.default.apply(null,arguments)}t.hideLiterals=function(e){return s.visit(e,{IntValue:e=>Object.assign({},e,{value:"0"}),FloatValue:e=>Object.assign({},e,{value:"0"}),StringValue:e=>Object.assign({},e,{value:"",block:!1}),ListValue:e=>Object.assign({},e,{values:[]}),ObjectValue:e=>Object.assign({},e,{fields:[]})})},t.hideStringAndNumericLiterals=function(e){return s.visit(e,{IntValue:e=>Object.assign({},e,{value:"0"}),FloatValue:e=>Object.assign({},e,{value:"0"}),StringValue:e=>Object.assign({},e,{value:"",block:!1})})},t.dropUnusedDefinitions=function(e,t){return o.separateOperations(e)[t]||e},t.sortAST=function(e){return s.visit(e,{OperationDefinition:e=>Object.assign({},e,{variableDefinitions:c(e.variableDefinitions,"variable.name.value")}),SelectionSet:e=>Object.assign({},e,{selections:a.default(e.selections,"kind","name.value")}),Field:e=>Object.assign({},e,{arguments:c(e.arguments,"name.value")}),FragmentSpread:e=>Object.assign({},e,{directives:c(e.directives,"name.value")}),InlineFragment:e=>Object.assign({},e,{directives:c(e.directives,"name.value")}),FragmentDefinition:e=>Object.assign({},e,{directives:c(e.directives,"name.value"),variableDefinitions:c(e.variableDefinitions,"variable.name.value")}),Directive:e=>Object.assign({},e,{arguments:c(e.arguments,"name.value")})})},t.removeAliases=function(e){return s.visit(e,{Field:e=>Object.assign({},e,{alias:void 0})})},t.printWithReducedWhitespace=function(e){const t=s.visit(e,{StringValue:e=>Object.assign({},e,{value:Buffer.from(e.value,"utf8").toString("hex"),block:!1})});return i.print(t).replace(/\s+/g," ").replace(/([^_a-zA-Z0-9]) /g,((e,t)=>t)).replace(/ ([^_a-zA-Z0-9])/g,((e,t)=>t)).replace(/"([a-f0-9]+)"/g,((e,t)=>JSON.stringify(Buffer.from(t,"hex").toString("utf8"))))}},79042:(e,t,r)=>{"use strict";const n=r(44797);e.exports=class extends n{static get id(){return"graphql"}static get operation(){return"validate"}start({docSource:e,document:t}){const r=this.config.source&&t&&e;this.startSpan("graphql.validate",{service:this.config.service,type:"graphql",meta:{"graphql.source":r}})}finish({document:e,errors:t}){const r=this.activeSpan;this.config.hooks.validate(r,e,t),r.finish()}}},64e3:(e,t,r)=>{"use strict";const n=r(90532),{TEXT_MAP:s}=r(69769),{addMetadataTags:i,getFilter:o,getMethodMetadata:a}=r(33474);e.exports=class extends n{static get id(){return"grpc"}static get operation(){return"client:request"}start({metadata:e,path:t,type:r}){const n=this.config.metadataFilter,o=a(t,r),c=this.startSpan("grpc.client",{service:this.config.service,resource:t,kind:"client",type:"http",meta:{component:"grpc","grpc.method.kind":o.kind,"grpc.method.path":o.path,"grpc.method.name":o.name,"grpc.method.service":o.service,"grpc.method.package":o.package},metrics:{"grpc.status.code":0}});e&&(i(c,e,n,"request"),function(e,t,r){if("function"!=typeof r.set)return;const n={};e.inject(t,s,n);for(const e in n)r.set(e,n[e])}(this.tracer,c,e))}error(e){const t=this.activeSpan;t&&(this.addCode(t,e.code),this.addError(e))}finish({code:e,metadata:t}){const r=this.activeSpan;if(!r)return;const n=this.config.metadataFilter;this.addCode(r,e),t&&n&&i(r,t,n,"response"),r.finish()}configure(e){const t=o(e,"metadata");return super.configure({...e,metadataFilter:t})}addCode(e,t){void 0!==t&&e.setTag("grpc.status.code",t)}}},69897:(e,t,r)=>{"use strict";const n=r(11946),s=r(64e3),i=r(35905);e.exports=class extends i{static get id(){return"grpc"}static get plugins(){return{server:n,client:s}}}},11946:(e,t,r)=>{"use strict";const n=r(25399),{TEXT_MAP:s}=r(69769),{addMetadataTags:i,getFilter:o,getMethodMetadata:a}=r(33474);e.exports=class extends n{static get id(){return"grpc"}static get operation(){return"server:request"}constructor(...e){super(...e),this.addTraceSub("update",(({code:e})=>{const t=this.activeSpan;t&&this.addCode(t,e)}))}start({name:e,metadata:t,type:r}){const n=this.config.metadataFilter,o=function(e,t){return t&&"function"==typeof t.getMap?e.extract(s,t.getMap()):null}(this.tracer,t),c=a(e,r),u=this.startSpan("grpc.server",{childOf:o,service:this.config.service,resource:e,kind:"server",type:"web",meta:{component:"grpc","grpc.method.kind":c.kind,"grpc.method.path":c.path,"grpc.method.name":c.name,"grpc.method.service":c.service,"grpc.method.package":c.package},metrics:{"grpc.status.code":0}});i(u,t,n,"request")}error(e){const t=this.activeSpan;t&&(this.addCode(t,e.code),this.addError(e))}finish({code:e,trailer:t}={}){const r=this.activeSpan;if(!r)return;const n=this.config.metadataFilter;this.addCode(r,e),t&&n&&i(r,t,n,"response"),r.finish()}configure(e){const t=o(e,"metadata");return super.configure({...e,metadataFilter:t})}addCode(e,t){void 0!==t&&e.setTag("grpc.status.code",t)}}},33474:(e,t,r)=>{"use strict";const n=r(25030),s=r(63178);e.exports={getMethodMetadata(e,t){const r={path:e,kind:t,name:"",service:"",package:""};if("string"!=typeof e)return r;const n=e.split("/");if(n.length>2){const e=n[1].split("."),t=n[2],s=e.pop(),i=e.join(".");r.name=t,r.service=s,r.package=i}else r.name=n[n.length-1];return r},addMetadataTags(e,t,r,n){if(!t||"function"!=typeof t.getMap)return;const s=r(t.getMap());for(const t in s)e.setTag(`grpc.${n}.metadata.${t}`,s[t])},getFilter:(e,t)=>"function"==typeof e[t]?e[t]:e[t]instanceof Array?r=>n(r,e[t]):(e.hasOwnProperty(t)&&s.error(`Expected '${t}' to be an array or function.`),()=>({}))}},99154:(e,t,r)=>{"use strict";const{storage:n}=r(60445),s=r(76830),i=r(53979);e.exports=class extends s{static get id(){return"hapi"}constructor(...e){super(...e),this._requestSpans=new WeakMap,this.addSub("apm:hapi:request:handle",(({req:e})=>{const t=n.getStore(),r=t&&t.span;this.setFramework(e,"hapi",this.config),this._requestSpans.set(e,r)})),this.addSub("apm:hapi:request:route",(({req:e,route:t})=>{i.setRoute(e,t)})),this.addSub("apm:hapi:request:error",(e=>{e&&e.isBoom&&this.config.validateStatus(e.output.statusCode)||this.addError(e)})),this.addSub("apm:hapi:extension:enter",(({req:e})=>{this.enter(this._requestSpans.get(e))}))}}},87122:(e,t,r)=>{"use strict";const n=r(63391),{storage:s}=r(60445),i=r(43620),o=r(45032),a=r(69769).HTTP_HEADERS,c=r(65617),u=r(63178),p=r(57310),{COMPONENT:l,ERROR_MESSAGE:d,ERROR_TYPE:h,ERROR_STACK:f}=r(12909),m=i.HTTP_STATUS_CODE,g=i.HTTP_REQUEST_HEADERS,_=i.HTTP_RESPONSE_HEADERS;function y(e){const t=s.getStore().span;e?t.addTags({[h]:e.name,[d]:e.message||e.code,[f]:e.stack}):t.setTag("error",1)}function b(e){return e=Object.assign({},e,{blocklist:e.blocklist||[]}),c.getFilter(e)}function v(e,t,r){return t.splitByDomain?function(e){if("string"==typeof e)return p.parse(e).host;return[e.hostname||e.host||"localhost",e.port].filter((e=>e)).join(":")}(r):t.service?t.service:e._service}e.exports=class extends n{static get id(){return"http"}constructor(...e){super(...e),this.addSub("apm:http:client:request:start",(({args:e,http:t})=>{const r=s.getStore(),n=e.options,i=n.agent||n._defaultAgent||t.globalAgent,c=n.protocol||i.protocol||"http:",u=n.hostname||n.host||"localhost",p=`${c}//${n.port?`${u}:${n.port}`:u}${n.path?n.path.split(/[?#]/)[0]:"/"}`,d=this.config.filter(p),h=(n.method||"GET").toUpperCase(),f=r&&d?r.span:null,m=this.tracer.startSpan("http.request",{childOf:f,tags:{[l]:this.constructor.id,"span.kind":"client","service.name":v(this.tracer,this.config,n),"resource.name":h,"span.type":"http","http.method":h,"http.url":p}});d||(m._spanContext._trace.record=!1),!function(e){if(!e)return!1;if(e.headers){const t=Object.keys(e.headers).reduce(((t,r)=>Object.assign(t,{[r.toLowerCase()]:e.headers[r]})),{});if(t["x-amz-signature"])return!0;if([].concat(t.authorization).some(("AWS4-HMAC-SHA256",e=>String(e).startsWith("AWS4-HMAC-SHA256"))))return!0}return e.path&&-1!==e.path.toLowerCase().indexOf("x-amz-signature=")}(n)&&this.config.propagationFilter(p)&&this.tracer.inject(m,a,n.headers),o.sample(m,this.config.measured),this.enter(m,r)})),this.addSub("apm:http:client:request:finish",(({req:e,res:t})=>{const r=s.getStore().span;t&&(r.setTag(m,t.statusCode),this.config.validateStatus(t.statusCode)||r.setTag("error",1),function(e,t,r){r.headers.forEach((r=>{const n=e.headers[r];n&&t.setTag(`${_}.${r}`,n)}))}(t,r,this.config)),function(e,t,r){r.headers.forEach((r=>{const n=e.getHeader(r);n&&t.setTag(`${g}.${r}`,Array.isArray(n)?n.toString():n)}))}(e,r,this.config),this.config.hooks.request(r,e,t),r.finish()})),this.addSub("apm:http:client:request:error",y)}configure(e){return super.configure(function(e){const t=function(e){return"function"==typeof e.validateStatus?e.validateStatus:(e.hasOwnProperty("validateStatus")&&u.error("Expected `validateStatus` to be a function."),e=>e<400||e>=500)}(e),r=b(e),n=b({blocklist:e.propagationBlocklist}),s=function(e){return Array.isArray(e.headers)?e.headers.filter((e=>"string"==typeof e)).map((e=>e.toLowerCase())):[]}(e),i=function(e){return{request:e.hooks&&e.hooks.request||(()=>{})}}(e);return Object.assign({},e,{validateStatus:t,filter:r,propagationFilter:n,headers:s,hooks:i})}(e))}}},48469:(e,t,r)=>{"use strict";const n=r(74282),s=r(87122),i=r(35905);e.exports=class extends i{static get id(){return"http"}static get plugins(){return{server:n,client:s}}}},74282:(e,t,r)=>{"use strict";const n=r(63391),{storage:s}=r(60445),i=r(53979),{incomingHttpRequestStart:o,incomingHttpRequestEnd:a}=r(65211),{COMPONENT:c}=r(12909);e.exports=class extends n{static get id(){return"http"}constructor(...e){super(...e),this._parentStore=void 0,this.addSub("apm:http:server:request:start",(({req:e,res:t,abortController:r})=>{const n=s.getStore(),a=i.startSpan(this.tracer,this.config,e,t,"web.request");a.setTag(c,this.constructor.id),this._parentStore=n,this.enter(a,{...n,req:e,res:t});const u=i.getContext(e);u.instrumented||(u.res.writeHead=i.wrapWriteHead(u),u.instrumented=!0),o.hasSubscribers&&o.publish({req:e,res:t,abortController:r})})),this.addSub("apm:http:server:request:error",(e=>{i.addError(e)})),this.addSub("apm:http:server:request:exit",(({req:e})=>{const t=this._parentStore&&this._parentStore.span;this.enter(t,this._parentStore),this._parentStore=void 0})),this.addSub("apm:http:server:request:finish",(({req:e})=>{const t=i.getContext(e);t&&t.res&&(a.hasSubscribers&&a.publish({req:e,res:t.res}),i.finishAll(t))}))}configure(e){return super.configure(i.normalizeConfig(e))}}},93458:(e,t,r)=>{"use strict";const{storage:n}=r(60445),s=r(63391),i=r(57310).URL,o=r(63178),a=r(43620),c=r(53165),u=r(69769),p=r(45032),{COMPONENT:l,CLIENT_PORT_KEY:d}=r(12909),h=r(65617),f=u.HTTP_HEADERS,m=a.HTTP_STATUS_CODE,g=a.HTTP_REQUEST_HEADERS,_=a.HTTP_RESPONSE_HEADERS,y=a.SPAN_KIND,b=c.CLIENT;function v(e,t,r){return t.splitByDomain?[r.host,r.port].filter((e=>e)).join(":"):t.service?t.service:e._service}function E(e,t,r,n){t&&n.headers.forEach((n=>{const s=t[n];s&&e.setTag(`${r}.${n}`,s)}))}e.exports=class extends s{static get id(){return"http2"}constructor(...e){super(...e),this.addSub("apm:http2:client:request:start",(({authority:e,options:t,headers:r={}})=>{const s=function(e,t){"string"==typeof e&&(e=new i(e));const r=e.protocol||t.protocol||"https:";let n=""+(""!==e.port?e.port:"http:"===e.protocol?80:443),s=e.hostname||e.host||"localhost";return"https:"===r&&t&&(n=t.port||n,s=t.host||s),{protocol:r,port:n,host:s}}(e,t),o=r[":path"]||"/",a=o.split(/[?#]/)[0],c=r[":method"]||"GET",u=`${s.protocol}//${s.host}:${s.port}${a}`,h=this.config.filter(u),m=n.getStore(),_=m&&h?m.span:null,S=this.tracer.startSpan("http.request",{childOf:_,tags:{[l]:this.constructor.id,[d]:parseInt(s.port),[y]:b,"service.name":v(this.tracer,this.config,s),"resource.name":c,"span.type":"http","http.method":c,"http.url":u}});h||(S._spanContext._trace.record=!1),E(S,r,g,this.config),function(e,t){if(e){if((e=Object.keys(e).reduce(((t,r)=>Object.assign(t,{[r.toLowerCase()]:e[r]})),{}))["x-amz-signature"])return!0;if([].concat(e.authorization).some(("AWS4-HMAC-SHA256",e=>String(e).startsWith("AWS4-HMAC-SHA256"))))return!0}return t&&-1!==t.toLowerCase().indexOf("x-amz-signature=")}(r,o)||this.tracer.inject(S,f,r),p.sample(S,this.config.measured),this.enter(S,m)})),this.addSub("apm:http2:client:response",(e=>{const t=n.getStore().span,r=e&&e[":status"];t.setTag(m,r),this.config.validateStatus(r)||this.addError(),E(t,e,_,this.config)})),this.addSub("apm:http2:client:request:finish",(()=>{n.getStore().span.finish()})),this.addSub("apm:http2:client:request:error",this.addError)}configure(e){return super.configure(function(e){const t=function(e){return"function"==typeof e.validateStatus?e.validateStatus:(e.hasOwnProperty("validateStatus")&&o.error("Expected `validateStatus` to be a function."),e=>e<400||e>=500)}(e),r=function(e){return e=Object.assign({},e,{blocklist:e.blocklist||[]}),h.getFilter(e)}(e),n=function(e){return Array.isArray(e.headers)?e.headers.filter((e=>"string"==typeof e)).map((e=>e.toLowerCase())):[]}(e);return Object.assign({},e,{validateStatus:t,filter:r,headers:n})}(e))}}},79098:(e,t,r)=>{"use strict";const n=r(72672),s=r(93458),i=r(35905);e.exports=class extends i{static get id(){return"http2"}static get plugins(){return{server:n,client:s}}}},72672:(e,t,r)=>{"use strict";const n=r(63391),{storage:s}=r(60445),i=r(53979),{incomingHttpRequestStart:o}=r(65211),{COMPONENT:a}=r(12909);e.exports=class extends n{static get id(){return"http2"}constructor(...e){super(...e),this.addSub("apm:http2:server:request:start",(({req:e,res:t})=>{const r=s.getStore(),n=i.startSpan(this.tracer,this.config,e,t,"web.request");n.setTag(a,this.constructor.id),this.enter(n,{...r,req:e,res:t});const c=i.getContext(e);c.instrumented||(c.res.writeHead=i.wrapWriteHead(c),c.instrumented=!0),o.hasSubscribers&&o.publish({req:e,res:t})})),this.addSub("apm:http2:server:request:error",(e=>{i.addError(e)})),this.addSub("apm:http2:server:request:finish",(({req:e})=>{const t=i.getContext(e);t&&t.res&&i.finishAll(t)}))}configure(e){return super.configure(i.normalizeConfig(e))}}},28330:(e,t,r)=>{"use strict";const n=r(78551);e.exports=class extends n{static get id(){return"ioredis"}}},16599:(e,t,r)=>{const n=r(57363),{storage:s}=r(60445),{TEST_STATUS:i,JEST_TEST_RUNNER:o,finishAllTraceSpans:a,getTestSuiteCommonTags:c,addIntelligentTestRunnerSpanTags:u,TEST_PARAMETERS:p,TEST_COMMAND:l,TEST_FRAMEWORK_VERSION:d,TEST_SOURCE_START:h}=r(90186),{COMPONENT:f}=r(12909),m=r(8508),g=!!process.env.JEST_WORKER_ID;e.exports=class extends n{static get id(){return"jest"}constructor(...e){if(super(...e),g){const e=([t])=>{2===t&&(this.testSuiteSpan&&(this.testSuiteSpan.finish(),a(this.testSuiteSpan)),this.tracer._exporter.flush(),process.removeListener("message",e))};process.on("message",e)}this.addSub("ci:jest:session:finish",(({status:e,isSuitesSkipped:t,isSuitesSkippingEnabled:r,isCodeCoverageEnabled:n,testCodeCoverageLinesTotal:s})=>{this.testSessionSpan.setTag(i,e),this.testModuleSpan.setTag(i,e),u(this.testSessionSpan,this.testModuleSpan,{isSuitesSkipped:t,isSuitesSkippingEnabled:r,isCodeCoverageEnabled:n,testCodeCoverageLinesTotal:s}),this.testModuleSpan.finish(),this.testSessionSpan.finish(),a(this.testSessionSpan),this.tracer._exporter.flush()})),this.addSub("ci:jest:session:configuration",(e=>{e.forEach((e=>{e._ddTestSessionId=this.testSessionSpan.context().toTraceId(),e._ddTestModuleId=this.testModuleSpan.context().toSpanId(),e._ddTestCommand=this.testSessionSpan.context()._tags[l]}))})),this.addSub("ci:jest:test-suite:start",(({testSuite:e,testEnvironmentOptions:t,frameworkVersion:r})=>{const{_ddTestSessionId:n,_ddTestCommand:s,_ddTestModuleId:i}=t,o=this.tracer.extract("text_map",{"x-datadog-trace-id":n,"x-datadog-parent-id":i}),a=c(s,r,e,"jest");this.testSuiteSpan=this.tracer.startSpan("jest.test_suite",{childOf:o,tags:{[f]:this.constructor.id,...this.testEnvironmentMetadata,...a}})})),this.addSub("ci:jest:worker-report:trace",(e=>{JSON.parse(e).map((e=>e.map((e=>({...e,span_id:m(e.span_id),trace_id:m(e.trace_id),parent_id:m(e.parent_id)}))))).forEach((e=>{this.tracer._exporter.export(e)}))})),this.addSub("ci:jest:worker-report:coverage",(e=>{JSON.parse(e).map((e=>({traceId:m(e.traceId),spanId:m(e.spanId),files:e.files}))).forEach((e=>{this.tracer._exporter.exportCoverage(e)}))})),this.addSub("ci:jest:test-suite:finish",(({status:e,errorMessage:t})=>{this.testSuiteSpan.setTag(i,e),t&&this.testSuiteSpan.setTag("error",new Error(t)),this.testSuiteSpan.finish(),a(this.testSuiteSpan),g&&this.tracer._exporter.flush()})),this.addSub("ci:jest:test-suite:code-coverage",(e=>{const t={traceId:this.testSuiteSpan.context()._traceId,spanId:this.testSuiteSpan.context()._spanId,files:e};this.tracer._exporter.exportCoverage(t)})),this.addSub("ci:jest:test:start",(e=>{const t=s.getStore(),r=this.startTestSpan(e);this.enter(r,t)})),this.addSub("ci:jest:test:finish",(e=>{const t=s.getStore().span;t.setTag(i,e),t.finish(),a(t)})),this.addSub("ci:jest:test:err",(e=>{if(e){const t=s.getStore();if(t&&t.span){const r=t.span;r.setTag(i,"fail"),r.setTag("error",e)}}})),this.addSub("ci:jest:test:skip",(e=>{const t=this.startTestSpan(e);t.setTag(i,"skip"),t.finish()}))}startTestSpan(e){const{suite:t,name:r,runner:n,testParameters:s,frameworkVersion:i,testStartLine:a}=e,c={[o]:n,[p]:s,[d]:i,[h]:a};return super.startTestSpan(r,t,this.testSuiteSpan,c)}}},49241:e=>{e.exports={getFormattedJestTestParameters:function(e){if(!e||!e.length)return;const[t,...r]=e;if(0===r.length)return t;const n=t[0].split("|").map((e=>e.trim())),s=[];for(let e=0;e<r.length;e++){const t=r[e],i=e%n.length;i||s.push({});const o=n[i];s[s.length-1][o]=t}return s},getJestTestName:function(e){const t=[];let r=e;do{t.unshift(r.name)}while(r=r.parent);return t.shift(),t.join(" ")}}},35555:(e,t,r)=>{"use strict";const n=r(85945);e.exports=class extends n{static get id(){return"kafkajs"}static get operation(){return"consume"}start({topic:e,partition:t,message:r}){const n=function(e,t){if(!t)return null;const r={};for(const e of Object.keys(t))r[e]=t[e].toString();return e.extract("text_map",r)}(this.tracer,r.headers);this.startSpan("kafka.consume",{childOf:n,service:this.config.service||`${this.tracer._service}-kafka`,resource:e,kind:"consumer",type:"worker",meta:{component:"kafkajs","kafka.topic":e,"kafka.message.offset":r.offset},metrics:{"kafka.partition":t}})}}},28047:(e,t,r)=>{"use strict";const n=r(12210),s=r(35555),i=r(35905);e.exports=class extends i{static get id(){return"kafkajs"}static get plugins(){return{producer:n,consumer:s}}}},12210:(e,t,r)=>{"use strict";const n=r(35966);e.exports=class extends n{static get id(){return"kafkajs"}static get operation(){return"produce"}start({topic:e,messages:t}){const r=this.startSpan("kafka.produce",{service:this.config.service||`${this.tracer._service}-kafka`,resource:e,kind:"producer",meta:{component:"kafkajs","kafka.topic":e},metrics:{"kafka.batch_size":t.length}});for(const e of t)"object"==typeof e&&this.tracer.inject(r,"text_map",e.headers)}}},25329:(e,t,r)=>{"use strict";const n=r(76830),s=r(53979);e.exports=class extends n{static get id(){return"koa"}constructor(...e){super(...e),this.addSub("apm:koa:request:handle",(({req:e})=>{this.setFramework(e,"koa",this.config)})),this.addSub("apm:koa:request:route",(({req:e,route:t})=>{s.setRoute(e,t)}))}}},77246:(e,t,r)=>{"use strict";const{storage:n}=r(60445),s=r(11071);let i;e.exports=class extends s{static get id(){return"mariadb"}static get system(){return"mariadb"}constructor(...e){super(...e),this.addSub(`apm:${this.component}:pool:skip`,(()=>{i=n.getStore(),n.enterWith({noop:!0})})),this.addSub(`apm:${this.component}:pool:unskip`,(()=>{n.enterWith(i),i=void 0}))}}},18612:(e,t,r)=>{"use strict";const{CLIENT_PORT_KEY:n}=r(12909),s=r(1961);e.exports=class extends s{static get id(){return"memcached"}start({client:e,server:t,query:r}){const s=function(e,t,r){if(!t)if(1===e.servers.length)t=e.servers[0];else{let n=e.redundancy&&e.redundancy<e.servers.length;const s=r.redundancyEnabled;n&&s?(n=e.HashRing.range(r.key,e.redundancy+1,!0),t=n.shift()):t=e.HashRing.get(r.key)}return t&&t.split(":")}(e,t,r);this.startSpan("memcached.command",{service:this.config.service,resource:r.type,type:"memcached",kind:"client",meta:{"memcached.command":r.command,"out.host":s[0],[n]:s[1]}})}}},51493:(e,t,r)=>{"use strict";const n=r(76830),s=r(53979);e.exports=class extends n{static get id(){return"microgateway-core"}constructor(...e){super(...e),this.addSub("apm:microgateway-core:request:handle",(({req:e})=>{this.setFramework(e,"microgateway",this.config)})),this.addSub("apm:microgateway-core:request:route",(({req:e,route:t})=>{s.setRoute(e,t)})),this.addSub("apm:microgateway-core:request:error",this.addError)}}},20954:(e,t,r)=>{"use strict";const n=r(57363),{storage:s}=r(60445),{TEST_STATUS:i,TEST_PARAMETERS:o,finishAllTraceSpans:a,getTestSuitePath:c,getTestParametersString:u,getTestSuiteCommonTags:p,addIntelligentTestRunnerSpanTags:l,TEST_SOURCE_START:d}=r(90186),{COMPONENT:h}=r(12909);e.exports=class extends n{static get id(){return"mocha"}constructor(...e){super(...e),this._testSuites=new Map,this._testNameToParams={},this.sourceRoot=process.cwd(),this.addSub("ci:mocha:test-suite:code-coverage",(({coverageFiles:e,suiteFile:t})=>{if(!this.itrConfig||!this.itrConfig.isCodeCoverageEnabled)return;const r=this._testSuites.get(t),n=[...e,t].map((e=>c(e,this.sourceRoot))),s={traceId:r.context()._traceId,spanId:r.context()._spanId,files:n};this.tracer._exporter.exportCoverage(s)})),this.addSub("ci:mocha:test-suite:start",(e=>{const t=s.getStore(),r=p(this.command,this.frameworkVersion,c(e.file,this.sourceRoot),"mocha"),n=this.tracer.startSpan("mocha.test_suite",{childOf:this.testModuleSpan,tags:{[h]:this.constructor.id,...this.testEnvironmentMetadata,...r}});this.enter(n,t),this._testSuites.set(e.file,n)})),this.addSub("ci:mocha:test-suite:finish",(e=>{const t=s.getStore();if(t&&t.span){const t=s.getStore().span;t.context()._tags[i]||t.setTag(i,e),t.finish()}})),this.addSub("ci:mocha:test-suite:error",(e=>{const t=s.getStore();if(t&&t.span){const t=s.getStore().span;t.setTag("error",e),t.setTag(i,"fail")}})),this.addSub("ci:mocha:test:start",(({test:e,testStartLine:t})=>{const r=s.getStore(),n=this.startTestSpan(e,t);this.enter(n,r)})),this.addSub("ci:mocha:test:finish",(e=>{const t=s.getStore();if(t&&t.span){const t=s.getStore().span;t.setTag(i,e),t.finish(),a(t)}})),this.addSub("ci:mocha:test:skip",(e=>{const t=s.getStore();if(!t){const r=this.startTestSpan(e);this.enter(r,t)}})),this.addSub("ci:mocha:test:error",(e=>{const t=s.getStore();if(e&&t&&t.span){const r=t.span;"Pending"!==e.constructor.name||this.forbidPending?(r.setTag(i,"fail"),r.setTag("error",e)):r.setTag(i,"skip")}})),this.addSub("ci:mocha:test:parameterize",(({name:e,params:t})=>{this._testNameToParams[e]=t})),this.addSub("ci:mocha:session:finish",(({status:e,isSuitesSkipped:t,testCodeCoverageLinesTotal:r})=>{if(this.testSessionSpan){const{isSuitesSkippingEnabled:n,isCodeCoverageEnabled:s}=this.itrConfig||{};this.testSessionSpan.setTag(i,e),this.testModuleSpan.setTag(i,e),l(this.testSessionSpan,this.testModuleSpan,{isSuitesSkipped:t,isSuitesSkippingEnabled:n,isCodeCoverageEnabled:s,testCodeCoverageLinesTotal:r}),this.testModuleSpan.finish(),this.testSessionSpan.finish(),a(this.testSessionSpan)}this.itrConfig=null,this.tracer._exporter.flush()}))}startTestSpan(e,t){const r=e.fullTitle(),{file:n,title:s}=e,i={},a=u(this._testNameToParams,s);a&&(i[o]=a),t&&(i[d]=t);const p=c(n,this.sourceRoot),l=this._testSuites.get(n);return super.startTestSpan(r,p,l,i)}}},29955:(e,t,r)=>{"use strict";const n=r(90532),{moleculerTags:s}=r(24346);e.exports=class extends n{static get id(){return"moleculer"}static get operation(){return"call"}start({actionName:e,opts:t}){const r=this.startSpan("moleculer.call",{service:this.config.service,resource:e,kind:"client"});this.tracer.inject(r,"text_map",t.meta)}finish({broker:e,ctx:t}){const r=this.activeSpan;if(t){const n=(t.endpoint||{}).node||{};this.addHost(n.hostname,n.port),r.addTags(s(e,t,this.config))}r.finish()}}},97806:(e,t,r)=>{"use strict";const n=r(22647),s=r(29955),i=r(35905);e.exports=class extends i{static get id(){return"moleculer"}static get plugins(){return{server:n,client:s}}}},22647:(e,t,r)=>{"use strict";const n=r(25399),{moleculerTags:s}=r(24346);e.exports=class extends n{static get id(){return"moleculer"}static get operation(){return"action"}start({action:e,ctx:t,broker:r}){const n=this.tracer.extract("text_map",t.meta);this.startSpan("moleculer.action",{childOf:n||this.activeSpan,service:this.config.service,resource:e.name,kind:"server",type:"web",meta:{"resource.name":e.name,...s(r,t,this.config)}})}}},24346:e=>{"use strict";e.exports={moleculerTags:function(e,t,r){const n=t.service||{},s=t.action||{},i=r.meta&&t.meta;return{"moleculer.context.action":s.name,"moleculer.context.meta":i,"moleculer.context.node_id":t.nodeID,"moleculer.context.request_id":t.requestID,"moleculer.context.service":n.name,"moleculer.namespace":e.namespace,"moleculer.node_id":e.nodeID}}}},71162:(e,t,r)=>{"use strict";const n=r(96284);function s(e){return!("object"==typeof(t=e)&&null!==t&&!(t instanceof Array));var t}function i(e){return Buffer.isBuffer(e)||"function"==typeof e||c(e)}function o(e){if(a(e)&&(e=e.toJSON()),i(e))return"?";if(s(e))return e;const t={},r=[{input:e,output:t,depth:0}];for(;r.length;){const{input:e,output:t,depth:n}=r.pop(),o=n+1;for(const c in e){if("function"==typeof e[c])continue;let u=e[c];a(u)&&(u="function"==typeof u.toJSON?u.toJSON():"?"),n>=10||i(u)?t[c]="?":s(u)?t[c]=u:r.push({input:u,output:t[c]={},depth:o})}}return t}function a(e){return e&&e._bsontype&&!c(e)}function c(e){return e&&"Binary"===e._bsontype}e.exports=class extends n{static get id(){return"mongodb-core"}static get component(){return"mongodb"}start({ns:e,ops:t,options:r={},name:n}){const s=function(e){if(e&&"object"==typeof e&&!Array.isArray(e))return e.query?JSON.stringify(o(e.query)):e.filter?JSON.stringify(o(e.filter)):void 0}(t),i=(a=function(e,t,r,n){const s=[n,t];return e.config.queryInResourceName&&r&&s.push(r),s.join(" ")}(this,e,s,n),a.slice(0,Math.min(a.length,1e4)));var a;this.startSpan("mongodb.query",{service:this.config.service,resource:i,type:"mongodb",kind:"client",meta:{"db.name":e,"mongodb.query":s,"out.host":r.host,"out.port":r.port}})}}},11071:(e,t,r)=>{"use strict";const n=r(12909),s=r(96284);e.exports=class extends s{static get id(){return"mysql"}static get system(){return"mysql"}start(e){const t=(r=this.config,s=e.conf,"function"==typeof r.service?r.service(s):r.service);var r,s;this.startSpan(`${this.system}.query`,{service:t,resource:e.sql,type:"sql",kind:"client",meta:{"db.type":this.system,"db.user":e.conf.user,"db.name":e.conf.database,"out.host":e.conf.host,[n]:e.conf.port}}),e.sql=this.injectDbmQuery(e.sql,t)}}},37277:(e,t,r)=>{"use strict";const n=r(11071);e.exports=class extends n{static get id(){return"mysql2"}}},38777:(e,t,r)=>{"use strict";const n=r(63391),s=r(33714),i=r(31619);e.exports=class extends n{static get id(){return"net"}constructor(...e){super(...e),this._ipc=new s(...e),this._tcp=new i(...e)}configure(e){this._ipc.configure(e),this._tcp.configure(e)}}},33714:(e,t,r)=>{"use strict";const n=r(90532);e.exports=class extends n{static get id(){return"net"}static get operation(){return"ipc"}start({options:e}){this.startSpan("ipc.connect",{service:this.config.service,resource:e.path,kind:"client",meta:{"ipc.path":e.path}})}}},31619:(e,t,r)=>{"use strict";const{CLIENT_PORT_KEY:n}=r(12909),s=r(90532);e.exports=class extends s{static get id(){return"net"}static get operation(){return"tcp"}constructor(...e){super(...e),this.addTraceSub("connection",(({socket:e})=>{this.activeSpan.addTags({"tcp.local.address":e.localAddress,"tcp.local.port":e.localPort})}))}start({options:e}){const t=e.host||"localhost",r=e.port||0,s=e.family||4;this.startSpan("tcp.connect",{service:this.config.service,resource:[t,r].filter((e=>e)).join(":"),kind:"client",meta:{"tcp.remote.host":t,"tcp.family":`IPv${s}`,"tcp.local.address":"","out.host":t},metrics:{"tcp.remote.port":r,"tcp.local.port":0,[n]:r}})}}},89719:(e,t,r)=>{"use strict";const n=r(63391),{storage:s}=r(60445),i=r(45032),{COMPONENT:o}=r(12909);e.exports=class extends n{static get id(){return"next"}constructor(...e){super(...e),this._requests=new WeakMap,this.addSub("apm:next:request:start",(({req:e,res:t})=>{const r=s.getStore(),n=r?r.span:r,a=this.tracer.startSpan("next.request",{childOf:n,tags:{[o]:this.constructor.id,"service.name":this.config.service||this.tracer._service,"resource.name":e.method,"span.type":"web","span.kind":"server","http.method":e.method}});i.sample(a,this.config.measured,!0),this.enter(a,r),this._requests.set(a,e)})),this.addSub("apm:next:request:error",this.addError),this.addSub("apm:next:request:finish",(({req:e,res:t})=>{const r=s.getStore();if(!r)return;const n=r.span,i=n.context()._tags.error;this.config.validateStatus(t.statusCode)||i||n.setTag("error",!0),n.addTags({"http.status_code":t.statusCode}),this.config.hooks.request(n,e,t),n.finish()})),this.addSub("apm:next:page:load",(({page:e})=>{const t=s.getStore();if(!t)return;const r=t.span,n=this._requests.get(r);(!r.context()._tags["next.page"]||"/404"!==e&&"/500"!==e&&"/_error"!==e)&&r.addTags({[o]:this.constructor.id,"resource.name":`${n.method} ${e}`.trim(),"next.page":e})}))}configure(e){return super.configure(function(e){const t=function(e){return{request:e.hooks&&e.hooks.request||(()=>{})}}(e),r="function"==typeof e.validateStatus?e.validateStatus:e=>e<500;return Object.assign({},e,{hooks:t,validateStatus:r})}(e))}}},59015:(e,t,r)=>{"use strict";const n=r(49959);e.exports=class extends n{static get id(){return"opensearch"}}},83464:(e,t,r)=>{"use strict";const{CLIENT_PORT_KEY:n}=r(12909),s=r(96284),i=r(63178);e.exports=class extends s{static get id(){return"oracledb"}static get system(){return"oracle"}start({query:e,connAttrs:t}){const r=function(e,t){return"function"==typeof e.service?e.service(t):e.service}(this.config,t),s=function(e){try{return new URL(`http://${e}`)}catch(e){return i.error(e),{}}}(t.connectString);this.startSpan("oracle.query",{service:r,resource:e,type:"sql",kind:"client",meta:{"db.user":this.config.user,"db.instance":s.pathname&&s.pathname.substring(1),"db.hostname":s.hostname,[n]:s.port}})}}},27433:(e,t,r)=>{"use strict";const n=r(63391),s=r(24395),i=r(55041);e.exports=class extends n{static get id(){return"paperplane"}constructor(...e){super(...e),this.server=new i(...e),this.logger=new s(...e)}configure(e){this.server.configure(e),this.logger.configure(e)}}},24395:(e,t,r)=>{"use strict";const n=r(99642);e.exports=class extends n{static get id(){return"paperplane"}}},55041:(e,t,r)=>{"use strict";const n=r(76830),s=r(53979);e.exports=class extends n{static get id(){return"paperplane"}constructor(...e){super(...e),this.addSub("apm:paperplane:request:handle",(e=>{this.setFramework(e,"paperplane",this.config)})),this.addSub("apm:paperplane:request:route",(({req:e,route:t})=>{s.setRoute(e,t)}))}}},76145:(e,t,r)=>{"use strict";const{CLIENT_PORT_KEY:n}=r(12909),s=r(96284);e.exports=class extends s{static get id(){return"pg"}static get operation(){return"query"}static get system(){return"postgres"}start({params:e={},query:t,processId:r}){const s=function(e,t){return"function"==typeof e.service?e.service(t):e.service}(this.config,e),i=t.text;this.startSpan("pg.query",{service:s,resource:i,type:"sql",kind:"client",meta:{"db.type":"postgres","db.pid":r,"db.name":e.database,"db.user":e.user,"out.host":e.host,[n]:e.port}}),t.text=this.injectDbmQuery(t.text,s)}}},50633:(e,t,r)=>{"use strict";const n=r(99642);e.exports=class extends n{static get id(){return"pino"}}},6099:(e,t,r)=>{"use strict";const{storage:n}=r(60445),s=r(57363),{TEST_STATUS:i,finishAllTraceSpans:o,getTestSuitePath:a,getTestSuiteCommonTags:c,TEST_SOURCE_START:u}=r(90186),{RESOURCE_NAME:p}=r(43620),{COMPONENT:l}=r(12909);e.exports=class extends s{static get id(){return"playwright"}constructor(...e){super(...e),this._testSuites=new Map,this.addSub("ci:playwright:session:finish",(({status:e,onDone:t})=>{this.testModuleSpan.setTag(i,e),this.testSessionSpan.setTag(i,e),this.testModuleSpan.finish(),this.testSessionSpan.finish(),o(this.testSessionSpan),this.tracer._exporter.flush(t)})),this.addSub("ci:playwright:test-suite:start",(e=>{const t=n.getStore(),r=a(e,this.rootDir),s=c(this.command,this.frameworkVersion,r,"playwright"),i=this.tracer.startSpan("playwright.test_suite",{childOf:this.testModuleSpan,tags:{[l]:this.constructor.id,...this.testEnvironmentMetadata,...s}});this.enter(i,t),this._testSuites.set(r,i)})),this.addSub("ci:playwright:test-suite:finish",(e=>{const t=n.getStore(),r=t&&t.span;r&&(r.setTag(i,e),r.finish())})),this.addSub("ci:playwright:test:start",(({testName:e,testSuiteAbsolutePath:t,testSourceLine:r})=>{const s=n.getStore(),i=a(t,this.rootDir),o=this.startTestSpan(e,i,r);this.enter(o,s)})),this.addSub("ci:playwright:test:finish",(({testStatus:e,steps:t,error:r})=>{const s=n.getStore(),a=s&&s.span;a&&(a.setTag(i,e),r&&a.setTag("error",r),t.forEach((e=>{const t=e.startTime.getTime(),r=this.tracer.startSpan("playwright.step",{childOf:a,startTime:t,tags:{[l]:this.constructor.id,"playwright.step":e.title,[p]:e.title}});e.error&&r.setTag("error",e.error),r.finish(t+e.duration)})),a.finish(),o(a))}))}startTestSpan(e,t,r){const n=this._testSuites.get(t);return super.startTestSpan(e,t,n,{[u]:r})}}},78551:(e,t,r)=>{"use strict";const{CLIENT_PORT_KEY:n}=r(12909),s=r(1961),i=r(65617);function o(e,t){return e.splitByInstance&&t?e.service?`${e.service}-${t}`:t:e.service}function a(e,t){if(!t||"AUTH"===e)return e;for(let r=0,n=t.length;r<n;r++)if("function"!=typeof t[r]&&(e=`${e} ${c(t[r])}`).length>1e3)return u(e,1e3);return e}function c(e){switch(typeof e){case"string":case"number":return u(String(e),100);default:return"?"}}function u(e,t){return e.length>t&&(e=e.substr(0,t-3)+"..."),e}function p(e){for(let t=0;t<e.length;t++)e[t]=String(e[t]).toUpperCase()}e.exports=class extends s{static get id(){return"redis"}static get system(){return"redis"}start({db:e,command:t,args:r,connectionOptions:s={},connectionName:i}){const c=t,u=t.toUpperCase();if(!this.config.filter(u))return this.skip();this.startSpan("redis.command",{service:o(this.config,i),resource:c,type:"redis",kind:"client",meta:{"db.type":"redis","db.name":e||"0","redis.raw_command":a(u,r),"out.host":s.host,[n]:s.port}})}configure(e){super.configure(function(e){e.allowlist&&p(e.allowlist),e.whitelist&&p(e.whitelist),e.blocklist&&p(e.blocklist),e.blacklist&&p(e.blacklist);const t=i.getFilter(e);return Object.assign({},e,{filter:t})}(e))}}},56674:(e,t,r)=>{"use strict";const n=r(76830),s=r(53979);e.exports=class extends n{static get id(){return"restify"}constructor(...e){super(...e),this.addSub("apm:restify:request:handle",(({req:e})=>{this.setFramework(e,"restify",this.config)})),this.addSub("apm:restify:request:route",(({req:e,route:t})=>{s.setRoute(e,t)}))}configure(e){return super.configure({...e,middleware:!1})}}},40004:(e,t,r)=>{"use strict";const n=r(85945),{storage:s}=r(60445);e.exports=class extends n{static get id(){return"rhea"}constructor(...e){super(...e),this.addTraceSub("dispatch",(({state:e})=>{s.getStore().span.setTag("amqp.delivery.state",e)}))}start({msgObj:e}){const t=function(e){let t="amq.topic",r={};return e.receiver&&e.receiver.options&&(r=e.receiver.options),r.source&&r.source.address&&(t=r.source.address),t}(e),r=function(e,t){if(e.message)return t.extract("text_map",e.message.delivery_annotations)}(e,this.tracer);this.startSpan("amqp.receive",{childOf:r,service:this.config.service,resource:t,type:"worker",kind:"consumer",meta:{component:"rhea","amqp.link.source.address":t,"amqp.link.role":"receiver"}})}}},22959:(e,t,r)=>{"use strict";const n=r(93670),s=r(40004),i=r(35905);e.exports=class extends i{static get id(){return"rhea"}static get plugins(){return{producer:n,consumer:s}}}},93670:(e,t,r)=>{"use strict";const{CLIENT_PORT_KEY:n}=r(12909),s=r(35966);e.exports=class extends s{static get id(){return"rhea"}static get operation(){return"send"}constructor(...e){super(...e),this.addTraceSub("encode",this.encode.bind(this))}start({targetAddress:e,host:t,port:r}){const s=e||"amq.topic";this.startSpan("amqp.send",{service:this.config.service||`${this.tracer._service}-amqp-producer`,resource:s,kind:"producer",meta:{component:"rhea","amqp.link.target.address":s,"amqp.link.role":"sender","out.host":t,[n]:r}})}encode(e){!function(e,t,r){e&&(e.delivery_annotations=e.delivery_annotations||{},t.inject(r,"text_map",e.delivery_annotations))}(e,this.tracer,this.activeSpan)}}},76830:(e,t,r)=>{"use strict";const n=r(53979),s=r(93168),i=r(45032),{storage:o}=r(60445),{COMPONENT:a}=r(12909);e.exports=class extends s{static get id(){return"router"}constructor(...e){super(...e),this._storeStack=[],this._contexts=new WeakMap,this.addSub(`apm:${this.constructor.id}:middleware:enter`,(({req:e,name:t,route:r})=>{const s=this._getActive(e)||this._getStoreSpan();if(!s)return;const i=this._getMiddlewareSpan(t,s),a=this._createContext(e,r,s);s!==i&&a.middleware.push(i);const c=o.getStore();this._storeStack.push(c),this.enter(i,c),n.patch(e),n.setRoute(e,a.route)})),this.addSub(`apm:${this.constructor.id}:middleware:next`,(({req:e})=>{const t=this._contexts.get(e);t&&t.stack.pop()})),this.addSub(`apm:${this.constructor.id}:middleware:finish`,(({req:e})=>{const t=this._contexts.get(e);t&&0!==t.middleware.length&&t.middleware.pop().finish()})),this.addSub(`apm:${this.constructor.id}:middleware:exit`,(({req:e})=>{const t=this._storeStack.pop(),r=t&&t.span;this.enter(r,t)})),this.addSub(`apm:${this.constructor.id}:middleware:error`,(({req:e,error:t})=>{if(n.addError(e,t),!this.config.middleware)return;const r=this._getActive(e);r&&r.setTag("error",t)})),this.addSub("apm:http:server:request:finish",(({req:e})=>{const t=this._contexts.get(e);if(!t)return;let r;for(;r=t.middleware.pop();)r.finish()}))}_getActive(e){const t=this._contexts.get(e);if(t)return 0===t.middleware.length?t.span:t.middleware[t.middleware.length-1]}_getStoreSpan(){const e=o.getStore();return e&&e.span}_getMiddlewareSpan(e,t){if(!1===this.config.middleware)return t;const r=this.tracer.startSpan(`${this.constructor.id}.middleware`,{childOf:t,tags:{[a]:this.constructor.id,"resource.name":e||"<anonymous>"}});return i.sample(r,this.config.measured),r}_createContext(e,t,r){let n=this._contexts.get(e);return t&&"/"!==t&&"*"!==t||(t=""),n?(n.stack.push(t),(t=n.stack.join("")).length>n.route.length&&(n.route=t)):(n={span:r,stack:[t],route:t,middleware:[]},this._contexts.set(e,n)),n}}},63321:(e,t,r)=>{"use strict";const n=r(25399);function s(e,t,r){return t&&(e+=" "+t),r&&(e+=" "+JSON.stringify(i(r))),e}function i(e){const t={};if("object"!=typeof(r=e)||null===r||r instanceof Array||Buffer.isBuffer(e))return"?";var r;for(const r in e)"function"!=typeof e[r]&&(t[r]=i(e[r]));return t}e.exports=class extends n{static get id(){return"sharedb"}start({actionName:e,request:t}){const r=this.startSpan("sharedb.request",{service:this.config.service,resource:s(e,t.c,t.q),kind:"server",meta:{"sharedb.action":e}});this.config.hooks&&this.config.hooks.receive&&this.config.hooks.receive(r,t)}finish({request:e,res:t}){const r=this.activeSpan;this.config.hooks&&this.config.hooks.reply&&this.config.hooks.reply(r,e,t),r.finish()}}},43077:(e,t,r)=>{"use strict";const{CLIENT_PORT_KEY:n}=r(12909),s=r(96284);e.exports=class extends s{static get id(){return"tedious"}static get operation(){return"request"}static get system(){return"mssql"}start({queryOrProcedure:e,connectionConfig:t}){this.startSpan("tedious.request",{service:this.config.service,resource:e,type:"sql",kind:"client",meta:{"db.type":"mssql",component:"tedious","out.host":t.server,[n]:t.options.port,"db.user":t.userName||t.authentication.options.userName,"db.name":t.options.database,"db.instance":t.options.instanceName}})}}},93168:(e,t,r)=>{"use strict";const n=r(63391),s=r(53979);e.exports=class extends n{static get id(){return"web"}configure(e){return super.configure(s.normalizeConfig(e))}setFramework(e,t,r){s.setFramework(e,t,r)}}},34485:(e,t,r)=>{"use strict";const n=r(99642);e.exports=class extends n{static get id(){return"winston"}}},7496:(e,t,r)=>{"use strict";e.exports=r(79298)},79298:e=>{"use strict";const t=new WeakMap;function r(e,t){Object.setPrototypeOf(t,e);const r=Object.getOwnPropertyDescriptors(e),n=Reflect.ownKeys(r);for(const e of n)try{Object.defineProperty(t,e,r[e])}catch(e){}}function n(e,n,s){return"function"==typeof n?function(e,n){o(n),function(e){if(Function.prototype.toString.call(e).startsWith("class"))throw new Error("Target is a native class constructor and cannot be wrapped.")}(e);const s=function(){return n.apply(this,arguments)};return t.set(s,(()=>{n=e})),r(e,s),s}(e,n):function(e,n,s){!function(e,t){if(!e)throw new Error("No target object provided.");if("object"!=typeof e&&"function"!=typeof e)throw new Error("Invalid target.");if(!e[t])throw new Error(`No original method ${t}.`);if("function"!=typeof e[t])throw new Error(`Original method ${t} is not a function.`)}(e,n),o(s);const i=e[n],a=s(i),c=Object.getOwnPropertyDescriptor(e,n),u={configurable:!0,...c};if(r(i,a),c){if(t.set(a,(()=>Object.defineProperty(e,n,c))),c.get||c.set?u.get=()=>a:u.value=a,!1===c.configurable)return Object.create(e,{[n]:u})}else t.set(a,(()=>delete e[n])),u.value=a,u.writable=!0;return Object.defineProperty(e,n,u),e}(e,n,s)}function s(e,r){if(!e)return e;const n=t.get(r?e[r]:e);return n?(n(),e):e}function i(e){return Array.isArray(e)?e:[e]}function o(e){if(!e)throw new Error("No function provided.");if("function"!=typeof e)throw new Error("Target is not a function.")}e.exports={wrap:n,massWrap:function(e,t,r){e=i(e),t=i(t);for(const s of e)for(const e of t)n(s,e,r)},unwrap:s,massUnwrap:function(e,t){e=i(e),t=i(t);for(const r of e)for(const e of t)s(r,e)}}},66170:(e,t,r)=>{"use strict";if(!global._ddtrace){const e=r(49290);Object.defineProperty(global,"_ddtrace",{value:new e,enumerable:!1,configurable:!0,writable:!0}),global._ddtrace.default=global._ddtrace,global._ddtrace.tracer=global._ddtrace}e.exports=global._ddtrace},45032:(e,t,r)=>{"use strict";const{MEASURED:n}=r(43620);e.exports={sample(e,t,r){"object"==typeof t?this.sample(e,t[e.context()._name],r):void 0!==t?e.setTag(n,!!t):r&&e.setTag(n,!0)}}},59550:e=>{"use strict";e.exports={HTTP_INCOMING_BODY:"server.request.body",HTTP_INCOMING_QUERY:"server.request.query",HTTP_INCOMING_HEADERS:"server.request.headers.no_cookies",HTTP_INCOMING_URL:"server.request.uri.raw",HTTP_INCOMING_METHOD:"server.request.method",HTTP_INCOMING_ENDPOINT:"server.request.framework_endpoint",HTTP_INCOMING_PARAMS:"server.request.path_params",HTTP_INCOMING_COOKIES:"server.request.cookies",HTTP_INCOMING_RESPONSE_CODE:"server.response.status",HTTP_INCOMING_RESPONSE_HEADERS:"server.response.headers.no_cookies",HTTP_INCOMING_REMOTE_IP:"server.request.client_ip",HTTP_INCOMING_REMOTE_PORT:"server.request.client_port",HTTP_CLIENT_IP:"http.client_ip",USER_ID:"usr.id"}},31512:e=>{"use strict";e.exports={html:'\x3c!-- Sorry, you\'ve been blocked --\x3e\n<!DOCTYPE html>\n<html lang="en">\n\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width,initial-scale=1">\n    <title>You\'ve been blocked</title>\n    <style>\n        a,\n        body,\n        div,\n        html,\n        span {\n            margin: 0;\n            padding: 0;\n            border: 0;\n            font-size: 100%;\n            font: inherit;\n            vertical-align: baseline\n        }\n\n        body {\n            background: -webkit-radial-gradient(26% 19%, circle, #fff, #f4f7f9);\n            background: radial-gradient(circle at 26% 19%, #fff, #f4f7f9);\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            -webkit-box-pack: center;\n            -ms-flex-pack: center;\n            justify-content: center;\n            -webkit-box-align: center;\n            -ms-flex-align: center;\n            align-items: center;\n            -ms-flex-line-pack: center;\n            align-content: center;\n            width: 100%;\n            min-height: 100vh;\n            line-height: 1;\n            flex-direction: column\n        }\n\n        p {\n            display: block\n        }\n\n\n        main {\n            text-align: center;\n            flex: 1;\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            -webkit-box-pack: center;\n            -ms-flex-pack: center;\n            justify-content: center;\n            -webkit-box-align: center;\n            -ms-flex-align: center;\n            align-items: center;\n            -ms-flex-line-pack: center;\n            align-content: center;\n            flex-direction: column\n        }\n\n        p {\n            font-size: 18px;\n            line-height: normal;\n            color: #646464;\n            font-family: sans-serif;\n            font-weight: 400\n        }\n\n        a {\n            color: #4842b7\n        }\n\n        footer {\n            width: 100%;\n            text-align: center\n        }\n\n        footer p {\n            font-size: 16px\n        }\n    </style>\n</head>\n\n<body>\n    <main>\n        <p>Sorry, you cannot access this page. Please contact the customer service team.</p>\n    </main>\n    <footer>\n        <p>Security provided by <a\n                href="https://www.datadoghq.com/product/security-platform/application-security-monitoring/"\n                target="_blank">Datadog</a></p>\n    </footer>\n</body>\n\n</html>\n',json:'{\n  "errors": [\n    {\n      "title": "You\'ve been blocked",\n      "detail": "Sorry, you cannot access this page. Please contact the customer service team. Security provided by Datadog."\n    }\n  ]\n}'}},27044:(e,t,r)=>{"use strict";const n=r(63178),s=r(31512);let i=s.html,o=s.json;e.exports={block:function(e,t,r,s){if(t.headersSent)return void n.warn("Cannot send blocking response when headers have already been sent");let a,c;const u=e.headers.accept&&e.headers.accept.split(",").map((e=>e.split(";",1)[0].trim()));u&&u.includes("text/html")&&!u.includes("application/json")?(a="text/html",c=i):(a="application/json",c=o),r.addTags({"appsec.blocked":"true"}),t.statusCode=403,t.setHeader("Content-Type",a),t.setHeader("Content-Length",Buffer.byteLength(c)),t.end(c),s&&s.abort()},setTemplates:function(e){e.appsec.blockedTemplateHtml&&(i=e.appsec.blockedTemplateHtml),e.appsec.blockedTemplateJson&&(o=e.appsec.blockedTemplateJson)}}},90105:(e,t,r)=>{"use strict";const n=r(63178),s=r(59550),i=r(9624),o=r(9043),a=new Set(Object.values(s));class c{static loadDDWAF(e,t){try{const{DDWAF:n}=r(3852);return new n(e,t)}catch(e){throw n.error("AppSec could not load native package. In-app WAF features will not be available."),e}}constructor(e,t){const{wafTimeout:r,obfuscatorKeyRegex:n,obfuscatorValueRegex:s}=t;this.ddwaf=c.loadDDWAF(e,{obfuscatorKeyRegex:n,obfuscatorValueRegex:s}),this.wafTimeout=r,o.metricsQueue.set("_dd.appsec.waf.version",this.ddwaf.constructor.version());const{loaded:u,failed:p,errors:l}=this.ddwaf.rulesInfo;o.metricsQueue.set("_dd.appsec.event_rules.loaded",u),o.metricsQueue.set("_dd.appsec.event_rules.error_count",p),p&&o.metricsQueue.set("_dd.appsec.event_rules.errors",JSON.stringify(l)),o.metricsQueue.set("manual.keep","true"),this.wafContextCache=new WeakMap;const d=this,h={method:(e,t)=>d.action(e,t)},f=new Set;for(const t of e.rules)for(const e of t.conditions)for(const t of e.parameters.inputs){const e=t.address.split(":",2)[0];a.has(e)&&!f.has(e)&&(f.add(e),i.manager.addSubscription({addresses:[e],callback:h}))}}action(e,t){let r;if(t){const e=t.get("context");e&&(this.wafContextCache.has(e)?r=this.wafContextCache.get(e):(r=this.ddwaf.createContext(),this.wafContextCache.set(e,r)))}r&&!r.disposed||(r=this.ddwaf.createContext()),e[s.HTTP_INCOMING_RESPONSE_CODE]&&(e[s.HTTP_INCOMING_RESPONSE_CODE]=e[s.HTTP_INCOMING_RESPONSE_CODE]+"");try{const n=process.hrtime.bigint(),s=r.run(e,this.wafTimeout);return s.durationExt=parseInt(process.hrtime.bigint()-n),this.applyResult(s,t)}catch(e){n.error("Error while running the AppSec WAF"),n.error(e)}finally{r.dispose()}}applyResult(e,t){return o.reportMetrics({duration:e.totalRuntime/1e3,durationExt:e.durationExt/1e3,rulesVersion:this.ddwaf.rulesInfo.version},t),e.data&&"[]"!==e.data&&o.reportAttack(e.data,t),e.actions}updateRuleData(e){this.ddwaf.updateRuleData(e)}clear(){this.ddwaf.dispose(),this.wafContextCache=new WeakMap}}e.exports=c},47405:(e,t,r)=>{"use strict";e.exports={get DDWAF(){return r(90105)}}},66490:(e,t,r)=>{"use strict";const{AsyncLocalStorage:n}=r(50852);e.exports=new n},65211:(e,t,r)=>{"use strict";const n=r(83928);e.exports={incomingHttpRequestStart:n.channel("dd-trace:incomingHttpRequestStart"),incomingHttpRequestEnd:n.channel("dd-trace:incomingHttpRequestEnd")}},5310:(e,t,r)=>{"use strict";const n=r(48314);class s{static setManager(e){this.manager=e}constructor(){this.store=new Map,this.allAddresses=new Set,this.newAddresses=new Set}clear(){this.store=new Map,this.allAddresses=new Set,this.newAddresses=new Set}setValue(e,t){return this.allAddresses.size>=1024||"object"!=typeof t&&this.store.get(e)===t||(this.store.set(e,t),this.allAddresses.add(e),this.newAddresses.add(e)),this}dispatch(){if(0===this.newAddresses.size)return[];const e=s.manager.dispatch(this.newAddresses,this.allAddresses,this);return this.newAddresses.clear(),e}resolve(e){return this.store.get(e)}}e.exports={SubscriptionManager:class{constructor(){this.addressToSubscriptions=new Map,this.addresses=new Set,this.subscriptions=new Set}clear(){this.addressToSubscriptions=new Map,this.addresses=new Set,this.subscriptions=new Set}addSubscription(e){if(e.addresses.length&&!this.subscriptions.has(e)){for(let t=0;t<e.addresses.length;++t){const r=e.addresses[t];this.addresses.add(r);const n=this.addressToSubscriptions.get(r);void 0===n?this.addressToSubscriptions.set(r,[e]):n.push(e)}this.subscriptions.add(e)}}matchSubscriptions(e,t){const r=new Set,n=new Set,s=new Set;return e.forEach((e=>{const i=this.addressToSubscriptions.get(e);if(void 0!==i)for(let e=0;e<i.length;++e){const o=i[e];if(!0!==s.has(o)&&(s.add(o),!0===o.addresses.every(t.has,t))){for(let e=0;e<o.addresses.length;++e)r.add(o.addresses[e]);n.add(o)}}})),{addresses:r,subscriptions:n}}dispatch(e,t,r){const s=this.matchSubscriptions(e,t),i={};return s.addresses.forEach((e=>{i[e]=r.resolve(e)})),n.runSubscriptions(s.subscriptions,i)}},Context:s}},9624:(e,t,r)=>{"use strict";const{SubscriptionManager:n,Context:s}=r(5310),i=r(66490),o=new n;function a(){const e=i.getStore();return e&&e.get("context")}function c(e){return o.addresses.has(e)}s.setManager(o),e.exports={manager:o,startContext:function(){const e=new Map;return e.set("context",new s),i.enterWith(e),e},getContext:a,needsAddress:c,propagate:function(e,t=a()){if(!t)return;const r=Object.keys(e);for(let n=0;n<r.length;++n){const s=r[n];c(s)&&t.setValue(s,e[s])}return t.dispatch()}}},48314:(e,t,r)=>{"use strict";const n=r(66490),s=r(63178);let i=!1;e.exports={runSubscriptions:function(e,t){const r=[];if(i||!e.size)return r;i=!0;const o=n.getStore(),a=new Set;for(const n of e){if(a.has(n.callback))continue;let e;a.add(n.callback);try{e=n.callback.method(t,o)}catch(e){s.warn(`Error running subscription ${e}`)}r.push(e)}return i=!1,r}}},15657:(e,t,r)=>{"use strict";e.exports={WEAK_CIPHER_ANALYZER:r(62068),WEAK_HASH_ANALYZER:r(17942),SQL_INJECTION_ANALYZER:r(65305),PATH_TRAVERSAL_ANALYZER:r(86728),COMMAND_INJECTION_ANALYZER:r(8573),LDAP_ANALYZER:r(37897)}},8573:(e,t,r)=>{"use strict";const n=r(20242);e.exports=new class extends n{constructor(){super("COMMAND_INJECTION"),this.addSub("datadog:child_process:execution:start",(({command:e})=>this.analyze(e)))}}},62038:(e,t,r)=>{"use strict";const n=r(15657);e.exports={enableAllAnalyzers:function(){for(const e in n)n[e].configure(!0)},disableAllAnalyzers:function(){for(const e in n)n[e].configure(!1)}}},20242:(e,t,r)=>{"use strict";const n=r(94244),{isTainted:s,getRanges:i}=r(57453);e.exports=class extends n{_isVulnerable(e,t){return!!e&&s(t,e)}_getEvidence(e,t){return{value:e,ranges:i(t,e)}}}},37897:(e,t,r)=>{"use strict";const n=r(20242);e.exports=new class extends n{constructor(){super("LDAP_INJECTION"),this.addSub("datadog:ldapjs:client:search",(({base:e,filter:t})=>this.analyzeAll(e,t)))}}},86728:(e,t,r)=>{"use strict";const n=r(71017),{getIastContext:s}=r(54047),{storage:i}=r(60445),o=r(20242);e.exports=new class extends o{constructor(){super("PATH_TRAVERSAL"),this.addSub("apm:fs:operation:start",(e=>{const t=[];e.dest&&t.push(e.dest),e.existingPath&&t.push(e.existingPath),e.file&&t.push(e.file),e.newPath&&t.push(e.newPath),e.oldPath&&t.push(e.oldPath),e.path&&t.push(e.path),e.prefix&&t.push(e.prefix),e.src&&t.push(e.src),e.target&&t.push(e.target),this.analyze(t)})),this.exclusionList=[n.join("node_modules","send")+n.sep]}_isExcluded(e){let t=!1;return e&&e.path&&(t=this.exclusionList.some((t=>e.path.includes(t)))),t}analyze(e){const t=s(i.getStore());if(t&&e&&e.constructor===Array)for(const r of e)if(this._isVulnerable(r,t)){this._report(r,t);break}}}},65305:(e,t,r)=>{"use strict";const n=r(20242);e.exports=new class extends n{constructor(){super("SQL_INJECTION"),this.addSub("apm:mysql:query:start",(({sql:e})=>this.analyze(e))),this.addSub("apm:mysql2:query:start",(({sql:e})=>this.analyze(e))),this.addSub("apm:pg:query:start",(({query:e})=>this.analyze(e.text)))}}},94244:(e,t,r)=>{"use strict";const n=r(63391),{storage:s}=r(60445),i=r(17067),{getFirstNonDDPathAndLine:o}=r(94167),{createVulnerability:a,addVulnerability:c}=r(42138),{getIastContext:u}=r(54047),p=r(32027);e.exports=class extends n{constructor(e){super(),this._type=e}_wrapHandler(e){return(t,r)=>{try{e(t,r)}catch(e){i.errorAndPublish(e)}}}addSub(e,t){super.addSub(e,this._wrapHandler(t))}_isVulnerable(e,t){return!1}_isExcluded(e){return!1}_report(e,t){const r=this._getEvidence(e,t),n=this._getLocation();if(!this._isExcluded(n)){const e=t&&t.rootSpan&&t.rootSpan.context().toSpanId(),s=a(this._type,r,e,n);c(t,s)}}_reportIfVulnerable(e,t){return!(!this._isVulnerable(e,t)||!this._checkOCE(t)||(this._report(e,t),0))}_getEvidence(e){return{value:e}}_getLocation(){return o()}analyze(e){const t=s.getStore(),r=u(t);t&&!r||this._reportIfVulnerable(e,r)}analyzeAll(...e){const t=s.getStore(),r=u(t);if(!t||r)for(let t=0;t<e.length;t++){const n=e[t];if(this._isVulnerable(n,r)){this._checkOCE(r)&&this._report(n,r);break}}}_checkOCE(e){return p.hasQuota(p.OPERATIONS.REPORT_VULNERABILITY,e)}}},62068:(e,t,r)=>{"use strict";const n=r(94244),s=new Set(["des","des-cbc","des-cfb","des-cfb1","des-cfb8","des-ecb","des-ede","des-ede-cbc","des-ede-cfb","des-ede-ecb","des-ede-ofb","des-ede3","des-ede3-cbc","des-ede3-cfb","des-ede3-cfb1","des-ede3-cfb8","des-ede3-ecb","des-ede3-ofb","des-ofb","des3","des3-wrap","rc2","rc2-128","rc2-40","rc2-40-cbc","rc2-64","rc2-64-cbc","rc2-cbc","rc2-cfb","rc2-ecb","rc2-ofb","blowfish","rc4","rc4-40","rc4-hmac-md5"].map((e=>e.toLowerCase())));e.exports=new class extends n{constructor(){super("WEAK_CIPHER"),this.addSub("datadog:crypto:cipher:start",(({algorithm:e})=>this.analyze(e)))}_isVulnerable(e){return!(!e||"string"!=typeof e)&&s.has(e.toLowerCase())}}},17942:(e,t,r)=>{"use strict";const n=r(94244),s=new Set(["md4","md4WithRSAEncryption","RSA-MD4","RSA-MD5","md5","md5-sha1","ssl3-md5","md5WithRSAEncryption","RSA-SHA1","RSA-SHA1-2","sha1","md5-sha1","sha1WithRSAEncryption","ssl3-sha1"].map((e=>e.toLowerCase())));e.exports=new class extends n{constructor(){super("WEAK_HASH"),this.addSub("datadog:crypto:hashing:start",(({algorithm:e})=>this.analyze(e)))}_isVulnerable(e){return"string"==typeof e&&s.has(e.toLowerCase())}}},54047:e=>{const t=Symbol("_dd.iast.context"),r=Symbol("_dd.iast.transactionId");e.exports={getIastContext:function(e,r){let n=e&&e[t];return n||(n=r&&r[t]),n},saveIastContext:function(e,r,n){if(e&&r)return e[t]=n,r[t]=n,e[t]},cleanIastContext:function(e,r,n){return e&&(n||(n=e[t]),e[t]=null),r&&(n||(n=r[t]),r[t]=null),!!n&&(Object.keys(n).forEach((e=>delete n[e])),!0)},IAST_CONTEXT_KEY:t,IAST_TRANSACTION_ID:r}},17067:(e,t,r)=>{"use strict";const n=r(63178),s=r(63686),{calculateDDBasePath:i}=r(66456),o=i(__dirname),a=/^\s*at\s/gm;const c={debug(e){return n.debug(e),this},info(e){return n.info(e),this},warn(e){return n.warn(e),this},error(e){return n.error(e),this},publish(e,t){if(s.isLevelEnabled(t)){const r=function(e,t){try{let r;e="function"==typeof e?e():e,r=String("object"==typeof e&&e&&e.message||e);let n={message:r,level:t};if(e.stack&&(n=function(e,t){if(!t)return e;let r=t.split("\n");const n=r.findIndex((e=>e.match(a))),s=n>-1&&r[n].includes(o);return r=r.filter(((e,t)=>s&&t<n||e.includes(o))).map((e=>e.replace(o,""))),e.stack_trace=r.join("\n"),s||(e.message="omitted"),e}(n,e.stack),""===n.stack_trace))return;return n}catch(e){n.error(e)}}(e,t);s.publish(r)}return this},debugAndPublish(e){return this.debug(e),this.publish(e,"DEBUG")},infoAndPublish(e){return this.info(e),this.publish(e,"DEBUG")},warnAndPublish(e){return this.warn(e),this.publish(e,"WARN")},errorAndPublish(e){return this.error(e),this.publish(e,"ERROR")}};e.exports=c},74372:(e,t,r)=>{const n=r(42138),{enableAllAnalyzers:s,disableAllAnalyzers:i}=r(62038),o=r(53979),{storage:a}=r(60445),c=r(32027),u=r(83928),p=r(54047),{enableTaintTracking:l,disableTaintTracking:d,createTransaction:h,removeTransaction:f}=r(75110),m=r(63686),g=u.channel("dd-trace:incomingHttpRequestStart"),_=u.channel("dd-trace:incomingHttpRequestEnd");function y(e){if(e&&e.req){const t=a.getStore();if(t){const r=o.getContext(e.req);if(r){const n=r.span,s=c.acquireRequest(n);if(s){const s=p.saveIastContext(t,r,{rootSpan:n,req:e.req});h(n.context().toSpanId(),s),c.initializeRequestContext(s)}n.addTags&&n.addTags({"_dd.iast.enabled":s?"1":"0"})}}}}function b(e){if(e&&e.req){const t=a.getStore(),r=o.getContext(e.req),s=p.getIastContext(t,r);if(s&&s.rootSpan){const e=s.vulnerabilities,t=s.rootSpan;n.sendVulnerabilities(e,t),f(s)}p.cleanIastContext(t,r,s)&&c.releaseRequest()}}e.exports={enable:function(e,t){s(),l(e.iast),g.subscribe(y),_.subscribe(b),c.configure(e.iast),c.startGlobalContext(),n.start(e,t),m.start()},disable:function(){i(),d(),c.finishGlobalContext(),g.hasSubscribers&&g.unsubscribe(y),_.hasSubscribers&&_.unsubscribe(b),n.stop(),m.stop()},onIncomingHttpRequestEnd:b,onIncomingHttpRequestStart:y}},32027:e=>{"use strict";const t="oce",r="REPORT_VULNERABILITY",n={};let s,i={},o=0;const a={REPORT_VULNERABILITY:{hasQuota:e=>{const t=e&&e.tokens&&e.tokens[r]>0;return t&&e.tokens[r]--,t},name:r,initialTokenBucketSize:()=>"number"==typeof i.maxContextOperations?i.maxContextOperations:2,initContext:function(e){e.tokens[r]=this.initialTokenBucketSize()}}};function c(){const e={tokens:{}};for(const t in a)a[t].initContext(e);return e}function u(){Object.assign(n,c())}e.exports={OVERHEAD_CONTROLLER_CONTEXT_KEY:t,OPERATIONS:a,startGlobalContext:function(){s||(u(),s=setInterval((()=>{u()}),6e4),s.unref&&s.unref())},finishGlobalContext:function(){s&&(clearInterval(s),s=null)},_resetGlobalContext:u,initializeRequestContext:function(e){e&&(e[t]=c())},hasQuota:function(e,r){const s=function(e){return e&&e[t]?e[t]:n}(r);return e.hasQuota(s)},acquireRequest:function(e){if(o>0){const t=i&&"number"==typeof i.requestSampling?i.requestSampling:30;if(e.context().toSpanId().slice(-2)<=t)return o--,!0}return!1},releaseRequest:function(){o<i.maxConcurrentRequests&&o++},configure:function(e){i=e,o=i.maxConcurrentRequests}}},94167:(e,t,r)=>{"use strict";const n=r(71017),s=r(77282),{calculateDDBasePath:i}=r(66456),o={getFirstNonDDPathAndLine:function(){return u(function(){const e=Error.prepareStackTrace,t=Error.stackTraceLimit;let r;return Error.stackTraceLimit=100,Error.prepareStackTrace=function(e,t){r=t},(new Error).stack,Error.prepareStackTrace=e,Error.stackTraceLimit=t,r}())},getFirstNonDDPathAndLineFromCallsites:u,calculateDDBasePath:i,ddBasePath:i(__dirname)},a=[n.join(n.sep,"node_modules","diagnostics_channel")],c=["node:diagnostics_channel","diagnostics_channel","node:child_process","child_process","node:async_hooks","async_hooks"];function u(e){if(e)for(let t=0;t<e.length;t++){const r=e[t],i=r.getFileName();if(!p(r)&&-1===i.indexOf(o.ddBasePath))return{path:n.relative(s.cwd(),i),line:r.getLineNumber()}}return null}function p(e){if(e.isNative())return!0;const t=e.getFileName();if(!t)return!0;for(let e=0;e<a.length;e++)if(t.indexOf(a[e])>-1)return!0;for(let e=0;e<c.length;e++)if(0===t.indexOf(c[e]))return!0;return!1}e.exports=o},48054:e=>{"use strict";e.exports={csiMethods:[{src:"plusOperator",operator:!0},{src:"trim"},{src:"trimStart",dst:"trim"},{src:"trimEnd"},{src:"concat"},{src:"substring"},{src:"substr"},{src:"slice"},{src:"replace"}]}},66773:e=>{"use strict";e.exports={isPrivateModule:function(e){return e&&-1===e.indexOf("node_modules")},isNotLibraryFile:function(e){return e&&-1===e.indexOf("dd-trace-js")&&-1===e.indexOf("dd-trace")}}},75110:(e,t,r)=>{"use strict";const{enableRewriter:n,disableRewriter:s}=r(26413),{createTransaction:i,removeTransaction:o,setMaxTransactions:a,enableTaintOperations:c,disableTaintOperations:u}=r(57453),p=r(96311);e.exports={enableTaintTracking(e){n(),c(),p.enable(),a(e.maxConcurrentRequests)},disableTaintTracking(){s(),u(),p.disable()},setMaxTransactions:a,createTransaction:i,removeTransaction:o}},57453:(e,t,r)=>{"use strict";const n=r(39740),{IAST_TRANSACTION_ID:s}=r(54047),i=r(17067),{TaintTracking:o,TaintTrackingDummy:a}=r(20256);e.exports={createTransaction:function(e,t){e&&t&&(t[s]=n.createTransaction(e))},removeTransaction:function(e){if(e&&e[s]){const t=e[s];n.removeTransaction(t),delete e[s]}},newTaintedString:function(e,t,r,i){let o=t;if(e&&e[s]){const a=e[s];o=n.newTaintedString(a,t,r,i)}else o=t;return o},taintObject:function(e,t,r){let o=t;if(e&&e[s]){const a=e[s],c=[{parent:null,property:null,value:t}],u=new WeakSet;for(;c.length>0;){const{parent:e,property:t,value:s}=c.pop();if(null!==s)try{if("string"==typeof s){const i=n.newTaintedString(a,s,t,r);e?e[t]=i:o=i}else if("object"==typeof s&&!u.has(s)){u.add(s);const e=Object.keys(s);for(let r=0;r<e.length;r++){const n=e[r];c.push({parent:s,property:t?`${t}.${n}`:n,value:s[n]})}}}catch(e){i.error(`Error visiting property : ${t}`).errorAndPublish(e)}}}return o},isTainted:function(e,t){let r=!1;if(e&&e[s]){const i=e[s];r=n.isTainted(i,t)}else r=!1;return r},getRanges:function(e,t){let r=[];if(e&&e[s]){const i=e[s];r=n.getRanges(i,t)}else r=[];return r},enableTaintOperations:function(){global._ddiast=o},disableTaintOperations:function(){global._ddiast=a},setMaxTransactions:function(e){e&&n.setMaxTransactions(e)},IAST_TRANSACTION_ID:s}},87677:e=>{"use strict";e.exports={HTTP_REQUEST_BODY:"http.request.body",HTTP_REQUEST_PARAMETER:"http.request.parameter"}},96311:(e,t,r)=>{"use strict";const n=r(63391),{getIastContext:s}=r(54047),{storage:i}=r(60445),{HTTP_REQUEST_PARAMETER:o,HTTP_REQUEST_BODY:a}=r(87677),{taintObject:c}=r(57453);e.exports=new class extends n{constructor(){super(),this._type="taint-tracking",this.addSub("datadog:body-parser:read:finish",(({request:e})=>this._taintTrackingHandler(a,e,"body"))),this.addSub("datadog:qs:parse:finish",(({qs:e})=>this._taintTrackingHandler(o,e)))}_taintTrackingHandler(e,t,r){const n=s(i.getStore());r?t[r]=c(n,t[r],e):t=c(n,t,e)}enable(){this.configure(!0)}disable(){this.configure(!1)}}},26413:(e,t,r)=>{"use strict";const n=r(98188),s=r(7496),i=r(17067),{isPrivateModule:o,isNotLibraryFile:a}=r(66773),{csiMethods:c}=r(48054);let u,p;let l=Error.prepareStackTrace;e.exports={enableRewriter:function(){(function(){if(!u)try{const e=r(99020),t=e.Rewriter;p=e.getPrepareStackTrace,u=new t({csiMethods:c})}catch(e){i.error("Unable to initialize TaintTracking Rewriter").errorAndPublish(e)}return u})()&&(Object.defineProperty(global.Error,"prepareStackTrace",function(){let e=p(l);return{get:()=>e,set(t){e=p(t),l=t}}}()),s.wrap(n.prototype,"_compile",(e=>function(e){return function(t,r){try{if(o(r)&&a(r)){const n=u.rewrite(t,r);if(n&&n.content)return e.apply(this,[n.content,r])}}catch(e){i.error(`Error rewriting ${r}`).errorAndPublish(e)}return e.apply(this,[t,r])}}(e))))},disableRewriter:function(){s.unwrap(n.prototype,"_compile"),Error.prepareStackTrace=l}}},20256:(e,t,r)=>{"use strict";const n=r(39740),{storage:s}=r(60445),i=r(54047),o=r(17067);function a(e){return e}const c={plusOperator:a,trim:a,trimEnd:a,concat:a,substring:a,substr:a,slice:a,replace:a};function u(){const e=s.getStore(),t=i.getIastContext(e);return t&&t[i.IAST_TRANSACTION_ID]}function p(){return Array.prototype.some.call(arguments,(e=>"string"!=typeof e))}function l(e,...t){let r;if(t&&0!==t.length)if(1===t.length){const e=t[0];r=(t,r,n)=>p(t,n)||r!==e}else r=(e,r,n)=>p(e,n)||!function(e,t){return t.some((t=>e===t))}(r,t);else r=(e,t,r)=>p(e,r);return function(e,t){return function(r,n,s,...i){try{if(t(r,n,s))return r;const o=u();if(o)return e(o,r,s,...i)}catch(e){o.error(`Error invoking CSI ${s}`).errorAndPublish(e)}return r}}(e,r)}const d={plusOperator:function(e,t,r){try{if(p(e)||p(t)&&p(r))return e;const s=u();if(s)return n.concat(s,e,t,r)}catch(e){o.error("Error invoking CSI plusOperator").errorAndPublish(e)}return e},trim:l(((e,t,r)=>n.trim(e,t,r)),String.prototype.trim,String.prototype.trimStart)},h={...function(e,t){const r={};return e.forEach((e=>{-1===t.indexOf(e)&&(r[e]=l(((t,r,s,...i)=>n[e](t,r,s,...i)),String.prototype[e]))})),r}(Object.keys(c),Object.keys(d)),...d};e.exports={TaintTracking:h,TaintTrackingDummy:c}},6222:(e,t,r)=>{"use strict";const n=r(63178),s=new Map;let i=1e4,o=0;function a(e){let t=0;const r=e.length;for(let n=0;n<r;n++)t=(31*t|0)+e.charCodeAt(n)|0;return t}const c={add(e){try{if(!function(e){return e&&e.level&&e.message}(e))return void n.info("IAST log collector discarding invalid log");if(s.size>=i)return void o++;const t=function(e){if(!e)return 0;let t=e.level?a(e.level):0;return t=(31*t|0)+(e.message?a(e.message):0)|0,t=(31*t|0)+(e.stack_trace?a(e.stack_trace):0)|0,t}(e);if(!s.has(t))return s.set(t,e),!0}catch(e){n.error(`Unable to add log to logCollector: ${e.message}`)}return!1},drain(){if(0===s.size)return;const e=[];return e.push(...s.values()),o>0&&e.push({message:`Omitted ${o} entries due to overflowing`,level:"ERROR",tags:undefined}),this.reset(),e},reset(e){s.clear(),o=0,e&&(i=e)}};c.reset(),e.exports=c},63686:(e,t,r)=>{"use strict";const n=r(83928),s=r(6222),{sendData:i}=r(70842),o=r(63178),a=n.channel("datadog:telemetry:start"),c=n.channel("datadog:telemetry:stop");let u,p,l,d;function h(){try{const e=s.drain();e&&i(u,p,l,"logs",e)}catch(e){o.error(e)}}function f(e){return m(u)&&("DEBUG"!==e||u.telemetry.debug)}function m(e){return e&&e.telemetry&&e.telemetry.logCollection}function g(e){return e&&m(e.config)?(o.info("IAST telemetry logs starting"),u=e.config,p=e.application,l=e.host,e.heartbeatInterval&&(d=setInterval(h,e.heartbeatInterval),d.unref()),!0):(o.info("IAST telemetry logs start received but log collection is not enabled or configuration is incorrect"),!1)}function _(){y()}function y(){m(u)&&(o.info("IAST telemetry logs stopping"),u=null,p=null,l=null,a.hasSubscribers&&a.unsubscribe(g),c.hasSubscribers&&c.unsubscribe(_),clearInterval(d))}e.exports={start:function(){a.subscribe(g),c.subscribe(_)},stop:y,publish:function(e){e&&f(e.level)&&s.add(e)},isLevelEnabled:f}},42138:(e,t,r)=>{const{MANUAL_KEEP:n}=r(43620),s=r(39593),i="vulnerabilities",o="_dd.iast.json",a=new s({max:1e3});let c,u,p=!0;function l(e,t){let r;r=t?`${e}:${t.path}:${t.line}`:e;let n=0,s=0;const i=r.length;for(let e=0;e<i;e++)n=(n<<5)-n+r.charCodeAt(s++);return n}function d(e,t){if(!e.ranges)return{value:e.value};const r=[];let n=0;return e.ranges.forEach(((s,i)=>{n<s.start&&r.push({value:e.value.substring(n,s.start)}),r.push({value:e.value.substring(s.start,s.end),source:t[i]}),n=s.end})),n<e.value.length&&r.push({value:e.value.substring(n)}),{valueParts:r}}function h(e,t){if(e&&e.length){let r=t;if(!r&&c&&(r=c.startSpan("vulnerability",{type:"vulnerability"}),e.forEach((e=>{e.location.spanId=r.context().toSpanId()}))),r&&r.addTags){const s={sources:[],vulnerabilities:[]};if(function(e){if(!p)return e;return e.filter((e=>{const t=`${e.type}${e.hash}`;return!a.get(t)&&(a.set(t,!0),!0)}))}(e).forEach((e=>{if(function(e){return e&&e.type&&e.evidence&&e.evidence.value&&e.location&&e.location.spanId}(e)){const t=[],r=function(e){return e.evidence.ranges?e.evidence.ranges.map((e=>({origin:e.iinfo.type,name:e.iinfo.parameterName,value:e.iinfo.parameterValue}))):[]}(e);r.forEach((e=>{let r=s.sources.findIndex((t=>t.origin===e.origin&&t.name===e.name&&t.value===e.value));-1===r&&(r=s.sources.length,s.sources.push(e)),t.push(r)})),s.vulnerabilities.push(function(e,t){const r={type:e.type,hash:e.hash,evidence:d(e.evidence,t),location:{spanId:e.location.spanId}};return e.location.path&&(r.location.path=e.location.path),e.location.line&&(r.location.line=e.location.line),r}(e,t))}})),s.vulnerabilities.length>0){const e={};e[o]=JSON.stringify(s),e[n]="true",r.addTags(e),t||r.finish()}}}return o}function f(){a.clear()}e.exports={createVulnerability:function(e,t,r,n){return e&&t?{type:e,evidence:t,location:{spanId:r||0,...n},hash:l(e,n)}:null},addVulnerability:function(e,t){t&&t.evidence&&t.type&&t.location&&(e&&e.rootSpan?(e[i]=e[i]||[],e[i].push(t)):h([t]))},sendVulnerabilities:h,clearCache:f,start:function(e,t){p=e.iast.deduplicationEnabled,p&&(u=setInterval(f,36e5),u.unref()),c=t},stop:function(){u&&(clearInterval(u),u=null)}}},97136:(e,t,r)=>{"use strict";const n=r(63178),s=r(86266),i=r(48024),{incomingHttpRequestStart:o,incomingHttpRequestEnd:a}=r(65211),c=r(9624),u=r(59550),p=r(9043),l=r(53979),{extractIp:d}=r(82611),{HTTP_CLIENT_IP:h}=r(43620),{block:f,setTemplates:m}=r(27044);let g,_=!1;function y({req:e,res:t,abortController:r}){const n=l.root(e);if(!n)return;const s=d(g,e);n.addTags({"_dd.appsec.enabled":1,"_dd.runtime_family":"nodejs",[h]:s});const i=c.startContext();i.set("req",e),i.set("res",t);const o=i.get("context");if(s){const i=c.propagate({[u.HTTP_CLIENT_IP]:s},o);if(!i||!r)return;for(const s of i)if(s&&s.includes("block")){f(e,t,n,r);break}}}function b(e){const t=c.getContext();if(!t)return;const r=Object.assign({},e.req.headers);delete r.cookie;const n=Object.assign({},e.res.getHeaders());delete n["set-cookie"];const s={[u.HTTP_INCOMING_URL]:e.req.url,[u.HTTP_INCOMING_HEADERS]:r,[u.HTTP_INCOMING_METHOD]:e.req.method,[u.HTTP_INCOMING_REMOTE_IP]:e.req.socket.remoteAddress,[u.HTTP_INCOMING_REMOTE_PORT]:e.req.socket.remotePort,[u.HTTP_INCOMING_RESPONSE_CODE]:e.res.statusCode,[u.HTTP_INCOMING_RESPONSE_HEADERS]:n};if(void 0!==e.req.body&&null!==e.req.body&&(s[u.HTTP_INCOMING_BODY]=e.req.body),e.req.query&&"object"==typeof e.req.query&&(s[u.HTTP_INCOMING_QUERY]=e.req.query),e.req.route&&"string"==typeof e.req.route.path&&(s[u.HTTP_INCOMING_ENDPOINT]=e.req.route.path),e.req.params&&"object"==typeof e.req.params&&(s[u.HTTP_INCOMING_PARAMS]=e.req.params),e.req.cookies&&"object"==typeof e.req.cookies){s[u.HTTP_INCOMING_COOKIES]={};for(const t of Object.keys(e.req.cookies))s[u.HTTP_INCOMING_COOKIES][t]=[e.req.cookies[t]]}c.propagate(s,t),p.finishRequest(e.req,t)}e.exports={enable:function(e){if(!_)try{m(e),function(e,t){s.applyRules(t,e.appsec),i.enableAsmData(e.appsec),p.setRateLimit(e.appsec.rateLimit),o.subscribe(y),a.subscribe(b),c.manager.addresses.add(u.HTTP_INCOMING_HEADERS),c.manager.addresses.add(u.HTTP_INCOMING_ENDPOINT),c.manager.addresses.add(u.HTTP_INCOMING_RESPONSE_HEADERS),c.manager.addresses.add(u.HTTP_INCOMING_REMOTE_IP),_=!0,g=e}(e,e.appsec.rules)}catch(e){!function(e){n.error("Unable to start AppSec"),n.error(e),s.clearAllRules(),i.disableAsmData()}(e)}},disable:function(){_=!1,g=null,s.clearAllRules(),i.disableAsmData(),o.hasSubscribers&&o.unsubscribe(y),a.hasSubscribers&&a.unsubscribe(b)},incomingHttpStartTranslator:y,incomingHttpEndTranslator:b}},37501:e=>{"use strict";e.exports={ASM_ACTIVATION:1n<<1n,ASM_IP_BLOCKING:1n<<2n,ASM_DD_RULES:1n<<3n,ASM_USER_BLOCKING:1n<<7n}},48024:(e,t,r)=>{"use strict";const n=r(19112),s=r(37501),i=r(86266);let o;function a(e,t,r){i.updateAsmData(e,t,r)}e.exports={enable:function(e){o=new n(e),void 0===e.appsec.enabled&&(o.updateCapabilities(s.ASM_ACTIVATION,!0),o.on("ASM_FEATURES",((t,n)=>{if(n&&n.asm&&"boolean"==typeof n.asm.enabled){let s;s="apply"===t||"modify"===t?n.asm.enabled:e.appsec.enabled,s?r(97136).enable(e):r(97136).disable()}})))},enableAsmData:function(e){o&&e&&!e.customRulesProvided&&(o.updateCapabilities(s.ASM_IP_BLOCKING,!0),o.updateCapabilities(s.ASM_USER_BLOCKING,!0),o.on("ASM_DATA",a))},disableAsmData:function(){o&&(o.updateCapabilities(s.ASM_IP_BLOCKING,!1),o.updateCapabilities(s.ASM_USER_BLOCKING,!1),o.off("ASM_DATA",a))}}},19112:(e,t,r)=>{"use strict";const n=r(55489),{EventEmitter:s}=r(82361),i=r(67455),o=r(4147).version,a=r(88550),c=r(63178),u=n(),p=Buffer.alloc(1).toString("base64");function l(e){return e?JSON.parse(Buffer.from(e,"base64").toString()):null}const d=/^(?:datadog\/\d+|employee)\/([^/]+)\/([^/]+)\/[^/]+$/;function h(e){const t=d.exec(e);if(!t||!t[1]||!t[2])throw new Error(`Unable to parse path ${e}`);return{product:t[1],id:t[2]}}e.exports=class extends s{constructor(e){super();const t=1e3*e.remoteConfig.pollInterval;this.scheduler=new i((e=>this.poll(e)),t),this.requestOptions={url:e.url,hostname:e.hostname,port:e.port,method:"POST",path:"/v0.7/config"},this.state={client:{state:{root_version:1,targets_version:0,config_states:[],has_error:!1,error:"",backend_client_state:""},id:u,products:[],is_tracer:!0,client_tracer:{runtime_id:e.tags["runtime-id"],language:"node",tracer_version:o,service:e.service,env:e.env,app_version:e.version},capabilities:p},cached_target_files:[]},this.appliedConfigs=new Map}updateCapabilities(e,t){const r=Buffer.from(this.state.client.capabilities,"base64").toString("hex");let n=BigInt(`0x${r}`);t?n|=e:n&=~e;let s=n.toString(16);s.length%2&&(s=`0${s}`),this.state.client.capabilities=Buffer.from(s,"hex").toString("base64")}on(e,t){return super.on(e,t),this.state.client.products=this.eventNames(),this.scheduler.start(),this}off(e,t){return super.off(e,t),this.state.client.products=this.eventNames(),this.state.client.products.length||this.scheduler.stop(),this}poll(e){a(JSON.stringify(this.state),this.requestOptions,((t,r,n)=>{if(404===n)return e();if(t)return c.error(t),e();if(this.state.client.state.has_error&&(this.state.client.state.has_error=!1,this.state.client.state.error=""),r&&"{}"!==r)try{this.parseConfig(JSON.parse(r))}catch(t){c.error(`Could not parse remote config response: ${t}`),this.state.client.state.has_error=!0,this.state.client.state.error=t.toString()}e()}))}parseConfig({client_configs:e=[],targets:t,target_files:r=[]}){const n=[],s=[],i=[];for(const t of this.appliedConfigs.values())e.includes(t.path)||n.push(t);if(t=l(t)){for(const n of e){const e=t.signed.targets[n];if(!e)throw new Error(`Unable to find target for path ${n}`);const o=this.appliedConfigs.get(n),a={};if(o){if(o.hashes.sha256===e.hashes.sha256)continue;i.push(a)}else s.push(a);const c=r.find((e=>e.path===n));if(!c)throw new Error(`Unable to find file for path ${n}`);const{product:u,id:p}=h(n);Object.assign(a,{path:n,product:u,id:p,version:e.custom.v,apply_state:1,apply_error:"",length:e.length,hashes:e.hashes,file:l(c.raw)})}this.state.client.state.targets_version=t.signed.version,this.state.client.state.backend_client_state=t.signed.custom.opaque_backend_state}if(n.length||s.length||i.length){this.dispatch(n,"unapply"),this.dispatch(s,"apply"),this.dispatch(i,"modify"),this.state.client.state.config_states=[],this.state.cached_target_files=[];for(const e of this.appliedConfigs.values())this.state.client.state.config_states.push({id:e.id,version:e.version,product:e.product,apply_state:e.apply_state,apply_error:e.apply_error}),this.state.cached_target_files.push({path:e.path,length:e.length,hashes:Object.entries(e.hashes).map((e=>({algorithm:e[0],hash:e[1]})))})}}dispatch(e,t){for(const r of e){try{this.emit(r.product,t,r.file,r.id),r.apply_state=2}catch(e){r.apply_state=3,r.apply_error=e.toString()}"unapply"===t?this.appliedConfigs.delete(r.path):this.appliedConfigs.set(r.path,r)}}}},67455:e=>{"use strict";e.exports=class{constructor(e,t){this._timer=null,this._callback=e,this._interval=t}start(){this._timer||this.runAfterDelay(0)}runAfterDelay(e=this._interval){this._timer=setTimeout(this._callback,e,(()=>this.runAfterDelay())),this._timer.unref&&this._timer.unref()}stop(){clearTimeout(this._timer),this._timer=null}}},9043:(e,t,r)=>{"use strict";const n=r(59550),s=r(66167),i=r(53979);let o=new s(100);const a=["accept","accept-encoding","accept-language","content-encoding","content-language","content-length","content-type","forwarded","forwarded-for","host","true-client-ip","user-agent","via","x-client-ip","x-cluster-client-ip","x-forwarded","x-forwarded-for","x-real-ip"],c=["content-encoding","content-language","content-length","content-type"],u=new Map;function p(e){if(!e)return{};const t=e.resolve(n.HTTP_INCOMING_HEADERS);return{remote_ip:e.resolve(n.HTTP_INCOMING_REMOTE_IP),headers:d(t,a,"http.request.headers.")}}function l(e){if(!e)return{};const t=e.resolve(n.HTTP_INCOMING_RESPONSE_HEADERS);return{endpoint:e.resolve(n.HTTP_INCOMING_ENDPOINT),headers:d(t,c,"http.response.headers.")}}function d(e,t,r){const n={};if(!e)return n;for(let s=0;s<t.length;++s){const i=t[s];e[i]&&(n[`${r}${h(i)}`]=e[i]+"")}return n}function h(e){return e.trim().slice(0,200).replace(/[^a-zA-Z0-9_\-:/]/g,"_").toLowerCase()}e.exports={metricsQueue:u,resolveHTTPRequest:p,resolveHTTPResponse:l,filterHeaders:d,formatHeaderName:h,reportMetrics:function(e,t){const r=t&&t.get("req"),n=i.root(r);if(!n)return!1;e.duration&&n.setTag("_dd.appsec.waf.duration",e.duration),e.durationExt&&n.setTag("_dd.appsec.waf.duration_ext",e.durationExt),e.rulesVersion&&n.setTag("_dd.appsec.event_rules.version",e.rulesVersion)},reportAttack:function(e,t){const r=t&&t.get("req"),n=i.root(r);if(!n)return!1;const s=n.context()._tags,a={"appsec.event":"true"};o.isAllowed()&&(a["manual.keep"]="true"),s["_dd.origin"]||(a["_dd.origin"]="appsec");const c=s["_dd.appsec.json"];a["_dd.appsec.json"]=c?c.slice(0,-2)+","+e.slice(1,-1)+c.slice(-2):'{"triggers":'+e+"}";const u=t.get("context");if(u){const e=p(u);Object.assign(a,e.headers);const t=e.headers["http.request.headers.user-agent"];t&&(a["http.useragent"]=t),a["network.client.ip"]=e.remote_ip}n.addTags(a)},finishRequest:function(e,t){const r=i.root(e);if(!r)return!1;if(u.size&&(r.addTags(Object.fromEntries(u)),u.clear()),!t||!r.context()._tags["appsec.event"])return!1;const n=l(t),s=n.headers;n.endpoint&&(s["http.endpoint"]=n.endpoint),r.addTags(s)},setRateLimit:function(e){o=new s(e)}}},86266:(e,t,r)=>{"use strict";const n=r(47405),s=r(9624),i=new Map,o=new Map;function a(e,t){const r=e.find((e=>e.value===t.value));return r&&!("expiration"in r)||(r&&"expiration"in t&&t.expiration>r.expiration?r.expiration=t.expiration:r&&!("expiration"in t)?delete r.expiration:r||e.push({...t})),e}function c(e){const t={...e};if(t.data){const e=[];t.data.forEach((t=>{e.push({...t})})),t.data=e}return t}e.exports={applyRules:function(e,t){if(i.has(e))return;const r=new n.DDWAF(e,t);i.set(e,r)},clearAllRules:function(){s.manager.clear();for(const[e,t]of i)t.clear(),i.delete(e);o.clear()},updateAsmData:function(e,t,r){"unapply"===e?o.delete(r):o.set(r,t);const n=function(e){const t=new Map;for(const r of e)if(r.rules_data)for(const e of r.rules_data){const r=`${e.id}+${e.type}`;if(t.has(r)){const n=t.get(r);e.data.reduce(a,n.data)}else t.set(r,c(e))}return[...t.values()]}(o.values());for(const e of i.values())e.updateRuleData(n)}}},8098:(e,t,r)=>{"use strict";const{trackUserLoginSuccessEvent:n,trackUserLoginFailureEvent:s,trackCustomEvent:i}=r(52527),{checkUserAndSetUser:o,blockRequest:a}=r(56871),{setTemplates:c}=r(27044),{setUser:u}=r(90959);e.exports=class{constructor(e,t){this._tracer=e,t&&c(t)}trackUserLoginSuccessEvent(e,t){return n(this._tracer,e,t)}trackUserLoginFailureEvent(e,t,r){return s(this._tracer,e,t,r)}trackCustomEvent(e,t){return i(this._tracer,e,t)}isUserBlocked(e){return o(this._tracer,e)}blockRequest(e,t){return a(this._tracer,e,t)}setUser(e){return u(this._tracer,e)}}},89604:e=>{"use strict";e.exports=class{trackUserLoginSuccessEvent(){}trackUserLoginFailureEvent(){}trackCustomEvent(){}isUserBlocked(){}blockRequest(){}setUser(){}}},90959:(e,t,r)=>{"use strict";const{getRootSpan:n}=r(52718),s=r(63178);function i(e,t){for(const r of Object.keys(e))t.setTag(`usr.${r}`,""+e[r])}e.exports={setUserTags:i,setUser:function(e,t){if(!t||!t.id)return void s.warn("Invalid user provided to setUser");const r=n(e);r?i(t,r):s.warn("Root span not available in setUser")}}},52527:(e,t,r)=>{"use strict";const n=r(63178),{getRootSpan:s}=r(52718),{MANUAL_KEEP:i}=r(43620),{setUserTags:o}=r(90959);function a(e,t,r,o,a=s(e)){if(!a)return void n.warn(`Root span not available in ${o}`);const c={[`appsec.events.${t}.track`]:"true",[i]:"true"};if(r)for(const e of Object.keys(r))c[`appsec.events.${t}.${e}`]=""+r[e];a.addTags(c)}e.exports={trackUserLoginSuccessEvent:function(e,t,r){if(!t||!t.id)return void n.warn("Invalid user provided to trackUserLoginSuccessEvent");const i=s(e);i?(o(t,i),a(e,"users.login.success",r,"trackUserLoginSuccessEvent",i)):n.warn("Root span not available in trackUserLoginSuccessEvent")},trackUserLoginFailureEvent:function(e,t,r,s){t&&"string"==typeof t?a(e,"users.login.failure",{"usr.id":t,"usr.exists":r?"true":"false",...s},"trackUserLoginFailureEvent"):n.warn("Invalid userId provided to trackUserLoginFailureEvent")},trackCustomEvent:function(e,t,r){t&&"string"==typeof t?a(e,t,r,"trackCustomEvent"):n.warn("Invalid eventName provided to trackCustomEvent")}}},56871:(e,t,r)=>{"use strict";const{USER_ID:n}=r(59550),s=r(9624),{getRootSpan:i}=r(52718),{block:o}=r(27044),{storage:a}=r(60445),{setUserTags:c}=r(90959),u=r(63178);e.exports={checkUserAndSetUser:function(e,t){if(!t||!t.id)return u.warn("Invalid user provided to isUserBlocked"),!1;const r=i(e);return r?r.context()._tags["usr.id"]||c(t,r):u.warn("Root span not available in isUserBlocked"),function(e){const t=s.propagate({[n]:e.id});if(!t)return!1;for(const e of t)if(e&&e.includes("block"))return!0;return!1}(t)},blockRequest:function(e,t,r){if(!t||!r){const e=a.getStore();e&&(t=t||e.req,r=r||e.res)}if(!t||!r)return u.warn("Requests or response object not available in blockRequest"),!1;const n=i(e);return n?(o(t,r,n),!0):(u.warn("Root span not available in blockRequest"),!1)}}},52718:e=>{"use strict";e.exports={getRootSpan:function(e){const t=e.scope().active();return t&&t.context()._trace.started[0]}}},36073:e=>{"use strict";e.exports={JSONEncoder:class{constructor(){this.payloads=[]}encode(e){this.payloads.push(e)}count(){return this.payloads.length}reset(){this.payloads=[]}makePayload(){const e=JSON.stringify(this.payloads);return this.reset(),e}}}},28881:(e,t,r)=>{"use strict";const n=r(63305),s=r(39791),i=r(87709),o=r(7103),a="/evp_proxy/v2";e.exports=class extends o{constructor(e){super(e);const{tags:t,prioritySampler:r,lookup:o,protocolVersion:c,headers:u}=e;this.getAgentInfo(((e,p)=>{this._isInitialized=!0;const l=function(e,t){return!e&&t.endpoints.some((e=>e.includes(a)))}(e,p);l?(this._isUsingEvpProxy=!0,this._writer=new s({url:this._url,tags:t,evpProxyPrefix:a}),this._coverageWriter=new i({url:this._url,evpProxyPrefix:a})):(this._writer=new n({url:this._url,prioritySampler:r,lookup:o,protocolVersion:c,headers:u}),this._coverageBuffer=[]),this._resolveCanUseCiVisProtocol(l),this.exportUncodedTraces(),this.exportUncodedCoverages()}))}setUrl(e,t){this._setUrl(e,t)}}},87709:(e,t,r)=>{"use strict";const n=r(88550),s=r(63178),{CoverageCIVisibilityEncoder:i}=r(35740),o=r(8221);e.exports=class extends o{constructor({url:e,evpProxyPrefix:t=""}){super(...arguments),this._url=e,this._encoder=new i(this),this._evpProxyPrefix=t}_sendPayload(e,t,r){const i={path:"/api/v2/citestcov",method:"POST",headers:{"dd-api-key":process.env.DATADOG_API_KEY||process.env.DD_API_KEY,...e.getHeaders()},timeout:15e3,url:this._url};this._evpProxyPrefix&&(i.path=`${this._evpProxyPrefix}/api/v2/citestcov`,delete i.headers["dd-api-key"],i.headers["X-Datadog-EVP-Subdomain"]="event-platform-intake"),s.debug((()=>{return`Request to the intake: ${e=i,JSON.stringify(e,((e,t)=>"dd-api-key"!==e?t:void 0))}`;var e})),n(e,i,((e,t)=>{if(e)return s.error(e),void r();s.debug(`Response from the intake: ${t}`),r()}))}}},60139:(e,t,r)=>{"use strict";const n=r(57310).URL,s=r(39791),i=r(87709),o=r(7103),a=r(63178);e.exports=class extends o{constructor(e){super(e);const{tags:t,site:r,url:o}=e;this._isInitialized=!0,this._resolveCanUseCiVisProtocol(!0),this._url=o||new n(`https://citestcycle-intake.${r}`),this._writer=new s({url:this._url,tags:t}),this._coverageUrl=o||new n(`https://event-platform-intake.${r}`),this._coverageWriter=new i({url:this._coverageUrl}),this._apiUrl=o||new n(`https://api.${r}`)}setUrl(e,t=e,r=e){this._setUrl(e,t);try{r=new n(r),this._apiUrl=r}catch(e){a.error(e)}}_getApiUrl(){return this._apiUrl}}},39791:(e,t,r)=>{"use strict";const n=r(88550),s=r(63178),{AgentlessCiVisibilityEncoder:i}=r(89553),o=r(8221);e.exports=class extends o{constructor({url:e,tags:t,evpProxyPrefix:r=""}){super(...arguments);const{"runtime-id":n,env:s,service:o}=t;this._url=e,this._encoder=new i(this,{runtimeId:n,env:s,service:o}),this._evpProxyPrefix=r}_sendPayload(e,t,r){const i={path:"/api/v2/citestcycle",method:"POST",headers:{"dd-api-key":process.env.DATADOG_API_KEY||process.env.DD_API_KEY,"Content-Type":"application/msgpack"},timeout:15e3,url:this._url};this._evpProxyPrefix&&(i.path=`${this._evpProxyPrefix}/api/v2/citestcycle`,delete i.headers["dd-api-key"],i.headers["X-Datadog-EVP-Subdomain"]="citestcycle-intake"),s.debug((()=>{return`Request to the intake: ${e=i,JSON.stringify(e,((e,t)=>"dd-api-key"!==e?t:void 0))}`;var e})),n(e,i,((e,t)=>{if(e)return s.error(e),void r();s.debug(`Response from the intake: ${t}`),r()}))}}},7103:(e,t,r)=>{"use strict";const n=r(57310).URL,{sendGitMetadata:s}=r(34963),{getItrConfiguration:i}=r(37709),{getSkippableSuites:o}=r(81033),a=r(63178),c=r(58327);function u(e){return e?Object.keys(e).reduce(((t,r)=>{if(r.startsWith("test.configuration.")){const[,n]=r.split("test.configuration.");t[n]=e[r]}return t}),{}):{}}e.exports=class extends c{constructor(e){super(e),this._timer=void 0,this._coverageTimer=void 0,this._coverageBuffer=[],this._canUseCiVisProtocol=!1;const t=setTimeout((()=>{this._resolveGit(new Error("Timeout while uploading git metadata"))}),6e4).unref(),r=setTimeout((()=>{this._resolveCanUseCiVisProtocol(!1)}),6e4).unref();this._gitUploadPromise=new Promise((e=>{this._resolveGit=r=>{clearTimeout(t),e(r)}})),this._canUseCiVisProtocolPromise=new Promise((e=>{this._resolveCanUseCiVisProtocol=t=>{clearTimeout(r),this._canUseCiVisProtocol=t,e(t)}})),process.once("beforeExit",(()=>{this._writer&&this._writer.flush(),this._coverageWriter&&this._coverageWriter.flush()}))}shouldRequestSkippableSuites(){return!!(this._config.isIntelligentTestRunnerEnabled&&this._canUseCiVisProtocol&&this._itrConfig&&this._itrConfig.isSuitesSkippingEnabled)}shouldRequestItrConfiguration(){return this._config.isIntelligentTestRunnerEnabled}canReportSessionTraces(){return this._canUseCiVisProtocol}canReportCodeCoverage(){return this._canUseCiVisProtocol}getSkippableSuites(e,t){if(!this.shouldRequestSkippableSuites())return t(null,[]);this._gitUploadPromise.then((r=>{if(r)return t(r,[]);const n={url:this._getApiUrl(),site:this._config.site,env:this._config.env,service:this._config.service,isEvpProxy:!!this._isUsingEvpProxy,custom:u(this._config.tags),...e};o(n,t)}))}getItrConfiguration(e,t){if(this.sendGitMetadata(),!this.shouldRequestItrConfiguration())return t(null,{});this._canUseCiVisProtocolPromise.then((r=>{if(!r)return t(null,{});const n={url:this._getApiUrl(),env:this._config.env,service:this._config.service,isEvpProxy:!!this._isUsingEvpProxy,custom:u(this._config.tags),...e};i(n,((e,r)=>{this._itrConfig=r,t(e,r)}))}))}sendGitMetadata(){this._config.isGitUploadEnabled&&this._canUseCiVisProtocolPromise.then((e=>{e&&s(this._getApiUrl(),!!this._isUsingEvpProxy,(e=>{e?a.error(`Error uploading git metadata: ${e.message}`):a.debug("Successfully uploaded git metadata"),this._resolveGit(e)}))}))}export(e){this._isInitialized?!this.canReportSessionTraces()&&function(e){return e.some((e=>"test_session_end"===e.type||"test_suite_end"===e.type||"test_module_end"===e.type))}(e)||this._export(e):this._traceBuffer.push(e)}exportCoverage(e){this._isInitialized?this.canReportCodeCoverage()&&this._export(e,this._coverageWriter,"_coverageTimer"):this._coverageBuffer.push(e)}flush(e=(()=>{})){if(!this._isInitialized)return e();this._writer.flush((()=>{this._coverageWriter?this._coverageWriter.flush(e):e()}))}exportUncodedCoverages(){this._coverageBuffer.forEach((e=>{this.exportCoverage(e)})),this._coverageBuffer=[]}_setUrl(e,t=e){try{e=new n(e),t=new n(t),this._url=e,this._coverageUrl=t,this._writer.setUrl(e),this._coverageWriter.setUrl(t)}catch(e){a.error(e)}}_getApiUrl(){return this._url}}},34963:(e,t,r)=>{const n=r(57147),s=r(71017),i=r(15902),o=r(88550),a=r(63178),{getLatestCommits:c,getRepositoryUrl:u,generatePackFilesForCommits:p,getCommitsToUpload:l,isShallowRepository:d,unshallowRepository:h}=r(82571);function f(e){return{method:"POST",headers:{"dd-api-key":process.env.DATADOG_API_KEY||process.env.DD_API_KEY},timeout:15e3,url:e}}function m({url:e,isEvpProxy:t,packFileToUpload:r,repositoryUrl:a,headCommit:c},u){const p=new i,l=JSON.stringify({data:{id:c,type:"commit"},meta:{repository_url:a}});p.append("pushedSha",l,{contentType:"application/json"});try{const e=n.readFileSync(r),[,t]=s.basename(r).split("-");p.append("packfile",e,{filename:t,contentType:"application/octet-stream"})}catch(e){return void u(new Error(`Could not read "${r}"`))}const d=f(e),h={...d,path:"/api/v2/git/repository/packfile",headers:{...d.headers,...p.getHeaders()}};t&&(h.path="/evp_proxy/v2/api/v2/git/repository/packfile",h.headers["X-Datadog-EVP-Subdomain"]="api",delete h.headers["dd-api-key"]),o(p,h,((e,t,r)=>{if(e){const t=new Error(`Could not upload packfiles: status code ${r}: ${e.message}`);return u(t)}u(null)}))}e.exports={sendGitMetadata:function(e,t,r){const n=u();if(!n)return r(new Error("Repository URL is empty"));d()&&h(),function({url:e,isEvpProxy:t,repositoryUrl:r},n){const s=c(),[i]=s,a=f(e),u={...a,headers:{...a.headers,"Content-Type":"application/json"},path:"/api/v2/git/repository/search_commits"};t&&(u.path="/evp_proxy/v2/api/v2/git/repository/search_commits",u.headers["X-Datadog-EVP-Subdomain"]="api",delete u.headers["dd-api-key"]);const p=JSON.stringify({meta:{repository_url:r},data:s.map((e=>({id:e,type:"commit"})))});o(p,u,((e,t)=>{if(e){const t=new Error(`Error fetching commits to exclude: ${e.message}`);return n(t)}let r;try{r=JSON.parse(t).data.map((({id:e,type:t})=>{if("commit"!==t)throw new Error("Invalid commit type response");if(/^[0-9a-f]{40}$/.test(e)||/^[0-9a-f]{64}$/.test(e))return e.replace(/[^0-9a-f]+/g,"");throw new Error("Invalid commit format")}))}catch(e){return n(new Error(`Can't parse commits to exclude response: ${e.message}`))}n(null,r,i)}))}({url:e,repositoryUrl:n,isEvpProxy:t},((s,i,o)=>{if(s)return r(s);const c=l(i);if(!c.length)return a.debug("No commits to upload"),r(null);const u=p(c);if(!u.length)return r(new Error("Failed to generate packfiles"));let d=0;const h=s=>s||d===u.length?r(s):m({packFileToUpload:u[d++],url:e,isEvpProxy:t,repositoryUrl:n,headCommit:o},h);m({packFileToUpload:u[d++],url:e,isEvpProxy:t,repositoryUrl:n,headCommit:o},h)}))}}},46356:(e,t,r)=>{"use strict";const n=r(78517),{JEST_WORKER_COVERAGE_PAYLOAD_CODE:s,JEST_WORKER_TRACE_PAYLOAD_CODE:i}=r(90186);e.exports=class{constructor(){this._writer=new n(i),this._coverageWriter=new n(s)}export(e){this._writer.append(e)}exportCoverage(e){this._coverageWriter.append(e)}flush(){this._writer.flush(),this._coverageWriter.flush()}}},78517:(e,t,r)=>{"use strict";const{JSONEncoder:n}=r(36073);e.exports=class{constructor(e){this._encoder=new n,this._interprocessCode=e}flush(){if(this._encoder.count()>0){const e=this._encoder.makePayload();this._sendPayload(e)}}append(e){this._encoder.encode(e)}_sendPayload(e){process.send&&process.send([this._interprocessCode,e])}}},37709:(e,t,r)=>{const n=r(88550),s=r(8508);e.exports={getItrConfiguration:function({url:e,isEvpProxy:t,env:r,service:i,repositoryUrl:o,sha:a,osVersion:c,osPlatform:u,osArchitecture:p,runtimeName:l,runtimeVersion:d,branch:h,custom:f},m){const g={path:"/api/v2/libraries/tests/services/setting",method:"POST",headers:{"Content-Type":"application/json"},url:e};if(t)g.path="/evp_proxy/v2/api/v2/libraries/tests/services/setting",g.headers["X-Datadog-EVP-Subdomain"]="api",g.headers["X-Datadog-NeedsAppKey"]="true";else{const e=process.env.DATADOG_API_KEY||process.env.DD_API_KEY,t=process.env.DATADOG_APP_KEY||process.env.DD_APP_KEY||process.env.DATADOG_APPLICATION_KEY||process.env.DD_APPLICATION_KEY,r="Request to settings endpoint was not done because Datadog";if(!t)return m(new Error(`${r} application key is not defined.`));if(!e)return m(new Error(`${r} API key is not defined.`));g.headers["dd-api-key"]=e,g.headers["dd-application-key"]=t}const _=JSON.stringify({data:{id:s().toString(10),type:"ci_app_test_service_libraries_settings",attributes:{test_level:"suite",configurations:{"os.platform":u,"os.version":c,"os.architecture":p,"runtime.name":l,"runtime.version":d,custom:f},service:i,env:r,repository_url:o,sha:a,branch:h}}});n(_,g,((e,t)=>{if(e)m(e);else try{const{data:{attributes:{code_coverage:e,tests_skipping:r}}}=JSON.parse(t);m(null,{isCodeCoverageEnabled:e,isSuitesSkippingEnabled:r})}catch(e){m(e)}}))}}},81033:(e,t,r)=>{const n=r(88550);e.exports={getSkippableSuites:function({url:e,isEvpProxy:t,env:r,service:s,repositoryUrl:i,sha:o,osVersion:a,osPlatform:c,osArchitecture:u,runtimeName:p,runtimeVersion:l,custom:d},h){const f={path:"/api/v2/ci/tests/skippable",method:"POST",headers:{"Content-Type":"application/json"},timeout:2e4,url:e};if(t)f.path="/evp_proxy/v2/api/v2/ci/tests/skippable",f.headers["X-Datadog-EVP-Subdomain"]="api",f.headers["X-Datadog-NeedsAppKey"]="true";else{const e=process.env.DATADOG_API_KEY||process.env.DD_API_KEY,t=process.env.DATADOG_APP_KEY||process.env.DD_APP_KEY||process.env.DATADOG_APPLICATION_KEY||process.env.DD_APPLICATION_KEY,r="Skippable suites were not fetched because Datadog";if(!t)return h(new Error(`${r} application key is not defined.`));if(!e)return h(new Error(`${r} API key is not defined.`));f.headers["dd-api-key"]=e,f.headers["dd-application-key"]=t}const m=JSON.stringify({data:{type:"test_params",attributes:{test_level:"suite",configurations:{"os.platform":c,"os.version":a,"os.architecture":u,"runtime.name":p,"runtime.version":l,custom:d},service:s,env:r,repository_url:i,sha:o}}});n(m,f,((e,t)=>{if(e)h(e);else{let r=[];try{r=JSON.parse(t).data.filter((({type:e})=>"suite"===e)).map((({attributes:{suite:e}})=>e)),h(null,r)}catch(e){h(e)}}}))}}},46376:(e,t,r)=>{"use strict";const n=r(57147),s=r(22037),i=r(57310).URL,o=r(63178),a=r(16310),c=r(71490),u=r(93954),{isTrue:p,isFalse:l}=r(66456),d=r(55489),h=Object.fromEntries||(e=>e.reduce(((e,[t,r])=>Object.assign(e,{[t]:r})),{}));function f(e){if(e)try{return n.readFileSync(e,"utf8")}catch(e){return void o.error(e)}}function m(e){try{return JSON.parse(e)}catch(e){return}}function g(e,t){if(!e)return;const r={};for(const[n,s]of Object.entries(e))r[n in t?t[n]:n]=s;return r}function _(e,t,r){if("object"!=typeof t||Array.isArray(t)||(t=t[e]),Array.isArray(t))return t.map((e=>e.toLowerCase()));void 0!==t&&o.warn("Unexpected input for config.tracePropagationStyle");const n=`DD_TRACE_PROPAGATION_STYLE_${e.toUpperCase()}`,s=c(process.env[n],process.env.DD_TRACE_PROPAGATION_STYLE);return void 0!==s?s.split(",").filter((e=>""!==e)).map((e=>e.trim().toLowerCase())):r}e.exports=class{constructor(e){e=e||{},this.debug=p(c(process.env.DD_TRACE_DEBUG,!1)),this.logger=e.logger,this.logLevel=c(e.logLevel,process.env.DD_TRACE_LOG_LEVEL,"debug"),o.use(this.logger),o.toggle(this.debug,this.logLevel,this),this.tags={},u.add(this.tags,process.env.DD_TAGS),u.add(this.tags,process.env.DD_TRACE_TAGS),u.add(this.tags,process.env.DD_TRACE_GLOBAL_TAGS),u.add(this.tags,e.tags);const t=c(process.env.DD_TRACING_ENABLED,!0),y=c(e.profiling,process.env.DD_EXPERIMENTAL_PROFILING_ENABLED,process.env.DD_PROFILING_ENABLED,!1),b=c(process.env.DD_PROFILING_EXPORTERS,"agent"),v=process.env.DD_PROFILING_SOURCE_MAP,E=c(e.logInjection,process.env.DD_LOGS_INJECTION,!1),S=c(e.runtimeMetrics,process.env.DD_RUNTIME_METRICS_ENABLED,!1),T=c(e.dbmPropagationMode,process.env.DD_DBM_PROPAGATION_MODE,"disabled"),w=c(e.hostname,process.env.DD_AGENT_HOST,process.env.DD_TRACE_AGENT_HOSTNAME,"127.0.0.1"),I=c(e.port,process.env.DD_TRACE_AGENT_PORT,"8126"),x=c(e.url,process.env.DD_TRACE_AGENT_URL,process.env.DD_TRACE_URL,null),k=c(e.isCiVisibility,!1),O=process.env.DD_CIVISIBILITY_AGENTLESS_URL,A=c(process.env.DD_CIVISIBILITY_ITR_ENABLED,!0),N=e.service||process.env.DD_SERVICE||process.env.DD_SERVICE_NAME||this.tags.service||process.env.AWS_LAMBDA_FUNCTION_NAME||a.name||"node",R=c(e.serviceMapping,process.env.DD_SERVICE_MAPPING?h(process.env.DD_SERVICE_MAPPING.split(",").map((e=>e.trim().split(":")))):{}),C=c(e.env,process.env.DD_ENV,this.tags.env),L=c(e.version,process.env.DD_VERSION,this.tags.version,a.version),D=c(e.startupLogs,process.env.DD_TRACE_STARTUP_LOGS,!1),M=c(process.env.DD_TRACE_TELEMETRY_ENABLED,!process.env.AWS_LAMBDA_FUNCTION_NAME),P=c(process.env.DD_TELEMETRY_DEBUG_ENABLED,!1),j=c(e.protocolVersion,process.env.DD_TRACE_AGENT_PROTOCOL_VERSION,"0.4"),q=c(parseInt(e.flushMinSpans),parseInt(process.env.DD_TRACE_PARTIAL_FLUSH_MIN_SPANS),1e3),U=c(process.env.DD_TRACE_OBFUSCATION_QUERY_STRING_REGEXP,'(?:p(?:ass)?w(?:or)?d|pass(?:_?phrase)?|secret|(?:api_?|private_?|public_?|access_?|secret_?)key(?:_?id)?|token|consumer_?(?:id|key|secret)|sign(?:ed|ature)?|auth(?:entication|orization)?)(?:(?:\\s|%20)*(?:=|%3D)[^&]+|(?:"|%22)(?:\\s|%20)*(?::|%3A)(?:\\s|%20)*(?:"|%22)(?:%2[^2]|%[^2]|[^"%])+(?:"|%22))|bearer(?:\\s|%20)+[a-z0-9\\._\\-]+|token(?::|%3A)[a-z0-9]{13}|gh[opsu]_[0-9a-zA-Z]{36}|ey[I-L](?:[\\w=-]|%3D)+\\.ey[I-L](?:[\\w=-]|%3D)+(?:\\.(?:[\\w.+\\/=-]|%3D|%2F|%2B)+)?|[\\-]{5}BEGIN(?:[a-z\\s]|%20)+PRIVATE(?:\\s|%20)KEY[\\-]{5}[^\\-]+[\\-]{5}END(?:[a-z\\s]|%20)+PRIVATE(?:\\s|%20)KEY|ssh-rsa(?:\\s|%20)*(?:[a-z0-9\\/\\.+]|%2F|%5C|%2B){100,}'),F=c(e.clientIpEnabled,process.env.DD_TRACE_CLIENT_IP_ENABLED&&p(process.env.DD_TRACE_CLIENT_IP_ENABLED),!1),$=c(e.clientIpHeader,process.env.DD_TRACE_CLIENT_IP_HEADER,null),B=c(e.experimental&&e.experimental.b3,process.env.DD_TRACE_EXPERIMENTAL_B3_ENABLED,!1),G=["tracecontext","datadog"];p(B)&&(G.push("b3"),G.push("b3 single header")),process.env.DD_TRACE_PROPAGATION_STYLE&&(process.env.DD_TRACE_PROPAGATION_STYLE_INJECT||process.env.DD_TRACE_PROPAGATION_STYLE_EXTRACT)&&o.warn("Use either the DD_TRACE_PROPAGATION_STYLE environment variable or separate DD_TRACE_PROPAGATION_STYLE_INJECT and DD_TRACE_PROPAGATION_STYLE_EXTRACT environment variables");const V=_("inject",e.tracePropagationStyle,G),H=_("extract",e.tracePropagationStyle,G),z=c(e.experimental&&e.experimental.runtimeId,process.env.DD_TRACE_EXPERIMENTAL_RUNTIME_ID_ENABLED,!1),K=c(e.experimental&&e.experimental.exporter,process.env.DD_TRACE_EXPERIMENTAL_EXPORTER),Q=c(e.experimental&&e.experimental.enableGetRumData,process.env.DD_TRACE_EXPERIMENTAL_GET_RUM_DATA_ENABLED,!1),W=c(process.env.DD_TRACE_X_DATADOG_TAGS_MAX_LENGTH,"512"),Y=c(e.stats,process.env.DD_TRACE_STATS_COMPUTATION_ENABLED,!1),J=c(e.traceId128BitGenerationEnabled,process.env.DD_TRACE_128_BIT_TRACEID_GENERATION_ENABLED,!1),X=c(e.traceId128BitLoggingEnabled,process.env.DD_TRACE_128_BIT_TRACEID_LOGGING_ENABLED,!1);let Z=null!=e.appsec?e.appsec:e.experimental&&e.experimental.appsec;"boolean"==typeof Z?Z={enabled:Z}:null==Z&&(Z={});const ee=c(Z.enabled,process.env.DD_APPSEC_ENABLED&&p(process.env.DD_APPSEC_ENABLED)),te=c(Z.rules,process.env.DD_APPSEC_RULES),re=c(parseInt(Z.rateLimit),parseInt(process.env.DD_APPSEC_TRACE_RATE_LIMIT),100),ne=c(parseInt(Z.wafTimeout),parseInt(process.env.DD_APPSEC_WAF_TIMEOUT),5e3),se=c(Z.obfuscatorKeyRegex,process.env.DD_APPSEC_OBFUSCATION_PARAMETER_KEY_REGEXP,"(?i)(?:p(?:ass)?w(?:or)?d|pass(?:_?phrase)?|secret|(?:api_?|private_?|public_?)key)|token|consumer_?(?:id|key|secret)|sign(?:ed|ature)|bearer|authorization"),ie=c(Z.obfuscatorValueRegex,process.env.DD_APPSEC_OBFUSCATION_PARAMETER_VALUE_REGEXP,'(?i)(?:p(?:ass)?w(?:or)?d|pass(?:_?phrase)?|secret|(?:api_?|private_?|public_?|access_?|secret_?)key(?:_?id)?|token|consumer_?(?:id|key|secret)|sign(?:ed|ature)?|auth(?:entication|orization)?)(?:\\s*=[^;]|"\\s*:\\s*"[^"]+")|bearer\\s+[a-z0-9\\._\\-]+|token:[a-z0-9]{13}|gh[opsu]_[0-9a-zA-Z]{36}|ey[I-L][\\w=-]+\\.ey[I-L][\\w=-]+(?:\\.[\\w.+\\/=-]+)?|[\\-]{5}BEGIN[a-z\\s]+PRIVATE\\sKEY[\\-]{5}[^\\-]+[\\-]{5}END[a-z\\s]+PRIVATE\\sKEY|ssh-rsa\\s*[a-z0-9\\/\\.+]{100,}'),oe=c(f(Z.blockedTemplateHtml),f(process.env.DD_APPSEC_HTTP_BLOCKED_TEMPLATE_HTML)),ae=c(f(Z.blockedTemplateJson),f(process.env.DD_APPSEC_HTTP_BLOCKED_TEMPLATE_JSON)),ce=void 0!==process.env.AWS_LAMBDA_FUNCTION_NAME,ue=e.remoteConfig||{},pe=c(process.env.DD_REMOTE_CONFIGURATION_ENABLED&&p(process.env.DD_REMOTE_CONFIGURATION_ENABLED),!ce),le=c(parseInt(ue.pollInterval),parseInt(process.env.DD_REMOTE_CONFIG_POLL_INTERVAL_SECONDS),5),de=e.experimental&&e.experimental.iast,he=c(de&&(!0===de||!0===de.enabled),process.env.DD_IAST_ENABLED,!1),fe=c(process.env.DD_TELEMETRY_LOG_COLLECTION_ENABLED,he),me=c(parseInt(de&&de.requestSampling),parseInt(process.env.DD_IAST_REQUEST_SAMPLING),30),ge=me<0||me>100?30:me,_e=c(parseInt(de&&de.maxConcurrentRequests),parseInt(process.env.DD_IAST_MAX_CONCURRENT_REQUESTS),2),ye=c(parseInt(de&&de.maxContextOperations),parseInt(process.env.DD_IAST_MAX_CONTEXT_OPERATIONS),2),be=c(de&&de.deduplicationEnabled,process.env.DD_IAST_DEDUPLICATION_ENABLED&&p(process.env.DD_IAST_DEDUPLICATION_ENABLED),!0),ve=c(process.env.DD_CIVISIBILITY_GIT_UPLOAD_ENABLED,!0),Ee=e.ingestion||{},Se=c(e.dogstatsd,{}),Te={sampleRate:c(e.sampleRate,process.env.DD_TRACE_SAMPLE_RATE,Ee.sampleRate),rateLimit:c(e.rateLimit,process.env.DD_TRACE_RATE_LIMIT,Ee.rateLimit),rules:c(e.samplingRules,m(process.env.DD_TRACE_SAMPLING_RULES),[]).map((e=>g(e,{sample_rate:"sampleRate"}))),spanSamplingRules:c(e.spanSamplingRules,m(f(process.env.DD_SPAN_SAMPLING_RULES_FILE)),m(process.env.DD_SPAN_SAMPLING_RULES),[]).map((e=>g(e,{sample_rate:"sampleRate",max_per_second:"maxPerSecond"})))},we=ce?0:2e3;this.tracing=!l(t),this.dbmPropagationMode=T,this.logInjection=p(E),this.env=C,this.url=O?new i(O):function(e,t){return e?new i(e):"Windows_NT"!==s.type()?t.hostname||t.port||process.env.DD_AGENT_HOST||process.env.DD_TRACE_AGENT_HOSTNAME||process.env.DD_TRACE_AGENT_PORT||!n.existsSync("/var/run/datadog/apm.socket")?void 0:new i("unix:///var/run/datadog/apm.socket"):void 0}(x,e),this.site=c(e.site,process.env.DD_SITE,"datadoghq.com"),this.hostname=w||this.url&&this.url.hostname,this.port=String(I||this.url&&this.url.port),this.flushInterval=c(parseInt(e.flushInterval,10),we),this.flushMinSpans=q,this.sampleRate=c(Math.min(Math.max(Te.sampleRate,0),1),1),this.queryStringObfuscation=U,this.clientIpEnabled=F,this.clientIpHeader=$,this.plugins=!!c(e.plugins,!0),this.service=N,this.serviceMapping=R,this.version=L,this.dogstatsd={hostname:c(Se.hostname,process.env.DD_DOGSTATSD_HOSTNAME,this.hostname),port:String(c(Se.port,process.env.DD_DOGSTATSD_PORT,8125))},this.runtimeMetrics=p(S),this.tracePropagationStyle={inject:V,extract:H},this.experimental={runtimeId:p(z),exporter:K,enableGetRumData:p(Q)},this.sampler=Te,this.reportHostname=p(c(e.reportHostname,process.env.DD_TRACE_REPORT_HOSTNAME,!1)),this.scope=process.env.DD_TRACE_SCOPE,this.profiling={enabled:p(y),sourceMap:!l(v),exporters:b},this.lookup=e.lookup,this.startupLogs=p(D),this.telemetry={enabled:"datadog"!==K&&p(M),logCollection:p(fe),debug:p(P)},this.protocolVersion=j,this.tagsHeaderMaxLength=parseInt(W),this.appsec={enabled:ee,rules:te?m(f(te)):r(77005),customRulesProvided:!!te,rateLimit:re,wafTimeout:ne,obfuscatorKeyRegex:se,obfuscatorValueRegex:ie,blockedTemplateHtml:oe,blockedTemplateJson:ae},this.remoteConfig={enabled:pe,pollInterval:le},this.iast={enabled:p(he),requestSampling:ge,maxConcurrentRequests:_e,maxContextOperations:ye,deduplicationEnabled:be},this.isCiVisibility=p(k),this.isIntelligentTestRunnerEnabled=this.isCiVisibility&&p(A),this.isGitUploadEnabled=this.isCiVisibility&&this.isIntelligentTestRunnerEnabled&&!l(ve),this.stats={enabled:p(Y)},this.traceId128BitGenerationEnabled=p(J),this.traceId128BitLoggingEnabled=p(X),u.add(this.tags,{service:this.service,env:this.env,version:this.version,"runtime-id":d()})}}},12909:e=>{"use strict";e.exports={SAMPLING_PRIORITY_KEY:"_sampling_priority_v1",ANALYTICS_KEY:"_dd1.sr.eausr",ORIGIN_KEY:"_dd.origin",HOSTNAME_KEY:"_dd.hostname",TOP_LEVEL_KEY:"_dd.top_level",SAMPLING_RULE_DECISION:"_dd.rule_psr",SAMPLING_LIMIT_DECISION:"_dd.limit_psr",SAMPLING_AGENT_DECISION:"_dd.agent_psr",SAMPLING_MECHANISM_DEFAULT:0,SAMPLING_MECHANISM_AGENT:1,SAMPLING_MECHANISM_RULE:3,SAMPLING_MECHANISM_MANUAL:4,SAMPLING_MECHANISM_APPSEC:5,SAMPLING_MECHANISM_SPAN:8,SPAN_SAMPLING_MECHANISM:"_dd.span_sampling.mechanism",SPAN_SAMPLING_RULE_RATE:"_dd.span_sampling.rule_rate",SPAN_SAMPLING_MAX_PER_SECOND:"_dd.span_sampling.max_per_second",DATADOG_LAMBDA_EXTENSION_PATH:"/opt/extensions/datadog-agent",DECISION_MAKER_KEY:"_dd.p.dm",PROCESS_ID:"process_id",ERROR_TYPE:"error.type",ERROR_MESSAGE:"error.message",ERROR_STACK:"error.stack",COMPONENT:"component",CLIENT_PORT_KEY:"network.destination.port"}},96166:(e,t,r)=>{"use strict";const n=r(67643),s="dd-trace:bundledModuleLoadStart";n.subscribe||(n.subscribe=(e,t)=>{n.channel(e).subscribe(t)}),n.unsubscribe||(n.unsubscribe=(e,t)=>{n.channel(e).hasSubscribers&&n.channel(e).unsubscribe(t)}),e.exports=function e(t,r,i){if(!(this instanceof e))return new e(t,r,i);function o(e){e.module=i(e.module,e.path,void 0,e.version)}for(const e of t)n.subscribe(`${s}:${e}`,o);this.unhook=function(){for(const e of t)n.unsubscribe(`${s}:${e}`,o)}}},41574:(e,t,r)=>{"use strict";const n=r(9523).lookup,s=r(88550),i=r(71891),o=r(41808).isIP,a=r(63178);e.exports=class{constructor(e){(e=e||{}).metricsProxyUrl&&(this._httpOptions={url:e.metricsProxyUrl.toString(),path:"/dogstatsd/v2/proxy"}),this._host=e.host||"localhost",this._family=o(this._host),this._port=e.port||8125,this._prefix=e.prefix||"",this._tags=e.tags||[],this._queue=[],this._buffer="",this._offset=0,this._udp4=this._socket("udp4"),this._udp6=this._socket("udp6")}gauge(e,t,r){this._add(e,t,"g",r)}increment(e,t,r){this._add(e,t,"c",r)}flush(){const e=this._enqueue();0!==this._queue.length&&(this._queue=[],this._httpOptions?this._sendHttp(e):this._sendUdp(e))}_sendHttp(e){const t=Buffer.concat(e);s(t,this._httpOptions,(t=>{t&&(a.error("HTTP error from agent: "+t.stack),t.status&&(404===t.status&&(this._httpOptions=null),this._sendUdp(e)))}))}_sendUdp(e){0!==this._family?this._sendUdpFromQueue(e,this._host,this._family):n(this._host,((t,r,n)=>{if(t)return a.error(t);this._sendUdpFromQueue(e,r,n)}))}_sendUdpFromQueue(e,t,r){const n=6===r?this._udp6:this._udp4;e.forEach((e=>{a.debug(`Sending to DogStatsD: ${e}`),n.send(e,0,e.length,this._port,t)}))}_add(e,t,r,n){const s=`${this._prefix+e}:${t}|${r}`;(n=n?this._tags.concat(n):this._tags).length>0?this._write(`${s}|#${n.join(",")}\n`):this._write(`${s}\n`)}_write(e){const t=Buffer.byteLength(e);this._offset+t>1024&&this._enqueue(),this._offset+=t,this._buffer+=e}_enqueue(){return this._offset>0&&(this._queue.push(Buffer.from(this._buffer)),this._buffer="",this._offset=0),this._queue}_socket(e){const t=i.createSocket(e);return t.on("error",(()=>{})),t.unref(),t}}},28072:(e,t,r)=>{"use strict";const{truncateSpan:n,normalizeSpan:s}=r(90370),i=r(68463),o=r(63178),{isTrue:a}=r(66456),c=r(71490),u=new Float64Array(1),p=new Uint8Array(u.buffer);u[0]=-1;const l=0===p[7];function d(e){return s(n(e,!1))}e.exports={AgentEncoder:class{constructor(e,t=8388608){this._limit=t,this._traceBytes=new i,this._stringBytes=new i,this._writer=e,this._reset(),this._debugEncoding=a(c(process.env.DD_TRACE_ENCODING_DEBUG,!1))}count(){return this._traceCount}encode(e){const t=this._traceBytes,r=t.length;this._traceCount++,this._encode(t,e);const n=t.length;this._debugEncoding&&o.debug((()=>`Adding encoded trace to buffer: ${t.buffer.subarray(r,n).toString("hex").match(/../g).join(" ")}`)),(this._traceBytes.length>this._limit||this._stringBytes.length>this._limit)&&(o.debug("Buffer went over soft limit, flushing"),this._writer.flush())}makePayload(){const e=this._traceBytes.length+5,t=Buffer.allocUnsafe(e);return this._writeTraces(t),this._reset(),t}reset(){this._reset()}_encode(e,t){this._encodeArrayPrefix(e,t);for(let r of t)r=d(r),e.reserve(1),r.type?(e.buffer[e.length++]=140,this._encodeString(e,"type"),this._encodeString(e,r.type)):e.buffer[e.length++]=139,this._encodeString(e,"trace_id"),this._encodeId(e,r.trace_id),this._encodeString(e,"span_id"),this._encodeId(e,r.span_id),this._encodeString(e,"parent_id"),this._encodeId(e,r.parent_id),this._encodeString(e,"name"),this._encodeString(e,r.name),this._encodeString(e,"resource"),this._encodeString(e,r.resource),this._encodeString(e,"service"),this._encodeString(e,r.service),this._encodeString(e,"error"),this._encodeInteger(e,r.error),this._encodeString(e,"start"),this._encodeLong(e,r.start),this._encodeString(e,"duration"),this._encodeLong(e,r.duration),this._encodeString(e,"meta"),this._encodeMap(e,r.meta),this._encodeString(e,"metrics"),this._encodeMap(e,r.metrics)}_reset(){this._traceCount=0,this._traceBytes.length=0,this._stringCount=0,this._stringBytes.length=0,this._stringMap={},this._cacheString("")}_encodeArrayPrefix(e,t){const r=t.length,n=e.length;e.reserve(5),e.length+=5,e.buffer[n]=221,e.buffer[n+1]=r>>24,e.buffer[n+2]=r>>16,e.buffer[n+3]=r>>8,e.buffer[n+4]=r}_encodeMapPrefix(e,t){const r=e.length;e.reserve(5),e.length+=5,e.buffer[r]=223,e.buffer[r+1]=t>>24,e.buffer[r+2]=t>>16,e.buffer[r+3]=t>>8,e.buffer[r+4]=t}_encodeByte(e,t){e.reserve(1),e.buffer[e.length++]=t}_encodeId(e,t){const r=e.length;e.reserve(9),e.length+=9,t=t.toArray(),e.buffer[r]=207,e.buffer[r+1]=t[0],e.buffer[r+2]=t[1],e.buffer[r+3]=t[2],e.buffer[r+4]=t[3],e.buffer[r+5]=t[4],e.buffer[r+6]=t[5],e.buffer[r+7]=t[6],e.buffer[r+8]=t[7]}_encodeInteger(e,t){const r=e.length;e.reserve(5),e.length+=5,e.buffer[r]=206,e.buffer[r+1]=t>>24,e.buffer[r+2]=t>>16,e.buffer[r+3]=t>>8,e.buffer[r+4]=t}_encodeLong(e,t){const r=e.length,n=t/Math.pow(2,32)>>0,s=t>>>0;e.reserve(9),e.length+=9,e.buffer[r]=207,e.buffer[r+1]=n>>24,e.buffer[r+2]=n>>16,e.buffer[r+3]=n>>8,e.buffer[r+4]=n,e.buffer[r+5]=s>>24,e.buffer[r+6]=s>>16,e.buffer[r+7]=s>>8,e.buffer[r+8]=s}_encodeMap(e,t){const r=Object.keys(t).filter((e=>"string"==typeof t[e]||"number"==typeof t[e]));this._encodeMapPrefix(e,r.length);for(const n of r)this._encodeString(e,n),this._encodeValue(e,t[n])}_encodeValue(e,t){switch(typeof t){case"string":this._encodeString(e,t);break;case"number":this._encodeFloat(e,t)}}_encodeString(e,t=""){this._cacheString(t);const{start:r,end:n}=this._stringMap[t];this._stringBytes.copy(e,r,n)}_encodeFloat(e,t){u[0]=t;const r=e.length;if(e.reserve(9),e.length+=9,e.buffer[r]=203,l)for(let t=0;t<=7;t++)e.buffer[r+t+1]=p[t];else for(let t=7;t>=0;t--)e.buffer[e.length-t-1]=p[t]}_cacheString(e){e in this._stringMap||(this._stringCount++,this._stringMap[e]={start:this._stringBytes.length,end:this._stringBytes.length+this._stringBytes.write(e)})}_writeArrayPrefix(e,t,r){return e[t++]=221,e.writeUInt32BE(r,t),t+4}_writeTraces(e,t=0){return(t=this._writeArrayPrefix(e,t,this._traceCount))+this._traceBytes.buffer.copy(e,t,0,this._traceBytes.length)}}}},62216:(e,t,r)=>{"use strict";const{truncateSpan:n,normalizeSpan:s}=r(90370),{AgentEncoder:i}=r(28072);function o(e){return s(n(e,!1))}e.exports={AgentEncoder:class extends i{makePayload(){const e=this._stringBytes.length+5,t=this._traceBytes.length+5,r=Buffer.allocUnsafe(1+e+t);let n=0;return r[n++]=146,n=this._writeStrings(r,n),n=this._writeTraces(r,n),this._reset(),r}_encode(e,t){this._encodeArrayPrefix(e,t);for(let r of t)r=o(r),this._encodeByte(e,156),this._encodeString(e,r.service),this._encodeString(e,r.name),this._encodeString(e,r.resource),this._encodeId(e,r.trace_id),this._encodeId(e,r.span_id),this._encodeId(e,r.parent_id),this._encodeLong(e,r.start||0),this._encodeLong(e,r.duration||0),this._encodeInteger(e,r.error),this._encodeMap(e,r.meta||{}),this._encodeMap(e,r.metrics||{}),this._encodeString(e,r.type)}_encodeString(e,t=""){this._cacheString(t),this._encodeInteger(e,this._stringMap[t])}_cacheString(e){e in this._stringMap||(this._stringMap[e]=this._stringCount++,this._stringBytes.write(e))}_writeStrings(e,t){return(t=this._writeArrayPrefix(e,t,this._stringCount))+this._stringBytes.buffer.copy(e,t,0,this._stringBytes.length)}}}},89553:(e,t,r)=>{"use strict";const{truncateSpan:n,normalizeSpan:s}=r(90370),{AgentEncoder:i}=r(28072),{version:o}=r(4147),a=r(8508),c=1,u=["test_session_end","test_module_end","test_suite_end","test"];function p(e){let t=c;return"test"===e.type&&e.meta&&e.meta.test_session_id&&(t=2),{type:u.includes(e.type)?e.type:"span",version:t,content:s(n(e))}}e.exports={AgentlessCiVisibilityEncoder:class extends i{constructor(e,{runtimeId:t,service:r,env:n}){super(e,2097152),this.runtimeId=t,this.service=r,this.env=n,this._eventCount=0,this.reset()}_encodeTestSuite(e,t){this._encodeMapPrefix(e,12),this._encodeString(e,"type"),this._encodeString(e,t.type),this._encodeString(e,"test_session_id"),this._encodeId(e,t.trace_id),this._encodeString(e,"test_module_id"),this._encodeId(e,t.parent_id),this._encodeString(e,"test_suite_id"),this._encodeId(e,t.span_id),this._encodeString(e,"error"),this._encodeNumber(e,t.error),this._encodeString(e,"name"),this._encodeString(e,t.name),this._encodeString(e,"service"),this._encodeString(e,t.service),this._encodeString(e,"resource"),this._encodeString(e,t.resource),this._encodeString(e,"start"),this._encodeNumber(e,t.start),this._encodeString(e,"duration"),this._encodeNumber(e,t.duration),this._encodeString(e,"meta"),this._encodeMap(e,t.meta),this._encodeString(e,"metrics"),this._encodeMap(e,t.metrics)}_encodeTestModule(e,t){this._encodeMapPrefix(e,11),this._encodeString(e,"type"),this._encodeString(e,t.type),this._encodeString(e,"test_session_id"),this._encodeId(e,t.trace_id),this._encodeString(e,"test_module_id"),this._encodeId(e,t.span_id),this._encodeString(e,"error"),this._encodeNumber(e,t.error),this._encodeString(e,"name"),this._encodeString(e,t.name),this._encodeString(e,"service"),this._encodeString(e,t.service),this._encodeString(e,"resource"),this._encodeString(e,t.resource),this._encodeString(e,"start"),this._encodeNumber(e,t.start),this._encodeString(e,"duration"),this._encodeNumber(e,t.duration),this._encodeString(e,"meta"),this._encodeMap(e,t.meta),this._encodeString(e,"metrics"),this._encodeMap(e,t.metrics)}_encodeTestSession(e,t){this._encodeMapPrefix(e,10),this._encodeString(e,"type"),this._encodeString(e,t.type),this._encodeString(e,"test_session_id"),this._encodeId(e,t.trace_id),this._encodeString(e,"error"),this._encodeNumber(e,t.error),this._encodeString(e,"name"),this._encodeString(e,t.name),this._encodeString(e,"service"),this._encodeString(e,t.service),this._encodeString(e,"resource"),this._encodeString(e,t.resource),this._encodeString(e,"start"),this._encodeNumber(e,t.start),this._encodeString(e,"duration"),this._encodeNumber(e,t.duration),this._encodeString(e,"meta"),this._encodeMap(e,t.meta),this._encodeString(e,"metrics"),this._encodeMap(e,t.metrics)}_encodeEventContent(e,t){const r=Object.keys(t).length;t.meta.test_session_id?this._encodeMapPrefix(e,r+3):this._encodeMapPrefix(e,r),t.type&&(this._encodeString(e,"type"),this._encodeString(e,t.type)),this._encodeString(e,"trace_id"),this._encodeId(e,t.trace_id),this._encodeString(e,"span_id"),this._encodeId(e,t.span_id),this._encodeString(e,"parent_id"),this._encodeId(e,t.parent_id),this._encodeString(e,"name"),this._encodeString(e,t.name),this._encodeString(e,"resource"),this._encodeString(e,t.resource),this._encodeString(e,"service"),this._encodeString(e,t.service),this._encodeString(e,"error"),this._encodeNumber(e,t.error),this._encodeString(e,"start"),this._encodeNumber(e,t.start),this._encodeString(e,"duration"),this._encodeNumber(e,t.duration),t.meta.test_session_id&&(this._encodeString(e,"test_session_id"),this._encodeId(e,a(t.meta.test_session_id,10)),delete t.meta.test_session_id,this._encodeString(e,"test_module_id"),this._encodeId(e,a(t.meta.test_module_id,10)),delete t.meta.test_module_id,this._encodeString(e,"test_suite_id"),this._encodeId(e,a(t.meta.test_suite_id,10)),delete t.meta.test_suite_id),this._encodeString(e,"meta"),this._encodeMap(e,t.meta),this._encodeString(e,"metrics"),this._encodeMap(e,t.metrics)}_encodeEvent(e,t){this._encodeMapPrefix(e,Object.keys(t).length),this._encodeString(e,"type"),this._encodeString(e,t.type),this._encodeString(e,"version"),this._encodeNumber(e,t.version),this._encodeString(e,"content"),"span"===t.type||"test"===t.type?this._encodeEventContent(e,t.content):"test_suite_end"===t.type?this._encodeTestSuite(e,t.content):"test_module_end"===t.type?this._encodeTestModule(e,t.content):"test_session_end"===t.type&&this._encodeTestSession(e,t.content)}_encodeNumber(e,t){return Math.floor(t)!==t?this._encodeFloat(e,t):this._encodeLong(e,t)}_encodeLong(e,t){const r=t>=0,n=r?t/Math.pow(2,32)>>0:Math.floor(t/Math.pow(2,32)),s=t>>>0,i=r?207:211,o=e.length;e.reserve(9),e.length+=9,e.buffer[o]=i,e.buffer[o+1]=n>>24,e.buffer[o+2]=n>>16,e.buffer[o+3]=n>>8,e.buffer[o+4]=n,e.buffer[o+5]=s>>24,e.buffer[o+6]=s>>16,e.buffer[o+7]=s>>8,e.buffer[o+8]=s}_encode(e,t){const r=t.map(p),n=r.filter((e=>"test_session_end"===e.type||"test_suite_end"===e.type||"test_module_end"===e.type)),s=n.length?n:r;this._eventCount+=s.length;for(const t of s)this._encodeEvent(e,t)}makePayload(){const e=this._traceBytes,t=this._eventsOffset,r=this._eventCount;e.buffer[t]=221,e.buffer[t+1]=r>>24,e.buffer[t+2]=r>>16,e.buffer[t+3]=r>>8,e.buffer[t+4]=r;const n=e.length,s=Buffer.allocUnsafe(n);return e.buffer.copy(s,0,0,n),this.reset(),s}_encodePayloadStart(e){const t={version:c,metadata:{"*":{language:"javascript",library_version:o}},events:[]};this.env&&(t.metadata["*"].env=this.env),this.runtimeId&&(t.metadata["*"]["runtime-id"]=this.runtimeId),this._encodeMapPrefix(e,Object.keys(t).length),this._encodeString(e,"version"),this._encodeNumber(e,t.version),this._encodeString(e,"metadata"),this._encodeMapPrefix(e,Object.keys(t.metadata).length),this._encodeString(e,"*"),this._encodeMap(e,t.metadata["*"]),this._encodeString(e,"events"),this._eventsOffset=e.length,e.reserve(5),e.length+=5}reset(){this._reset(),this._eventCount=0,this._encodePayloadStart(this._traceBytes)}}}},68463:e=>{"use strict";e.exports=class{constructor(e=2097152){this.buffer=Buffer.allocUnsafe(e),this.length=0,this._minSize=e}write(e){const t=Buffer.byteLength(e),r=this.length;return t<32?(this.reserve(t+1),this.length+=1,this.buffer[r]=160|t):t<4294967296&&(this.reserve(t+5),this.length+=5,this.buffer[r]=219,this.buffer[r+1]=t>>24,this.buffer[r+2]=t>>16,this.buffer[r+3]=t>>8,this.buffer[r+4]=t),this.length+=this.buffer.utf8Write(e,this.length,t),this.length-r}copy(e,t,r){e.set(new Uint8Array(this.buffer.buffer,t,r-t))}set(e){this.reserve(e.length),this.buffer.set(e,this.length),this.length+=e.length}reserve(e){this.length+e>this.buffer.length&&this._resize(this._minSize*Math.ceil((this.length+e)/this._minSize))}_resize(e){const t=this.buffer;this.buffer=Buffer.allocUnsafe(e),t.copy(this.buffer,0,0,this.length)}}},35740:(e,t,r)=>{"use strict";const{AgentEncoder:n}=r(28072),s=r(68463),i=r(15902);e.exports={CoverageCIVisibilityEncoder:class extends n{constructor(){super(...arguments),this._coverageBytes=new s,this.form=new i,this._coveragesCount=0,this.reset()}count(){return this._coveragesCount}encode(e){this._coveragesCount++,this.encodeCodeCoverage(this._coverageBytes,e)}encodeCodeCoverage(e,t){this._encodeMapPrefix(e,3),this._encodeString(e,"test_session_id"),this._encodeId(e,t.traceId),this._encodeString(e,"test_suite_id"),this._encodeId(e,t.spanId),this._encodeString(e,"files"),this._encodeArrayPrefix(e,t.files);for(const r of t.files)this._encodeMapPrefix(e,1),this._encodeString(e,"filename"),this._encodeString(e,r)}reset(){this._reset(),this._coverageBytes&&(this._coverageBytes.length=0),this._coveragesCount=0,this._encodePayloadStart(this._coverageBytes)}_encodePayloadStart(e){this._encodeMapPrefix(e,2),this._encodeString(e,"version"),this._encodeInteger(e,2),this._encodeString(e,"coverages"),this._coveragesOffset=e.length,e.reserve(5),e.length+=5}makePayload(){const e=this._coverageBytes,t=this._coveragesOffset,r=this._coveragesCount;e.buffer[t]=221,e.buffer[t+1]=r>>24,e.buffer[t+2]=r>>16,e.buffer[t+3]=r>>8,e.buffer[t+4]=r;const n=e.length,s=Buffer.allocUnsafe(n);e.buffer.copy(s,0,0,e.length),this.form.append("coverage1",s,{filename:"coverage1.msgpack",contentType:"application/msgpack"}),this.form.append("event",JSON.stringify({dummy:!0}),{filename:"event.json",contentType:"application/json"});const o=this.form;return this.form=new i,this.reset(),o}}}},22446:(e,t,r)=>{"use strict";const{AgentEncoder:n}=r(28072),{MAX_NAME_LENGTH:s,MAX_SERVICE_LENGTH:i,MAX_RESOURCE_NAME_LENGTH:o,MAX_TYPE_LENGTH:a,DEFAULT_SPAN_NAME:c,DEFAULT_SERVICE_NAME:u}=r(90370);function p(e,t,r=""){return e&&e.length>t?`${e.slice(0,t)}${r}`:e}e.exports={SpanStatsEncoder:class extends n{_encodeBool(e,t){this._encodeByte(e,t?195:194)}makePayload(){const e=this._traceBytes.length,t=Buffer.allocUnsafe(e);return this._traceBytes.copy(t,0,e),this._reset(),t}_encodeMapPrefix(e,t){const r=e.length;e.reserve(1),e.length+=1,e.buffer[r]=128+t}_encodeBuffer(e,t){const r=t.length,n=e.length;e.reserve(5),e.length+=5,e.buffer[n]=198,e.buffer[n+1]=r>>24,e.buffer[n+2]=r>>16,e.buffer[n+3]=r>>8,e.buffer[n+4]=r,t.copy(e.buffer,n+5),e.length+=r}_encodeStat(e,t){this._encodeMapPrefix(e,12),this._encodeString(e,"Service");const r=t.Service||u;this._encodeString(e,p(r,i)),this._encodeString(e,"Name");const n=t.Name||c;this._encodeString(e,p(n,s)),this._encodeString(e,"Resource"),this._encodeString(e,p(t.Resource,o,"...")),this._encodeString(e,"HTTPStatusCode"),this._encodeInteger(e,t.HTTPStatusCode),this._encodeString(e,"Type"),this._encodeString(e,p(t.Type,a)),this._encodeString(e,"Hits"),this._encodeLong(e,t.Hits),this._encodeString(e,"Errors"),this._encodeLong(e,t.Errors),this._encodeString(e,"Duration"),this._encodeLong(e,t.Duration),this._encodeString(e,"OkSummary"),this._encodeBuffer(e,t.OkSummary),this._encodeString(e,"ErrorSummary"),this._encodeBuffer(e,t.ErrorSummary),this._encodeString(e,"Synthetics"),this._encodeBool(e,t.Synthetics),this._encodeString(e,"TopLevelHits"),this._encodeLong(e,t.TopLevelHits)}_encodeBucket(e,t){this._encodeMapPrefix(e,3),this._encodeString(e,"Start"),this._encodeLong(e,t.Start),this._encodeString(e,"Duration"),this._encodeLong(e,t.Duration),this._encodeString(e,"Stats"),this._encodeArrayPrefix(e,t.Stats);for(const r of t.Stats)this._encodeStat(e,r)}_encode(e,t){this._encodeMapPrefix(e,8),this._encodeString(e,"Hostname"),this._encodeString(e,t.Hostname),this._encodeString(e,"Env"),this._encodeString(e,t.Env),this._encodeString(e,"Version"),this._encodeString(e,t.Version),this._encodeString(e,"Stats"),this._encodeArrayPrefix(e,t.Stats);for(const r of t.Stats)this._encodeBucket(e,r);this._encodeString(e,"Lang"),this._encodeString(e,t.Lang),this._encodeString(e,"TracerVersion"),this._encodeString(e,t.TracerVersion),this._encodeString(e,"RuntimeID"),this._encodeString(e,t.RuntimeID),this._encodeString(e,"Sequence"),this._encodeLong(e,t.Sequence)}}}},90370:e=>{const t=5e3,r=200,n=25e3,s="unnamed_operation",i="unnamed-service";e.exports={truncateSpan:function(e,s=!0){s&&e.resource&&e.resource.length>t&&(e.resource=`${e.resource.slice(0,t)}...`);for(let t in e.meta){const s=e.meta[t];t.length>r&&(delete e.meta[t],t=`${t.slice(0,r)}...`,e.metrics[t]=s),s&&s.length>n&&(e.meta[t]=`${s.slice(0,n)}...`)}for(let t in e.metrics){const r=e.metrics[t];t.length>200&&(delete e.metrics[t],t=`${t.slice(0,200)}...`,e.metrics[t]=r)}return e},normalizeSpan:function(e){return e.service=e.service||i,e.service.length>100&&(e.service=e.service.slice(0,100)),e.name=e.name||s,e.name.length>100&&(e.name=e.name.slice(0,100)),e.resource||(e.resource=e.name),e.type&&e.type.length>100&&(e.type=e.type.slice(0,100)),e},MAX_META_KEY_LENGTH:r,MAX_META_VALUE_LENGTH:n,MAX_METRIC_KEY_LENGTH:200,MAX_NAME_LENGTH:100,MAX_SERVICE_LENGTH:100,MAX_TYPE_LENGTH:100,MAX_RESOURCE_NAME_LENGTH:t,DEFAULT_SPAN_NAME:s,DEFAULT_SERVICE_NAME:i}},61233:(e,t,r)=>{"use strict";const n=r(13563),s=r(57147),i=r(12909);e.exports=e=>{const t=void 0!==process.env.AWS_LAMBDA_FUNCTION_NAME,o=t&&s.existsSync(i.DATADOG_LAMBDA_EXTENSION_PATH);switch(e){case n.LOG:return r(40360);case n.AGENT:return r(77771);case n.DATADOG:return r(60139);case n.AGENT_PROXY:return r(28881);case n.JEST_WORKER:return r(46356);default:return r(t&&!o?40360:77771)}}},77771:(e,t,r)=>{"use strict";const{URL:n,format:s}=r(57310),i=r(63178),o=r(63305);e.exports=class{constructor(e,t){this._config=e;const{url:r,hostname:i,port:a,lookup:c,protocolVersion:u,stats:p={}}=e;this._url=r||new n(s({protocol:"http:",hostname:i||"localhost",port:a}));const l={};p.enabled&&(l["Datadog-Client-Computed-Stats"]="yes"),this._writer=new o({url:this._url,prioritySampler:t,lookup:c,protocolVersion:u,headers:l}),this._timer=void 0,process.once("beforeExit",(()=>this._writer.flush()))}setUrl(e){try{e=new n(e),this._url=e,this._writer.setUrl(e)}catch(e){i.warn(e.stack)}}export(e){this._writer.append(e);const{flushInterval:t}=this._config;0===t?this._writer.flush():t>0&&!this._timer&&(this._timer=setTimeout((()=>{this._writer.flush(),this._timer=clearTimeout(this._timer)}),t).unref())}flush(e=(()=>{})){this._writer.flush(e)}}},63305:(e,t,r)=>{"use strict";const n=r(88550),{startupLog:s}=r(50583),i=r(22858),o=r(63178),a=r(4147).version,c=r(8221),u="datadog.tracer.node.exporter.agent";function p(e,t,r){r&&(e[t]=r)}e.exports=class extends c{constructor({prioritySampler:e,lookup:t,protocolVersion:n,headers:s}){super(...arguments);const i=function(e){return"0.5"===e?r(62216).AgentEncoder:r(28072).AgentEncoder}(n);this._prioritySampler=e,this._lookup=t,this._protocolVersion=n,this._encoder=new i(this),this._headers=s}_sendPayload(e,t,r){i.increment(`${u}.requests`,!0);const{_headers:c,_lookup:l,_protocolVersion:d,_url:h}=this;!function(e,t,r,i,c,u,l,d){const h={path:`/v${e}/traces`,method:"PUT",headers:{...c,"Content-Type":"application/msgpack","Datadog-Meta-Tracer-Version":a,"X-Datadog-Trace-Count":String(r)},lookup:u,url:i};p(h.headers,"Datadog-Meta-Lang","nodejs"),p(h.headers,"Datadog-Meta-Lang-Version",process.version),p(h.headers,"Datadog-Meta-Lang-Interpreter",process.jsEngine||"v8"),o.debug((()=>`Request to the agent: ${JSON.stringify(h)}`)),n(t,h,((e,t,r)=>{s({agentError:404!==r&&200!==r?e:void 0}),d(e,t,r)}))}(d,e,t,h,c,l,0,((e,t,n)=>{if(n?(i.increment(`${u}.responses`,!0),i.increment(`${u}.responses.by.status`,`status:${n}`,!0)):e&&(i.increment(`${u}.errors`,!0),i.increment(`${u}.errors.by.name`,`name:${e.name}`,!0),e.code&&i.increment(`${u}.errors.by.code`,`code:${e.code}`,!0)),s({agentError:e}),e)return o.error(e),void r();o.debug(`Response from the agent: ${t}`);try{this._prioritySampler.update(JSON.parse(t).rate_by_service)}catch(e){o.error(e),i.increment(`${u}.errors`,!0),i.increment(`${u}.errors.by.name`,`name:${e.name}`,!0)}r()}))}}},58327:(e,t,r)=>{const{URL:n,format:s}=r(57310),i=r(88550);e.exports=class{constructor(e){this._config=e;const{url:t,hostname:r,port:i}=this._config;this._url=t||new n(s({protocol:"http:",hostname:r||"localhost",port:i})),this._traceBuffer=[],this._isInitialized=!1}getAgentInfo(e){var t,r;t=this._url,r=e,i("",{path:"/info",url:t},((e,t)=>{if(e)return r(e);try{const e=JSON.parse(t);return r(null,e)}catch(e){return r(e)}}))}export(e){this._isInitialized?this._export(e):this._traceBuffer.push(e)}_export(e,t=this._writer,r="_timer"){t.append(e);const{flushInterval:n}=this._config;0===n?t.flush():n>0&&!this[r]&&(this[r]=setTimeout((()=>{t.flush(),this[r]=clearTimeout(this[r])}),n).unref())}getUncodedTraces(){return this._traceBuffer}exportUncodedTraces(){this.getUncodedTraces().forEach((e=>{this.export(e)})),this.resetUncodedTraces()}resetUncodedTraces(){this._traceBuffer=[]}}},34162:(e,t,r)=>{"use strict";const n=r(13685),s=r(95687),{storage:i}=r(60445);function o(e){return class extends e{constructor(){super({keepAlive:!0,maxSockets:1})}createConnection(...e){return this._noop((()=>super.createConnection(...e)))}keepSocketAlive(...e){return this._noop((()=>super.keepSocketAlive(...e)))}reuseSocket(...e){return this._noop((()=>super.reuseSocket(...e)))}_noop(e){return i.run({noop:!0},e)}}}const a=o(n.Agent),c=o(s.Agent);e.exports={httpAgent:new a,HttpsAgent:new c}},83806:(e,t,r)=>{"use strict";const n=r(57147),s=new RegExp(".*([0-9a-f]{8}[-_][0-9a-f]{4}[-_][0-9a-f]{4}[-_][0-9a-f]{4}[-_][0-9a-f]{12}|[0-9a-f]{8}(?:-[0-9a-f]{4}){4}$|[0-9a-f]{64}|[0-9a-f]{32}-\\d+)(?:\\.scope)?$","m"),i=((function(){try{return n.readFileSync("/proc/self/cgroup").toString()}catch(e){}}()||"").trim().match(s)||[])[1];e.exports={id:()=>i}},15902:(e,t,r)=>{"use strict";const{Readable:n}=r(12781),s=r(8508);e.exports=class extends n{constructor(){super(),this._boundary=s().toString(),this._data=[]}append(e,t,r={}){this._appendBoundary(),r.filename?this._appendFile(e,t,r):this._appendMetadata(e,t,r)}getHeaders(){return{"Content-Type":"multipart/form-data; boundary="+this._boundary}}_appendBoundary(){this._data.push(`--${this._boundary}\r\n`)}_appendMetadata(e,t){this._data.push(`Content-Disposition: form-data; name="${e}"\r\n\r\n${t}\r\n`)}_appendFile(e,t,{filename:r,contentType:n="application/octet-stream"}){this._data.push(`Content-Disposition: form-data; name="${e}"; filename="${r}"\r\n`),this._data.push(`Content-Type: ${n}\r\n\r\n`),this._data.push(t),this._data.push("\r\n")}_read(){this.push(this._data.shift()),0===this._data.length&&(this.push(`--${this._boundary}--\r\n`),this.push(null))}}},88550:(e,t,r)=>{"use strict";const{Readable:n}=r(12781),s=r(13685),i=r(95687),{parse:o}=r(57310),a=r(83806),{httpAgent:c,httpsAgent:u}=r(34162),{storage:p}=r(60445),l=r(63178),d=a.id();let h=0;function f(e){const t=e.agent||s.globalAgent,r={protocol:e.protocol||t.protocol,hostname:"string"==typeof e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname||e.host||"localhost",hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return""!==e.port&&(r.port=Number(e.port)),(e.username||e.password)&&(r.auth=`${e.username}:${e.password}`),r}function m(e,t,r){if(t.headers||(t.headers={}),t.url){const e="object"==typeof t.url?f(t.url):function(e){return"function"==typeof urlToHttpOptions?f(new URL(e)):o(e)}(t.url);"unix:"===e.protocol?t.socketPath=e.pathname:(t.path||(t.path=e.path),t.protocol=e.protocol,t.hostname=e.hostname,t.port=e.port)}const a=e instanceof n,g=t.timeout||2e3,_="https:"===t.protocol,y=_?i:s,b=[].concat(e);a||(t.headers["Content-Length"]=function(e){return e.length>0?e.reduce(((e,t)=>e+t.length),0):0}(b)),d&&(t.headers["Datadog-Container-ID"]=d),t.agent=_?u:c;const v=e=>{let n="";e.setTimeout(g),e.on("data",(e=>{n+=e})),e.on("end",(()=>{if(h--,e.statusCode>=200&&e.statusCode<=299)r(null,n,e.statusCode);else{let i="";try{i=`Error from ${new URL(t.path,t.url||t.hostname||`http://localhost:${t.port}`).href}: ${e.statusCode} ${s.STATUS_CODES[e.statusCode]}.`}catch(e){}n&&(i+=` Response from the endpoint: "${n}"`);const o=new Error(i);o.status=e.statusCode,r(o,null,e.statusCode)}}))},E=n=>{if(!m.writable)return l.debug("Maximum number of active requests reached: payload is discarded."),r(null);h++;const s=p.getStore();p.enterWith({noop:!0});const i=y.request(t,v);i.once("error",(e=>{h--,n(e)})),i.setTimeout(g,i.abort),a?e.pipe(i):(b.forEach((e=>i.write(e))),i.end()),p.enterWith(s)};E((()=>setTimeout((()=>E(r)))))}Object.defineProperty(m,"writable",{get:()=>h<8}),e.exports=m},8221:(e,t,r)=>{"use strict";const n=r(88550),s=r(63178);e.exports=class{constructor({url:e}){this._url=e}flush(e=(()=>{})){const t=this._encoder.count();if(n.writable)if(t>0){const r=this._encoder.makePayload();this._sendPayload(r,t,e)}else e();else this._encoder.reset(),e()}append(e){n.writable?(s.debug((()=>`Encoding payload: ${JSON.stringify(e)}`)),this._encode(e)):s.debug((()=>`Maximum number of active requests reached. Payload discarded: ${JSON.stringify(e)}`))}_encode(e){this._encoder.encode(e)}setUrl(e){this._url=e}}},40360:(e,t,r)=>{"use strict";const n=r(63178);e.exports=class{export(e){n.debug((()=>`Adding trace to queue: ${JSON.stringify(e)}`));let t=16,r=[];for(const s of e){const e=JSON.stringify(s);e.length+16>65536?n.debug("Span too large to send to logs, dropping"):(e.length+t>65536&&(this._printSpans(r),r=[],t=16),t+=e.length+1,r.push(e))}r.length>0&&this._printSpans(r)}_printSpans(e){let t='{"traces":[[',r=!0;for(const n of e)r?(r=!1,t+=n):t+=","+n;t+="]]}\n",process.stdout.write(t)}}},52722:(e,t,r)=>{const{URL:n,format:s}=r(57310),{Writer:i}=r(24382);e.exports={SpanStatsExporter:class{constructor(e){const{hostname:t="127.0.0.1",port:r=8126,tags:o,url:a}=e;this._url=a||new n(s({protocol:"http:",hostname:t||"localhost",port:r})),this._writer=new i({url:this._url,tags:o})}export(e){this._writer.append(e),this._writer.flush()}}}},24382:(e,t,r)=>{const{SpanStatsEncoder:n}=r(22446),s=r(4147),i=r(8221),o=r(88550),a=r(63178);e.exports={Writer:class extends i{constructor({url:e}){super(...arguments),this._url=e,this._encoder=new n(this)}_sendPayload(e,t,r){!function(e,t,n){const i={path:"/v0.6/stats",method:"PUT",headers:{"Datadog-Meta-Lang":"javascript","Datadog-Meta-Tracer-Version":s.version,"Content-Type":"application/msgpack"}};i.protocol=t.protocol,i.hostname=t.hostname,i.port=t.port,a.debug((()=>`Request to the intake: ${JSON.stringify(i)}`)),o(e,i,((e,t)=>{((e,t)=>{if(e)return a.error(e),void r();a.debug(`Response from the intake: ${t}`),r()})(e,t)}))}(e,this._url)}}}},80660:(e,t,r)=>{"use strict";const n=r(12909),s=r(43620),i=r(8508),{isError:o}=r(66456),a=n.SAMPLING_PRIORITY_KEY,c=n.SAMPLING_RULE_DECISION,u=n.SAMPLING_LIMIT_DECISION,p=n.SAMPLING_AGENT_DECISION,l=n.SPAN_SAMPLING_MECHANISM,d=n.SPAN_SAMPLING_RULE_RATE,h=n.SPAN_SAMPLING_MAX_PER_SECOND,f=n.SAMPLING_MECHANISM_SPAN,m=s.MEASURED,g=n.ORIGIN_KEY,_=n.HOSTNAME_KEY,y=n.TOP_LEVEL_KEY,b=n.PROCESS_ID,v=n.ERROR_MESSAGE,E=n.ERROR_STACK,S=n.ERROR_TYPE,T={"service.name":"service","span.type":"type","resource.name":"resource"};function w(e,t){t&&(e.error=1,o(t)&&(I(e.meta,e.metrics,v,t.message||t.code),I(e.meta,e.metrics,S,t.name),I(e.meta,e.metrics,E,t.stack)))}function I(e,t,r,n,s){switch(typeof n){case"string":if(!n)break;e[r]=n;break;case"number":if(isNaN(n))break;t[r]=n;break;case"boolean":t[r]=n?1:0;break;case"undefined":break;case"object":if(null===n)break;if((i=n).constructor&&"Buffer"===i.constructor.name&&"function"==typeof i.readInt8&&"function"==typeof i.toString||function(e){return e.constructor&&"URL"===e.constructor.name&&"string"==typeof e.href&&"function"==typeof e.toString}(n))t[r]=n.toString();else if(!Array.isArray(n)&&!s)for(const s in n)x(n,s)&&I(e,t,`${r}.${s}`,n[s],!0)}var i}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e){const t=function(e){const t=e.context();return{trace_id:t._traceId,span_id:t._spanId,parent_id:t._parentId||i("0"),name:String(t._name),resource:String(t._name),error:0,meta:{},metrics:{},start:Math.round(1e6*e._startTime),duration:Math.round(1e6*e._duration)}}(e);return function(e,t){const r=t.context(),n=t===r._trace.started[0],s=r._parentId;!n||s&&"0"!==s.toString(10)||(I({},e.metrics,c,r._trace[c]),I({},e.metrics,u,r._trace[u]),I({},e.metrics,p,r._trace[p]),I({},e.metrics,y,1))}(t,e),function(e,t){const r=t.context();if(t===r._trace.started[0])for(const t in r._trace.tags)I(e.meta,e.metrics,t,r._trace.tags[t])}(t,e),function(e,t){const r=t.context(),n=r._trace.origin,s=r._tags,i=r._hostname,o=r._sampling.priority;s["span.kind"]&&"internal"!==s["span.kind"]&&I({},e.metrics,m,1);for(const t in s)switch(t){case"service.name":case"span.type":case"resource.name":I(e,{},T[t],s[t]);break;case"http.status_code":I(e.meta,{},t,s[t]&&String(s[t]));break;case _:case m:I({},e.metrics,t,void 0===s[t]||s[t]?1:0);break;case"error":"fs.operation"!==r._name&&w(e,s[t]);break;case S:case v:case E:if("fs.operation"===r._name)break;e.error=1;default:I(e.meta,e.metrics,t,s[t])}(function(e,t){t&&(I({},e.metrics,l,f),I({},e.metrics,d,t.sampleRate),I({},e.metrics,h,t.maxPerSecond))})(e,r._sampling.spanSampling),I(e.meta,e.metrics,"language","javascript"),I(e.meta,e.metrics,b,process.pid),I(e.meta,e.metrics,a,o),I(e.meta,e.metrics,g,n),I(e.meta,e.metrics,_,i)}(t,e),t}},12468:(e,t,r)=>{"use strict";const{DDSketch:n}=r(53697);e.exports=class{constructor(){this.reset()}get min(){return this._min}get max(){return this._max}get avg(){return 0===this._count?0:this._sum/this._count}get sum(){return this._sum}get count(){return this._count}get median(){return this.percentile(50)}get p95(){return this.percentile(95)}percentile(e){return this._histogram.getValueAtQuantile(e/100)||0}record(e){0===this._count?this._min=this._max=e:(this._min=Math.min(this._min,e),this._max=Math.max(this._max,e)),this._count++,this._sum+=e,this._histogram.accept(e)}reset(){this._min=0,this._max=0,this._sum=0,this._count=0,this._histogram=new n}}},8508:(e,t,r)=>{"use strict";const{randomFillSync:n}=r(6113),s=4294967296,i=new Uint8Array(65536),o=new Uint8Array(8),a=Array.prototype.map,c=e=>`${e<16?"0":""}${e.toString(16)}`;let u=0;class p{constructor(e,t=16){this._isUint64BE=!0,this._buffer=16===t?function(e){if("0"===e)return o;if(!e)return function(){0===u&&n(i),u=(u+1)%8192;const e=8*u;return[127&i[e],i[e+1],i[e+2],i[e+3],i[e+4],i[e+5],i[e+6],i[e+7]]}();const t=16*Math.ceil(e.length/16),r=t/2,s=new Array(r);e=e.padStart(t,"0");for(let t=0;t<r;t++)s[t]=parseInt(e.substring(2*t,2*t+2),16);return s}(e):function(e,t){const r=new Array(8),n=e.length;let i=0,o=0,a=0;"-"===e[0]&&i++;const c=i;for(;i<n;){const r=parseInt(e[i++],t);if(!(r>=0))break;a=a*t+r,o=o*t+Math.floor(a/s),a%=s}return c&&(o=~o,a?a=s-a:o++),d(r,o,0),d(r,a,4),r}(e,t)}toString(e=16){return 16===e?(t=this._buffer,a.call(t,c).join("")):function(e,t){let r=l(e,e.length-8),n=l(e,e.length-4),i="";for(t=t||10;;){const e=r%t*s+n;if(r=Math.floor(r/t),n=Math.floor(e/t),i=(e%t).toString(t)+i,!r&&!n)break}return i}(this._buffer,e);var t}toBuffer(){return this._buffer}toArray(){return 8===this._buffer.length?this._buffer:this._buffer.slice(-8)}toJSON(){return this.toString()}}function l(e,t){return 16777216*e[t+0]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3]}function d(e,t,r){e[3+r]=255&t,t>>=8,e[2+r]=255&t,t>>=8,e[1+r]=255&t,t>>=8,e[0+r]=255&t}e.exports=(e,t)=>new p(e,t)},22878:(e,t,r)=>{"use strict";const n=r(81249),s=r(63178),{addHook:i}=r(45e3),o=r(83928);if(n.satisfies(process.versions.node,">=14.13.1")){const t=o.channel("dd-trace:moduleLoadStart");i(((e,r)=>{t.hasSubscribers&&t.publish({filename:e,module:r})})),e.exports=r(45e3)}else s.warn("ESM is not fully supported by this version of Node.js, so dd-trace will not intercept ESM loading."),e.exports=()=>({unhook:()=>{}}),e.exports.addHook=()=>{},e.exports.removeHook=()=>{}},49290:(e,t,r)=>{"use strict";const{isFalse:n}=r(66456),s="undefined"!=typeof jest;e.exports=n(process.env.DD_TRACE_ENABLED)||s?r(42130):r(49589)},80302:(e,t,r)=>{"use strict";const n=r(63178),{channel:s}=r(93915),{ERROR_MESSAGE:i,ERROR_TYPE:o}=r(12909),{ImpendingTimeout:a}=r(97167),c=global._ddtrace._tracer,u=s("apm:aws:lambda:timeout");let p;u.subscribe((e=>{!function(){const e=c.scope().active();if(null!==e){const t=new a("Datadog detected an impending timeout");e.addTags({[i]:t.message,[o]:t.name})}else n.debug("An impending timeout was reached, but no root span was found. No error will be tagged.");c._processor.killAll(),null!==e&&e.finish()}()})),t.datadog=function(e){return(...t)=>{const r=e.apply(this,t);try{const e=function(e){let t=e.length>1?e[1]:void 0;if((void 0===t||void 0===t.getRemainingTimeInMillis)&&(t=e.length>2?e[2]:void 0,void 0===t||void 0===t.getRemainingTimeInMillis))throw Error("Could not extract context");return t}(t);!function(e){const t=e.getRemainingTimeInMillis();let r=parseInt(process.env.DD_APM_FLUSH_DEADLINE_MILLISECONDS)||100;r=r<0?100:r,p=setTimeout((()=>{u.publish(void 0)}),t-r)}(e),r&&r.then((e=>clearTimeout(p)))}catch(e){n.debug("Error patching AWS Lambda handler. Timeout spans will not be generated.")}return r}}},7187:(e,t,r)=>{"use strict";const{registerLambdaHook:n}=r(40452);n()},97167:e=>{"use strict";class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class r extends t{}r.prototype.name="Impending Timeout",e.exports={ImpendingTimeout:r}},85400:(e,t,r)=>{"use strict";const n=r(71017),{_extractModuleNameAndHandlerPath:s,_extractModuleRootAndHandler:i,_getLambdaFilePath:o}=r(40452),{datadog:a}=r(80302),{addHook:c}=r(93915),u=r(7496);function p(e){return t=>e(a(t))}function l(e){return a(e)}const d=process.env.LAMBDA_TASK_ROOT,h=process.env.DD_LAMBDA_HANDLER;if(void 0!==h){const[e,t]=i(h),[r,a]=s(t);c({name:o(n.resolve(d,e,r))},(e=>t=>(u.wrap(t,e,l),t))(a))}else c({name:"datadog-lambda-js"},(e=>(u.wrap(e,"datadog",p),e)))},40452:(e,t,r)=>{"use strict";const n=r(57147),s=r(71017),i=r(63178),o=r(70839),a=r(55203),{filename:c,pathSepExpr:u}=r(92311);function p(e){const t=s.basename(e);return[e.substring(0,e.indexOf(t)),t]}function l(e){const t=e.match(/^([^.]*)\.(.*)$/);if(t&&3===t.length)return[t[1],t[2]]}function d(e){let t=e;return n.existsSync(e+".js")?t+=".js":n.existsSync(e+".mjs")?t+=".mjs":n.existsSync(e+".cjs")&&(t+=".cjs"),t}e.exports={_extractModuleRootAndHandler:p,_extractModuleNameAndHandlerPath:l,_getLambdaFilePath:d,registerLambdaHook:()=>{const e=process.env.LAMBDA_TASK_ROOT,t=process.env.DD_LAMBDA_HANDLER;if(void 0!==t){const[n,c]=p(t),[u]=l(c),h=d(s.resolve(e,n,u));o([h],(e=>{r(85400);for(const{hook:t}of a[h])try{e=t(e)}catch(e){i.error(e)}return e}))}else{const e="datadog-lambda-js";o([e],((t,n,s)=>{n=n.replace(u,"/"),r(85400);for(const{name:r,file:s,hook:o}of a[e])if(n===c(r,s))try{t=o(t)}catch(e){i.error(e)}return t}))}}}},69050:(e,t,r)=>{"use strict";const{channel:n}=r(83928),s={Debug:"debug",Info:"info",Warn:"warn",Error:"error"},i=s.Debug,o={[s.Debug]:a(s.Debug,20),[s.Info]:a(s.Info,30),[s.Warn]:a(s.Warn,40),[s.Error]:a(s.Error,50)};function a(e,t){const r=n(`datadog:log:${e}`);return r.logLevel=t,r}e.exports={Level:s,getChannelLogLevel:function(e){let t;return t=e&&"string"==typeof e&&o[e.toLowerCase().trim()]||o[i],t.logLevel},debugChannel:o[s.Debug],infoChannel:o[s.Info],warnChannel:o[s.Warn],errorChannel:o[s.Error]}},63178:(e,t,r)=>{"use strict";const{debugChannel:n,infoChannel:s,warnChannel:i,errorChannel:o}=r(69050),a=r(18337),c=e=>{const t={};return function(r){return t[r]||(t[r]=e.apply(this,arguments)),t[r]}};function u(e){return"function"==typeof e?e():e}const p={use(e){return a.use(e),this},toggle(e,t){return a.toggle(e,t),this},reset(){return a.reset(),this._deprecate=c(((e,t)=>(o.publish(t),!0))),this},debug(e){return n.hasSubscribers&&n.publish(u(e)),this},info(e){return s.hasSubscribers&&s.publish(u(e)),this},warn(e){return i.hasSubscribers&&i.publish(u(e)),this},error(e){return o.hasSubscribers&&o.publish(u(e)),this},deprecate(e,t){return this._deprecate(e,t)}};p.reset(),e.exports=p},18337:(e,t,r)=>{"use strict";const{storage:n}=r(60445),{getChannelLogLevel:s,debugChannel:i,infoChannel:o,warnChannel:a,errorChannel:c}=r(69050),u={debug:e=>console.debug(e),info:e=>console.info(e),warn:e=>console.warn(e),error:e=>console.error(e)};let p=!1,l=u,d=s();function h(e){const t=n.getStore();n.enterWith({noop:!0}),e(),n.enterWith(t)}function f(e){i.hasSubscribers&&i.unsubscribe(y),o.hasSubscribers&&o.unsubscribe(_),a.hasSubscribers&&a.unsubscribe(g),c.hasSubscribers&&c.unsubscribe(m),e&&(i.logLevel>=d&&i.subscribe(y),o.logLevel>=d&&o.subscribe(_),a.logLevel>=d&&a.subscribe(g),c.logLevel>=d&&c.subscribe(m))}function m(e){p&&b(e)}function g(e){p&&v(e)}function _(e){p&&E(e)}function y(e){p&&S(e)}function b(e){"object"==typeof e&&e?e.stack||(e=String(e.message||e)):e=String(e),"string"==typeof e&&(e=new Error(e)),h((()=>l.error(e)))}function v(e){if(!l.warn)return S(e);h((()=>l.warn(e)))}function E(e){if(!l.info)return S(e);h((()=>l.info(e)))}function S(e){h((()=>l.debug(e)))}e.exports={use:function(e){e&&e.debug instanceof Function&&e.error instanceof Function&&(l=e)},toggle:function(e,t){void 0!==t&&(d=s(t)),p=e,f(p)},reset:function(){l=u,p=!1,d=s(),f(!1)},error:b,warn:v,info:E,debug:S}},22858:(e,t,r)=>{"use strict";const{URL:n,format:s}=r(57310),i=r(84655),o=r(22037),a=r(41574),c=r(63178),u=r(12468),{performance:p}=r(4074);let l,d,h,f,m,g,_,y,b=null;function v(){l=null,d=null,h=null,f=null,m={},g={},_={},b=null}v(),e.exports={start(e){const t=[];Object.keys(e.tags).filter((t=>"string"==typeof e.tags[t])).filter((t=>"runtime-id"!==t||e.experimental&&e.experimental.runtimeId)).forEach((r=>{const n=e.tags[r].replace(/[^a-z0-9_:./-]/gi,"_");t.push(`${r}:${n}`)}));try{b=r(8293),b.start()}catch(e){c.error(e),b=null}const o={host:e.dogstatsd.hostname,port:e.dogstatsd.port,tags:t};e.url?o.metricsProxyUrl=e.url:e.port&&(o.metricsProxyUrl=new n(s({protocol:"http:",hostname:e.hostname||"localhost",port:e.port}))),d=new a(o),h=process.hrtime(),b?l=setInterval((()=>{S(),function(){const e=b.stats(),t=e.heap.spaces,r=process.hrtime(h);h=process.hrtime();const n=1e6*r[0]+r[1]/1e3,s=100*e.cpu.user/n,i=100*e.cpu.system/n,o=s+i;d.gauge("runtime.node.cpu.system",i.toFixed(2)),d.gauge("runtime.node.cpu.user",s.toFixed(2)),d.gauge("runtime.node.cpu.total",o.toFixed(2)),T("runtime.node.event_loop.delay",e.eventLoop),Object.keys(e.gc).forEach((t=>{"all"===t?T("runtime.node.gc.pause",e.gc[t]):T("runtime.node.gc.pause.by.type",e.gc[t],[`gc_type:${t}`])}));for(let e=0,r=t.length;e<r;e++){const r=[`heap_space:${t[e].space_name}`];d.gauge("runtime.node.heap.size.by.space",t[e].space_size,r),d.gauge("runtime.node.heap.used_size.by.space",t[e].space_used_size,r),d.gauge("runtime.node.heap.available_size.by.space",t[e].space_available_size,r),d.gauge("runtime.node.heap.physical_size.by.space",t[e].physical_space_size,r)}}(),d.flush()}),1e4):(f=process.cpuUsage(),l=setInterval((()=>{S(),function(){if(!process.cpuUsage)return;const e=process.hrtime(h),t=process.cpuUsage(f);h=process.hrtime(),f=process.cpuUsage();const r=1e3*e[0]+e[1]/1e6,n=100*t.user/1e3/r,s=100*t.system/1e3/r,i=n+s;d.gauge("runtime.node.cpu.system",s.toFixed(2)),d.gauge("runtime.node.cpu.user",n.toFixed(2)),d.gauge("runtime.node.cpu.total",i.toFixed(2))}(),function(){if(!i.getHeapSpaceStatistics)return;const e=i.getHeapSpaceStatistics();for(let t=0,r=e.length;t<r;t++){const r=[`space:${e[t].space_name}`];d.gauge("runtime.node.heap.size.by.space",e[t].space_size,r),d.gauge("runtime.node.heap.used_size.by.space",e[t].space_used_size,r),d.gauge("runtime.node.heap.available_size.by.space",e[t].space_available_size,r),d.gauge("runtime.node.heap.physical_size.by.space",e[t].physical_space_size,r)}}(),d.flush()}),1e4)),l.unref()},stop(){b&&b.stop(),clearInterval(l),v()},track(e){if(b){const t=b.track(e);return{finish:()=>b.finish(t)}}return{finish:()=>{}}},boolean(e,t,r){this.gauge(e,t?1:0,r)},histogram(e,t,r){d&&(_[e]=_[e]||new Map,_[e].has(r)||_[e].set(r,new u),_[e].get(r).record(t))},count(e,t,r,n=!1){if(!d)return;"boolean"==typeof r&&(n=r,r=void 0);const s=n?g:m;s[e]=s[e]||new Map;const i=s[e].get(r)||0;s[e].set(r,i+t)},gauge(e,t,r){d&&(m[e]=m[e]||new Map,m[e].set(r,t))},increment(e,t,r){this.count(e,1,t,r)},decrement(e,t){this.count(e,-1,t)}};const E="eventLoopUtilization"in p?()=>{y=p.eventLoopUtilization(y),d.gauge("runtime.node.event_loop.utilization",y.utilization)}:()=>{};function S(){!function(){const e=process.memoryUsage();d.gauge("runtime.node.mem.heap_total",e.heapTotal),d.gauge("runtime.node.mem.heap_used",e.heapUsed),d.gauge("runtime.node.mem.rss",e.rss),d.gauge("runtime.node.mem.total",o.totalmem()),d.gauge("runtime.node.mem.free",o.freemem()),e.external&&d.gauge("runtime.node.mem.external",e.external)}(),d.gauge("runtime.node.process.uptime",Math.round(process.uptime())),function(){const e=i.getHeapStatistics();d.gauge("runtime.node.heap.total_heap_size",e.total_heap_size),d.gauge("runtime.node.heap.total_heap_size_executable",e.total_heap_size_executable),d.gauge("runtime.node.heap.total_physical_size",e.total_physical_size),d.gauge("runtime.node.heap.total_available_size",e.total_available_size),d.gauge("runtime.node.heap.heap_size_limit",e.heap_size_limit),e.malloced_memory&&d.gauge("runtime.node.heap.malloced_memory",e.malloced_memory),e.peak_malloced_memory&&d.gauge("runtime.node.heap.peak_malloced_memory",e.peak_malloced_memory)}(),Object.keys(m).forEach((e=>{m[e].forEach(((t,r)=>{d.gauge(e,t,r&&[r])}))})),Object.keys(g).forEach((e=>{g[e].forEach(((t,r)=>{d.increment(e,t,r&&[r])}))})),g={},Object.keys(_).forEach((e=>{_[e].forEach(((t,r)=>{T(e,t,r&&[r]),t.reset()}))})),E()}function T(e,t,r){r=[].concat(r),d.gauge(`${e}.min`,t.min,r),d.gauge(`${e}.max`,t.max,r),d.increment(`${e}.sum`,t.sum,r),d.increment(`${e}.total`,t.sum,r),d.gauge(`${e}.avg`,t.avg,r),d.increment(`${e}.count`,t.count,r),d.gauge(`${e}.median`,t.median,r),d.gauge(`${e}.95percentile`,t.p95,r)}},42130:(e,t,r)=>{"use strict";const n=r(68042),s=r(89604),i=new n,o=new s;e.exports=class{constructor(){this._tracer=i,this.appsec=o}init(){return this}use(){return this}trace(e,t,r){if(r||(r=t,t={}),"function"==typeof r)return t=t||{},this._tracer.trace(e,t,r)}wrap(e,t,r){return r||(r=t,t={}),"function"!=typeof r?r:(t=t||{},this._tracer.wrap(e,t,r))}setUrl(){return this._tracer.setUrl.apply(this._tracer,arguments),this}startSpan(){return this._tracer.startSpan.apply(this._tracer,arguments)}inject(){return this._tracer.inject.apply(this._tracer,arguments)}extract(){return this._tracer.extract.apply(this._tracer,arguments)}scope(){return this._tracer.scope.apply(this._tracer,arguments)}getRumData(){return this._tracer.getRumData.apply(this._tracer,arguments)}setUser(e){return this.appsec.setUser(e),this}}},86665:e=>{"use strict";e.exports=class{active(){return null}activate(e,t){return"function"!=typeof t?t:t()}bind(e,t){return e}}},23350:(e,t,r)=>{"use strict";const n=r(97576),s=r(8508),{storage:i}=r(60445);e.exports=class{constructor(e,t){this._store=i.getStore(),this._noopTracer=e,this._noopContext=this._createContext(t)}context(){return this._noopContext}tracer(){return this._noopTracer}setOperationName(e){return this}setBaggageItem(e,t){return this}getBaggageItem(e){}setTag(e,t){return this}addTags(e){return this}log(){return this}logEvent(){}finish(e){}_createContext(e){const t=s();return new n(e?{noop:this,traceId:e._traceId,spanId:t,parentId:e._spanId,baggageItems:Object.assign({},e._baggageItems)}:{noop:this,traceId:t,spanId:t})}}},97576:(e,t,r)=>{"use strict";const n=r(20708),s=r(79188).USER_REJECT;e.exports=class extends n{constructor(e){super(e),this._sampling.priority=s}}},68042:(e,t,r)=>{"use strict";const n=r(86665),s=r(23350);e.exports=class{constructor(e){this._scope=new n,this._span=new s(this)}trace(e,t,r){return r(this._span,(()=>{}))}wrap(e,t,r){return r}scope(){return this._scope}getRumData(){return""}setUrl(){}startSpan(e,t){return this._span}inject(e,t,r){}extract(e,t){return this._span.context()}setUser(){return this}}},55282:e=>{"use strict";e.exports=class{inject(e,t){}extract(e){return null}}},35503:(e,t,r)=>{"use strict";const n=r(5234);e.exports=class extends n{}},8515:(e,t,r)=>{"use strict";const n=r(8508),s=r(20708);e.exports=class{constructor(e){this._config=e}inject(e,t){t&&(t.dd={},e&&(this._config.traceId128BitLoggingEnabled&&e._trace.tags["_dd.p.tid"]?t.dd.trace_id=e._trace.tags["_dd.p.tid"]+e._traceId.toString(16):t.dd.trace_id=e.toTraceId(),t.dd.span_id=e.toSpanId()),this._config.service&&(t.dd.service=this._config.service),this._config.version&&(t.dd.version=this._config.version),this._config.env&&(t.dd.env=this._config.env))}extract(e){if(!(e&&e.dd&&e.dd.trace_id&&e.dd.span_id))return null;if(32===e.dd.trace_id.length){const t=e.dd.trace_id.substring(0,16),r=e.dd.trace_id.substring(16,32),i=new s({traceId:n(r,16),spanId:n(e.dd.span_id,10)});return i._trace.tags["_dd.p.tid"]=t,i}return new s({traceId:n(e.dd.trace_id,10),spanId:n(e.dd.span_id,10)})}}},5234:(e,t,r)=>{"use strict";const n=r(25030),s=r(8508),i=r(20708),o=r(63178),a=r(51193),{AUTO_KEEP:c,AUTO_REJECT:u,USER_KEEP:p}=r(79188),l="x-datadog-trace-id",d="x-datadog-parent-id",h="x-datadog-origin",f="x-datadog-sampling-priority",m="x-datadog-tags",g="ot-baggage-",_="x-b3-traceid",y=/^([0-9a-f]{16}){1,2}$/i,b="x-b3-spanid",v=/^[0-9a-f]{16}$/i,E="x-b3-parentspanid",S="x-b3-sampled",T="x-b3-flags",w="b3",I=/^(([0-9a-f]{16}){1,2}-[0-9a-f]{16}(-[01d](-[0-9a-f]{16})?)?|[01d])$/i,x=new RegExp(`^${g}(.+)$`),k=/^_dd\.p\.[\x21-\x2b\x2d-\x7e]+$/,O=/^[\x20-\x2b\x2d-\x7e]*$/,A=[l,d,f,h].concat([_,b,E,S,T,w]),N=/^([a-f0-9]{2})-([a-f0-9]{32})-([a-f0-9]{16})-([a-f0-9]{2})(-.*)?$/i,R="traceparent",C=/[^\x20-\x2b\x2d-\x3a\x3c-\x7d]/g,L=/[^\x21-\x2b\x2d-\x3c\x3e-\x7e]/g,D=/[^\x20-\x2b\x2d-\x3a\x3c-\x7d]/g,M=/^0+$/;e.exports=class{constructor(e){this._config=e}inject(e,t){this._injectBaggageItems(e,t),this._injectDatadog(e,t),this._injectB3MultipleHeaders(e,t),this._injectB3SingleHeader(e,t),this._injectTraceparent(e,t),o.debug((()=>`Inject into carrier: ${JSON.stringify(n(t,A))}.`))}extract(e){const t=this._extractSpanContext(e);return t?(o.debug((()=>`Extract from carrier: ${JSON.stringify(n(e,A))}.`)),t):t}_injectDatadog(e,t){this._hasPropagationStyle("inject","datadog")&&(t[l]=e.toTraceId(),t[d]=e.toSpanId(),this._injectOrigin(e,t),this._injectSamplingPriority(e,t),this._injectTags(e,t))}_injectOrigin(e,t){const r=e._trace.origin;r&&(t[h]=r)}_injectSamplingPriority(e,t){const r=e._sampling.priority;Number.isInteger(r)&&(t[f]=r.toString())}_injectBaggageItems(e,t){e._baggageItems&&Object.keys(e._baggageItems).forEach((r=>{t[g+r]=String(e._baggageItems[r])}))}_injectTags(e,t){const r=e._trace;if(0===this._config.tagsHeaderMaxLength)return void o.debug("Trace tag propagation is disabled, skipping injection.");const n=[];for(const e in r.tags)if(r.tags[e]&&e.startsWith("_dd.p.")){if(!this._validateTagKey(e)||!this._validateTagValue(r.tags[e]))return void o.error("Trace tags from span are invalid, skipping injection.");n.push(`${e}=${r.tags[e]}`)}const s=n.join(",");s.length>this._config.tagsHeaderMaxLength?o.error("Trace tags from span are too large, skipping injection."):s&&(t[m]=s)}_injectB3MultipleHeaders(e,t){const r=this._hasPropagationStyle("inject","b3"),n=this._hasPropagationStyle("inject","b3multi");(r||n)&&(t[_]=this._getB3TraceId(e),t[b]=e._spanId.toString(16),t[S]=e._sampling.priority>=c?"1":"0",e._sampling.priority>c&&(t[T]="1"),e._parentId&&(t[E]=e._parentId.toString(16)))}_injectB3SingleHeader(e,t){if(!this._hasPropagationStyle("inject","b3 single header"))return null;const r=this._getB3TraceId(e),n=e._spanId.toString(16),s=e._sampling.priority>=c?"1":"0";t[w]=`${r}-${n}-${s}`,e._parentId&&(t[w]+="-"+e._parentId.toString(16))}_injectTraceparent(e,t){if(!this._hasPropagationStyle("inject","tracecontext"))return;const{_sampling:{priority:r,mechanism:n},_tracestate:s=new a,_trace:{origin:i,tags:o}}=e;t[R]=e.toTraceparent(),s.forVendor("dd",(e=>{if(e.set("s",r),n&&e.set("t.dm",n),"string"==typeof i){const t=i.replace(C,"_").replace(/[\x3d]/g,"~");e.set("o",t)}for(const t in o){if(!o[t]||!t.startsWith("_dd.p."))continue;const r="t."+t.slice(6).replace(L,"_"),n=o[t].toString().replace(D,"_").replace(/[\x3d]/g,"~");e.set(r,n)}})),t.tracestate=s.toString()}_hasPropagationStyle(e,t){return this._config.tracePropagationStyle[e].includes(t)}_extractSpanContext(e){for(const t of this._config.tracePropagationStyle.extract){let r=null;switch(t){case"datadog":r=this._extractDatadogContext(e);break;case"tracecontext":r=this._extractTraceparentContext(e);break;case"b3":case"b3multi":r=this._extractB3MultiContext(e);break;case"b3 single header":r=this._extractB3SingleContext(e)}if(null!==r)return r}return this._extractSqsdContext(e)}_extractDatadogContext(e){const t=this._extractGenericContext(e,l,d,10);return t&&(this._extractOrigin(e,t),this._extractBaggageItems(e,t),this._extractSamplingPriority(e,t),this._extractTags(e,t)),t}_extractB3MultiContext(e){const t=this._extractB3MultipleHeaders(e);return t?this._extractB3Context(t):null}_extractB3SingleContext(e){if(!I.test(e[w]))return null;const t=this._extractB3SingleHeader(e);return t?this._extractB3Context(t):null}_extractB3Context(e){const t="1"===e[T],r=this._getPriority(e[S],t),n=this._extractGenericContext(e,_,b,16);if(void 0!==r){if(!n)return new i({traceId:s(),spanId:null,sampling:{priority:r}});n._sampling.priority=r}return this._extract128BitTraceId(e[_],n),n}_extractSqsdContext(e){const t=e["x-aws-sqsd-attr-_datadog"];if(!t)return null;let r;try{r=JSON.parse(t)}catch(e){return null}return this._extractDatadogContext(r)}_extractTraceparentContext(e){const t=e[R];if(!t)return null;const r=t.trim().match(N);if(r.length){const[t,n,o,c,u]=r.slice(1),p={version:t},l=a.fromString(e.tracestate);if(M.test(n))return null;if(M.test(o))return null;if("ff"===t)return null;if(u&&"00"===t)return null;const d=new i({traceId:s(n,16),spanId:s(o,16),sampling:{priority:1&parseInt(c,10)?1:0},traceparent:p,tracestate:l});return this._extract128BitTraceId(n,d),l.forVendor("dd",(e=>{for(const[t,r]of e.entries())switch(t){case"s":{const e=parseInt(r,10);if(!Number.isInteger(e))continue;(1===d._sampling.priority&&e>0||0===d._sampling.priority&&e<0)&&(d._sampling.priority=e);break}case"o":d._trace.origin=r;break;case"t.dm":{const e=-Math.abs(parseInt(r,10));Number.isInteger(e)&&(d._sampling.mechanism=e,d._trace.tags["_dd.p.dm"]=String(e));break}default:if(!t.startsWith("t."))continue;d._trace.tags[`_dd.p.${t.slice(2)}`]=r.replace(/[\x7e]/gm,"=")}})),this._extractBaggageItems(e,d),d}return null}_extractGenericContext(e,t,r,n){return e[t]&&e[r]?M.test(e[t])?null:new i({traceId:s(e[t],n),spanId:s(e[r],n)}):null}_extractB3MultipleHeaders(e){let t=!0;const r={};return y.test(e[_])&&v.test(e[b])&&(r[_]=e[_],r[b]=e[b],t=!1),e[S]&&(r[S]=e[S],t=!1),e[T]&&(r[T]=e[T],t=!1),t?null:r}_extractB3SingleHeader(e){const t=e[w];if(!t)return null;const r=t.split("-");if("d"===r[0])return{[S]:"1",[T]:"1"};if(1===r.length)return{[S]:r[0]};{const e={[_]:r[0],[b]:r[1]};return r[2]&&(e[S]="0"!==r[2]?"1":"0","d"===r[2]&&(e[T]="1")),e}}_extractOrigin(e,t){const r=e[h];"string"==typeof e[h]&&(t._trace.origin=r)}_extractBaggageItems(e,t){Object.keys(e).forEach((r=>{const n=r.match(x);n&&(t._baggageItems[n[1]]=e[r])}))}_extractSamplingPriority(e,t){const r=parseInt(e[f],10);Number.isInteger(r)&&(t._sampling.priority=r)}_extractTags(e,t){if(!e[m])return;const r=t._trace;if(0===this._config.tagsHeaderMaxLength)o.debug("Trace tag propagation is disabled, skipping extraction.");else if(e[m].length>this._config.tagsHeaderMaxLength)o.error("Trace tags from carrier are too large, skipping extraction.");else{const t=e[m].split(","),n={};for(const e of t){const[t,...r]=e.split("="),s=r.join("=");if(!this._validateTagKey(t)||!this._validateTagValue(s))return void o.error("Trace tags from carrier are invalid, skipping extraction.");n[t]=s}Object.assign(r.tags,n)}}_extract128BitTraceId(e,t){if(!t)return;if(16!==t._traceId.toBuffer().length)return;const r=e.substring(0,16);"0000000000000000"!==r&&(t._trace.tags["_dd.p.tid"]=r)}_validateTagKey(e){return k.test(e)}_validateTagValue(e){return O.test(e)}_getPriority(e,t){return t?p:"1"===e?c:"0"===e?u:void 0}_getB3TraceId(e){return e._traceId.toBuffer().length<=8&&e._trace.tags["_dd.p.tid"]?e._trace.tags["_dd.p.tid"]+e._traceId.toString(16):e._traceId.toString(16)}}},51193:e=>{"use strict";const t=/[ \t]*([^=]+)=([ \t]*[^, \t]+)[ \t]*(,|$)/gim,r=/([^:]+):([^;]+)(;|$)/gim;function n(e,t,r){if("string"!=typeof r||!r.length)return new e;const n=[];for(const e of r.matchAll(t))n.unshift(e.slice(1,3));return new e(n)}function s(e,t,r){return Array.from(e.entries()).reverse().map((e=>e.join(t))).join(r)}class i extends Map{constructor(...e){super(...e),this.changed=!1}set(...e){if(!this.has(e[0])||this.get(e[0])!==e[1])return this.changed=!0,super.set(...e)}delete(...e){return this.changed=!0,super.delete(...e)}clear(...e){return this.changed=!0,super.clear(...e)}static fromString(e){return n(i,r,e)}toString(){return s(this,":",";")}}class o extends Map{set(e,t){return this.has(e)&&this.delete(e),super.set(e,t)}forVendor(e,t){const r=super.get(e),n=i.fromString(r),s=t(n);return n.changed&&(n.toString()?this.set(e,n.toString()):this.delete(e)),s}static fromString(e){return n(o,t,e)}toString(){return s(this,"=",",")}}e.exports=o},60320:(e,t,r)=>{"use strict";const{performance:n}=r(4074),s=n.now.bind(n),i=Date.now,o=r(81249),a=r(20708),c=r(8508),u=r(93954),p=r(22858),l=r(63178),{storage:d}=r(60445),{DD_TRACE_EXPERIMENTAL_STATE_TRACKING:h,DD_TRACE_EXPERIMENTAL_SPAN_COUNTS:f}=process.env,m=_("unfinished"),g=_("finished");function _(e){if(o.satisfies(process.version,">=14.6"))return new global.FinalizationRegistry((t=>{p.decrement(`runtime.node.spans.${e}`),p.decrement(`runtime.node.spans.${e}.by.name`,[`span_name:${t}`])}))}e.exports=class{constructor(e,t,r,n,s){const i=n.operationName,o=n.parent||null,a=Object.assign({},n.tags),c=n.hostname;this._parentTracer=e,this._debug=s,this._processor=t,this._prioritySampler=r,this._store=d.getStore(),this._duration=void 0,this._name=i,this._spanContext=this._createContext(o,n),this._spanContext._name=i,this._spanContext._tags=a,this._spanContext._hostname=c,this._startTime=n.startTime||this._getTime(),f&&g&&(p.increment("runtime.node.spans.unfinished"),p.increment("runtime.node.spans.unfinished.by.name",`span_name:${i}`),p.increment("runtime.node.spans.open"),p.increment("runtime.node.spans.open.by.name",`span_name:${i}`),m.register(this,i,this))}toString(){const e=this.context(),t=e._tags["resource.name"],r=t.length>100?`${t.substring(0,97)}...`:t;return`Span${JSON.stringify({traceId:e._traceId,spanId:e._spanId,parentId:e._parentId,service:e._tags["service.name"],name:e._name,resource:r})}`}context(){return this._spanContext}tracer(){return this._parentTracer}setOperationName(e){return this._spanContext._name=e,this}setBaggageItem(e,t){return this._spanContext._baggageItems[e]=t,this}getBaggageItem(e){return this._spanContext._baggageItems[e]}setTag(e,t){return this._addTags({[e]:t}),this}addTags(e){return this._addTags(e),this}log(){return this}logEvent(){}finish(e){void 0===this._duration&&("true"===h&&(this._spanContext._tags["service.name"]||l.error(`Finishing invalid span: ${this}`)),f&&g&&(p.decrement("runtime.node.spans.unfinished"),p.decrement("runtime.node.spans.unfinished.by.name",`span_name:${this._name}`),p.increment("runtime.node.spans.finished"),p.increment("runtime.node.spans.finished.by.name",`span_name:${this._name}`),p.decrement("runtime.node.spans.open"),p.decrement("runtime.node.spans.open.by.name",`span_name:${this._name}`),m.unregister(this),g.register(this,this._name)),e=parseFloat(e)||this._getTime(),this._duration=e-this._startTime,this._spanContext._trace.finished.push(this),this._spanContext._isFinished=!0,this._processor.process(this))}_createContext(e,t){let r;if(e)r=new a({traceId:e._traceId,spanId:c(),parentId:e._spanId,sampling:e._sampling,baggageItems:Object.assign({},e._baggageItems),trace:e._trace,tracestate:e._tracestate}),r._trace.startTime||(r._trace.startTime=i());else{const e=c(),n=i();r=new a({traceId:e,spanId:e}),r._trace.startTime=n,t.traceId128BitGenerationEnabled&&(r._trace.tags["_dd.p.tid"]=Math.floor(n/1e3).toString(16).padStart(8,"0").padEnd(16,"0"))}return r._trace.started.push(this),r._trace.ticks=r._trace.ticks||s(),r}_getTime(){const{startTime:e,ticks:t}=this._spanContext._trace;return e+s()-t}_addTags(e){u.add(this._spanContext._tags,e),this._prioritySampler.sample(this,!1)}}},20708:(e,t,r)=>{"use strict";const{AUTO_KEEP:n}=r(79188);e.exports=class{constructor(e){e=e||{},this._traceId=e.traceId,this._spanId=e.spanId,this._parentId=e.parentId||null,this._name=e.name,this._isFinished=e.isFinished||!1,this._tags=e.tags||{},this._sampling=Object.assign({},e.sampling),this._baggageItems=e.baggageItems||{},this._traceparent=e.traceparent,this._tracestate=e.tracestate,this._noop=e.noop||null,this._trace=e.trace||{started:[],finished:[],tags:{}}}toTraceId(){return this._traceId.toString(10)}toSpanId(){return this._spanId.toString(10)}toTraceparent(){const e=this._sampling.priority>=n?"01":"00",t=this._traceId.toBuffer().length<=8&&this._trace.tags["_dd.p.tid"]?this._trace.tags["_dd.p.tid"]+this._traceId.toString(16).padStart(16,"0"):this._traceId.toString(16).padStart(32,"0"),r=this._spanId.toString(16).padStart(16,"0");return`${this._traceparent&&this._traceparent.version||"00"}-${t}-${r}-${e}`}}},89924:(e,t,r)=>{"use strict";const n=r(22037),s=r(60320),i=r(13837),o=r(9265),a=r(5234),c=r(35503),u=r(55282),p=r(8515),l=r(69769),d=r(63178),h=r(22858),f=r(61233),m=r(20708);e.exports=class{constructor(e){const t=f(e.experimental.exporter);this._service=e.service,this._version=e.version,this._env=e.env,this._tags=e.tags,this._logInjection=e.logInjection,this._debug=e.debug,this._prioritySampler=new o(e.env,e.sampler),this._exporter=new t(e,this._prioritySampler),this._processor=new i(this._exporter,this._prioritySampler,e),this._url=this._exporter._url,this._enableGetRumData=e.experimental.enableGetRumData,this._traceId128BitGenerationEnabled=e.traceId128BitGenerationEnabled,this._propagators={[l.TEXT_MAP]:new a(e),[l.HTTP_HEADERS]:new c(e),[l.BINARY]:new u(e),[l.LOG]:new p(e)},e.reportHostname&&(this._hostname=n.hostname())}startSpan(e,t={}){const r=t.childOf?((o=t.childOf)instanceof s&&(o=o.context()),o instanceof m||(o=null),o):function(e=[]){let t=null;for(let r=0;r<e.length;r++){const n=e[r],s=n.type();if("child_of"===s){t=n.referencedContext();break}"follows_from"===s&&(t||(t=n.referencedContext()))}return t}(t.references),n={"service.name":this._service},i=new s(this,this._processor,this._prioritySampler,{operationName:t.operationName||e,parent:r,tags:n,startTime:t.startTime,hostname:this._hostname,traceId128BitGenerationEnabled:this._traceId128BitGenerationEnabled},this._debug);var o;return i.addTags(this._tags),i.addTags(t.tags),i}inject(e,t,r){e instanceof s&&(e=e.context());try{this._prioritySampler.sample(e),this._propagators[t].inject(e,r)}catch(e){d.error(e),h.increment("datadog.tracer.node.inject.errors",!0)}}extract(e,t){try{return this._propagators[e].extract(t)}catch(e){return d.error(e),h.increment("datadog.tracer.node.extract.errors",!0),null}}}},16310:(e,t,r)=>{"use strict";const n=r(57147),s=r(71017);function i(){return r.c[r.s]&&r.c[r.s].filename?s.dirname(r.c[r.s].filename):process.cwd()}function o(e,t,r){for(;;){const i=s.resolve(r,e);if(n.existsSync(i))return i;if(r===t)return;r=s.dirname(r)}}e.exports=Object.assign(function(){const e=i(),t=s.resolve(e),r=s.parse(t);if(!r)return{};const{root:a}=r,c=o("package.json",a,t);try{return JSON.parse(n.readFileSync(c,"utf8"))}catch(e){return{}}}(),{findRoot:i,findUp:o})},59303:(e,t,r)=>{"use strict";const{channel:n}=r(83928),{isFalse:s}=r(66456),i=r(6053),o=r(63178),a=n("dd-trace:instrumentation:load");r(6488),void 0!==process.env.AWS_LAMBDA_FUNCTION_NAME&&r(7187);const{DD_TRACE_DISABLED_PLUGINS:c}=process.env,u=new Set(c&&c.split(",").map((e=>e.trim()))),p={};a.subscribe((({name:e})=>{const t=i[e];if(t&&"function"==typeof t&&!p[t.id]){const e=`DD_TRACE_${t.id.toUpperCase()}_ENABLED`,r=process.env[e.replace(/[^a-z0-9_]/gi,"_")];s(r)||u.has(t.id)?(o.debug(`Plugin "${t.id}" was disabled via configuration option.`),p[t.id]=null):p[t.id]=t}})),e.exports=class{constructor(e){this._tracer=e,this._tracerConfig=null,this._pluginsByName={},this._configsByName={},this._loadedSubscriber=({name:e})=>{const t=i[e];t&&"function"==typeof t&&this.loadPlugin(t.id)},a.subscribe(this._loadedSubscriber)}loadPlugin(e){const t=p[e];if(!t)return;if(this._pluginsByName[e]||(this._pluginsByName[e]=new t(this._tracer)),!this._tracerConfig)return;const r=this._configsByName[e]||{enabled:!1!==this._tracerConfig.plugins};this._pluginsByName[e].configure({...this._getSharedConfig(e),...r})}configurePlugin(e,t){const r=this._isEnabled(t);this._configsByName[e]={...t,enabled:r},this.loadPlugin(e)}configure(e={}){this._tracerConfig=e;for(const e in p)this.loadPlugin(e)}destroy(){for(const e in this._pluginsByName)this._pluginsByName[e].configure({enabled:!1});a.unsubscribe(this._loadedSubscriber)}_isEnabled(e){return"boolean"==typeof e?e:!e||!1!==e.enabled}_getSharedConfig(e){const{logInjection:t,serviceMapping:r,queryStringObfuscation:n,site:s,url:i,dbmPropagationMode:o}=this._tracerConfig,a={};return void 0!==t&&(a.logInjection=t),void 0!==n&&(a.queryStringObfuscation=n),a.dbmPropagationMode=o,r&&r[e]&&(a.service=r[e]),a.site=s,a.url=i,a}}},1961:(e,t,r)=>{"use strict";const n=r(81790);e.exports=class extends n{static get operation(){return"command"}}},57363:(e,t,r)=>{const{getTestEnvironmentMetadata:n,getCodeOwnersFileEntries:s,getTestParentSpan:i,getTestCommonTags:o,getCodeOwnersForFilename:a,TEST_CODE_OWNERS:c,CI_APP_ORIGIN:u,getTestSessionCommonTags:p,getTestModuleCommonTags:l,TEST_SUITE_ID:d,TEST_MODULE_ID:h,TEST_SESSION_ID:f,TEST_COMMAND:m,TEST_MODULE:g}=r(90186),_=r(63391),{COMPONENT:y}=r(12909),b=r(63178);e.exports=class extends _{constructor(...e){super(...e),this.addSub(`ci:${this.constructor.id}:itr-configuration`,(({onDone:e})=>{if(!this.tracer._exporter||!this.tracer._exporter.getItrConfiguration)return e({err:new Error("CI Visibility was not initialized correctly")});this.tracer._exporter.getItrConfiguration(this.testConfiguration,((t,r)=>{t?b.error(`Intelligent Test Runner configuration could not be fetched. ${t.message}`):this.itrConfig=r,e({err:t,itrConfig:r})}))})),this.addSub(`ci:${this.constructor.id}:test-suite:skippable`,(({onDone:e})=>{if(!this.tracer._exporter||!this.tracer._exporter.getSkippableSuites)return e({err:new Error("CI Visibility was not initialized correctly")});this.tracer._exporter.getSkippableSuites(this.testConfiguration,((t,r)=>{t&&b.error(`Skippable suites could not be fetched. ${t.message}`),e({err:t,skippableSuites:r})}))})),this.addSub(`ci:${this.constructor.id}:session:start`,(({command:e,frameworkVersion:t,rootDir:r})=>{const n=i(this.tracer),s=p(e,t,this.constructor.id),o=l(e,t,this.constructor.id);this.command=e,this.frameworkVersion=t,this.rootDir=r,this.testSessionSpan=this.tracer.startSpan(`${this.constructor.id}.test_session`,{childOf:n,tags:{[y]:this.constructor.id,...this.testEnvironmentMetadata,...s}}),this.testModuleSpan=this.tracer.startSpan(`${this.constructor.id}.test_module`,{childOf:this.testSessionSpan,tags:{[y]:this.constructor.id,...this.testEnvironmentMetadata,...o}})}))}configure(e){super.configure(e),this.testEnvironmentMetadata=n(this.constructor.id,this.config),this.codeOwnersEntries=s();const{"git.repository_url":t,"git.commit.sha":r,"os.version":i,"os.platform":o,"os.architecture":a,"runtime.name":c,"runtime.version":u,"git.branch":p}=this.testEnvironmentMetadata;this.testConfiguration={repositoryUrl:t,sha:r,osVersion:i,osPlatform:o,osArchitecture:a,runtimeName:c,runtimeVersion:u,branch:p}}startTestSpan(e,t,r,n={}){const s=i(this.tracer);let p={...o(e,t,this.frameworkVersion),[y]:this.constructor.id,...n};const l=a(t,this.codeOwnersEntries);if(l&&(p[c]=l),r){s._trace.startTime=r.context()._trace.startTime,s._trace.ticks=r.context()._trace.ticks;const e={[d]:r.context().toSpanId(),[f]:r.context().toTraceId(),[m]:r.context()._tags[m],[g]:this.constructor.id};r.context()._parentId&&(e[h]=r.context()._parentId.toString(10)),p={...p,...e}}const _=this.tracer.startSpan(`${this.constructor.id}.test`,{childOf:s,tags:{...this.testEnvironmentMetadata,...p}});return _.context()._trace.origin=u,_}}},90532:(e,t,r)=>{"use strict";const n=r(86392);e.exports=class extends n{static get operation(){return"request"}}},35905:(e,t,r)=>{"use strict";const n=r(63391);e.exports=class extends n{constructor(...e){super(...e);for(const[t,r]of Object.entries(this.constructor.plugins))this[t]=new r(...e)}configure(e){for(const t in this.constructor.plugins){const r=!1!==e[t]&&{...e,...e[t]};this[t].configure(r)}}}},85945:(e,t,r)=>{"use strict";const n=r(15916);e.exports=class extends n{static get operation(){return"receive"}}},96284:(e,t,r)=>{"use strict";const n=r(81790);e.exports=class extends n{static get operation(){return"query"}constructor(...e){super(...e),this.serviceTags={dddbs:"",encodedDddbs:"",dde:"",encodedDde:"",ddps:"",encodedDdps:"",ddpv:"",encodedDdpv:""}}encodingServiceTags(e,t,r){e!==r&&(this.serviceTags[e]=r,this.serviceTags[t]=encodeURIComponent(r))}createDBMPropagationCommentService(e){this.encodingServiceTags("dddbs","encodedDddbs",e),this.encodingServiceTags("dde","encodedDde",this.tracer._env),this.encodingServiceTags("ddps","encodedDdps",this.tracer._service),this.encodingServiceTags("ddpv","encodedDdpv",this.tracer._version);const{encodedDddbs:t,encodedDde:r,encodedDdps:n,encodedDdpv:s}=this.serviceTags;return`dddbs='${t}',dde='${r}',ddps='${n}',ddpv='${s}'`}injectDbmQuery(e,t){if("disabled"===this.config.dbmPropagationMode)return e;const r=this.createDBMPropagationCommentService(t);return"service"===this.config.dbmPropagationMode?`/*${r}*/ ${e}`:"full"===this.config.dbmPropagationMode?(this.activeSpan.setTag("_dd.dbm_trace_injected","true"),`/*${r},traceparent='${this.activeSpan._spanContext.toTraceparent()}'*/ ${e}`):void 0}}},15916:(e,t,r)=>{"use strict";const n=r(44797);e.exports=class extends n{}},6053:(e,t,r)=>{"use strict";e.exports={get"@aws-sdk/smithy-client"(){return r(19872)},get"@cucumber/cucumber"(){return r(74260)},get"@playwright/test"(){return r(6099)},get"@elastic/elasticsearch"(){return r(49959)},get"@elastic/transport"(){return r(49959)},get"@google-cloud/pubsub"(){return r(67887)},get"@grpc/grpc-js"(){return r(69897)},get"@hapi/hapi"(){return r(99154)},get"@jest/core"(){return r(16599)},get"@koa/router"(){return r(25329)},get"@node-redis/client"(){return r(78551)},get"@opensearch-project/opensearch"(){return r(59015)},get"@redis/client"(){return r(78551)},get amqp10(){return r(19831)},get amqplib(){return r(23421)},get"aws-sdk"(){return r(19872)},get bunyan(){return r(18155)},get"cassandra-driver"(){return r(50789)},get connect(){return r(89685)},get couchbase(){return r(64830)},get cypress(){return r(46614)},get dns(){return r(70057)},get elasticsearch(){return r(49959)},get express(){return r(52127)},get fastify(){return r(54972)},get"find-my-way"(){return r(70483)},get graphql(){return r(52316)},get grpc(){return r(69897)},get hapi(){return r(99154)},get http(){return r(48469)},get http2(){return r(79098)},get https(){return r(48469)},get ioredis(){return r(28330)},get"jest-circus"(){return r(16599)},get"jest-config"(){return r(16599)},get"jest-environment-node"(){return r(16599)},get"jest-environment-jsdom"(){return r(16599)},get"jest-jasmine2"(){return r(16599)},get"jest-worker"(){return r(16599)},get koa(){return r(25329)},get"koa-router"(){return r(25329)},get kafkajs(){return r(28047)},get mariadb(){return r(77246)},get memcached(){return r(18612)},get"microgateway-core"(){return r(51493)},get mocha(){return r(20954)},get"mocha-each"(){return r(20954)},get moleculer(){return r(97806)},get mongodb(){return r(71162)},get"mongodb-core"(){return r(71162)},get mysql(){return r(11071)},get mysql2(){return r(37277)},get net(){return r(38777)},get next(){return r(89719)},get oracledb(){return r(83464)},get paperplane(){return r(27433)},get pg(){return r(76145)},get pino(){return r(50633)},get"pino-pretty"(){return r(50633)},get redis(){return r(78551)},get restify(){return r(56674)},get rhea(){return r(22959)},get router(){return r(76830)},get sharedb(){return r(63321)},get tedious(){return r(43077)},get winston(){return r(34485)}}},99642:(e,t,r)=>{"use strict";const{LOG:n}=r(69769),s=r(63391),{storage:i}=r(60445);function o(e,t){return"dd"===t&&!Reflect.has(e,t)&&Reflect.isExtensible(e)}e.exports=class extends s{constructor(...e){super(...e),this.addSub(`apm:${this.constructor.id}:log`,(e=>{const t=i.getStore(),r=t&&t.span,s={};this.tracer.inject(r,n,s),e.message=function(e,t){return new Proxy(e,{get:(e,r,n)=>r===Symbol.toStringTag?Object.prototype.toString.call(e).slice(8,-1):o(e,r)?t.dd:Reflect.get(e,r,n),ownKeys(e){const t=Reflect.ownKeys(e);return r=e,Object.prototype.hasOwnProperty.call(r,"dd")||!Reflect.isExtensible(e)?t:["dd",...t];var r},getOwnPropertyDescriptor:(e,r)=>Reflect.getOwnPropertyDescriptor(o(e,r)?t:e,r)})}(e.message,s)}))}configure(e){return super.configure({...e,enabled:e.enabled&&e.logInjection})}}},86392:(e,t,r)=>{"use strict";const{CLIENT_PORT_KEY:n}=r(12909),s=r(44797);e.exports=class extends s{constructor(...e){super(...e),this.addTraceSub("connect",(e=>{this.connect(e)}))}connect(e){this.addHost(e.hostname,e.port)}addHost(e,t){const r=this.activeSpan;r&&r.addTags({"out.host":e,[n]:t})}}},63391:(e,t,r)=>{"use strict";const n=r(83928),{storage:s}=r(60445);class i{constructor(e,t){this._channel=n.channel(e),this._handler=(e,r)=>{const n=s.getStore();n&&n.noop||t(e,r)}}enable(){this._channel.subscribe(this._handler)}disable(){this._channel.unsubscribe(this._handler)}}e.exports=class{constructor(e){this._subscriptions=[],this._enabled=!1,this._tracer=e}get tracer(){return this._tracer._tracer}enter(e,t){t=t||s.getStore(),s.enterWith({...t,span:e})}skip(){s.enterWith({noop:!0})}addSub(e,t){this._subscriptions.push(new i(e,t))}addError(e){const t=s.getStore();t&&t.span&&(t.span._spanContext._tags.error||t.span.setTag("error",e||1))}configure(e){"boolean"==typeof e&&(e={enabled:e}),this.config=e,e.enabled&&!this._enabled?(this._enabled=!0,this._subscriptions.forEach((e=>e.enable()))):!e.enabled&&this._enabled&&(this._enabled=!1,this._subscriptions.forEach((e=>e.disable())))}}},35966:(e,t,r)=>{"use strict";const n=r(86392);e.exports=class extends n{static get operation(){return"publish"}}},25399:(e,t,r)=>{"use strict";const n=r(15916);e.exports=class extends n{static get operation(){return"request"}}},81790:(e,t,r)=>{"use strict";const n=r(90532);e.exports=class extends n{constructor(...e){super(...e),this.system=this.constructor.system||this.component}startSpan(e,t){return!t.service&&this.system&&(t.service=`${this.tracer._service}-${this.system}`),super.startSpan(e,t)}}},44797:(e,t,r)=>{"use strict";const n=r(63391),{storage:s}=r(60445),i=r(45032),{COMPONENT:o}=r(12909);e.exports=class extends n{constructor(...e){super(...e),this.component=this.constructor.component||this.constructor.id,this.operation=this.constructor.operation,this.addTraceSub("start",(e=>{this.start(e)})),this.addTraceSub("error",(e=>{this.error(e)})),this.addTraceSub("finish",(e=>{this.finish(e)}))}get activeSpan(){const e=s.getStore();return e&&e.span}configure(e){return super.configure({...e,hooks:{[this.operation]:()=>{},...e.hooks}})}start(){}finish(){this.activeSpan.finish()}error(e){this.addError(e)}addTraceSub(e,t){this.addSub(`apm:${this.component}:${this.operation}:${e}`,t)}addError(e){const t=this.activeSpan;t._spanContext._tags.error||t.setTag("error",e||1)}startSpan(e,{childOf:t,kind:r,meta:n,metrics:a,service:c,resource:u,type:p}={}){const l=s.getStore();l&&void 0===t&&(t=l.span);const d=this.tracer.startSpan(e,{childOf:t,tags:{[o]:this.component,"service.name":c||this.tracer._service,"resource.name":u,"span.kind":r,"span.type":p,...n,...a}});return i.sample(d,this.config.measured),s.enterWith({...l,span:d}),d}}},79377:(e,t,r)=>{const n=r(57310).URL,{GIT_BRANCH:s,GIT_COMMIT_SHA:i,GIT_TAG:o,GIT_COMMIT_AUTHOR_EMAIL:a,GIT_COMMIT_AUTHOR_NAME:c,GIT_COMMIT_MESSAGE:u,GIT_COMMIT_AUTHOR_DATE:p,GIT_REPOSITORY_URL:l,CI_PIPELINE_ID:d,CI_PIPELINE_NAME:h,CI_PIPELINE_NUMBER:f,CI_PIPELINE_URL:m,CI_PROVIDER_NAME:g,CI_WORKSPACE_PATH:_,CI_JOB_URL:y,CI_JOB_NAME:b,CI_STAGE_NAME:v,CI_ENV_VARS:E,GIT_COMMIT_COMMITTER_NAME:S,GIT_COMMIT_COMMITTER_EMAIL:T}=r(85523);function w(e,t,r){e[t]&&(e[t]=r(e[t]))}function I(e){return e?e.replace(/origin\/|refs\/heads\/|tags\//gm,""):e}function x(e){if(e.startsWith("git@"))return e;try{const{protocol:t,hostname:r,pathname:s}=new n(e);return`${t}//${r}${s}`}catch(t){return e}}function k(e){return e&&"string"==typeof e?"~"!==e[0]||"/"!==e[1]&&1!==e.length?e:e.replace("~",process.env.HOME):""}e.exports={normalizeRef:I,getCIMetadata(){const{env:e}=process;let t={};if(e.JENKINS_URL){const{WORKSPACE:r,BUILD_TAG:n,JOB_NAME:a,BUILD_NUMBER:c,BUILD_URL:u,GIT_BRANCH:p,GIT_COMMIT:y,GIT_URL:b,GIT_URL_1:v,DD_CUSTOM_TRACE_ID:S}=e;t={[d]:n,[f]:c,[m]:u,[g]:"jenkins",[i]:y,[l]:b||v,[_]:r,[E]:JSON.stringify({DD_CUSTOM_TRACE_ID:S})};const T=p&&p.includes("tags/")?o:s,w=I(p);t[T]=w;let x="";if(a){const e=a.split("/");x=e.length>1&&e[1].includes("=")?e[0]:a.replace(`/${w}`,""),t[h]=x}}if(e.GITLAB_CI){const{CI_PIPELINE_ID:r,CI_PROJECT_PATH:n,CI_PIPELINE_IID:S,CI_PIPELINE_URL:T,CI_PROJECT_DIR:w,CI_COMMIT_REF_NAME:I,CI_COMMIT_TAG:x,CI_COMMIT_SHA:k,CI_REPOSITORY_URL:O,CI_JOB_URL:A,CI_JOB_STAGE:N,CI_JOB_NAME:R,CI_COMMIT_MESSAGE:C,CI_COMMIT_TIMESTAMP:L,CI_COMMIT_AUTHOR:D,CI_PROJECT_URL:M,CI_JOB_ID:P}=e,{name:j,email:q}=function(e){if(!e)return{name:"",email:""};let t="",r="";const n=e.match(/(?:"?([^"]*)"?\s)?(?:<?(.+@[^>]+)>?)/);return n&&(t=n[1],r=n[2]),{name:t,email:r}}(D);t={[d]:r,[h]:n,[f]:S,[g]:"gitlab",[i]:k,[l]:O,[y]:A,[o]:x,[s]:I,[_]:w,[m]:T&&T.replace("/-/pipelines/","/pipelines/"),[v]:N,[b]:R,[u]:C,[c]:j,[a]:q,[p]:L,[E]:JSON.stringify({CI_PROJECT_URL:M,CI_PIPELINE_ID:r,CI_JOB_ID:P})}}if(e.CIRCLECI){const{CIRCLE_WORKFLOW_ID:r,CIRCLE_PROJECT_REPONAME:n,CIRCLE_BUILD_URL:a,CIRCLE_WORKING_DIRECTORY:c,CIRCLE_BRANCH:u,CIRCLE_TAG:p,CIRCLE_SHA1:f,CIRCLE_REPOSITORY_URL:v,CIRCLE_JOB:S,CIRCLE_BUILD_NUM:T}=e;t={[d]:r,[h]:n,[m]:`https://app.circleci.com/pipelines/workflows/${r}`,[b]:S,[g]:"circleci",[i]:f,[l]:v,[y]:a,[_]:c,[o]:p,[s]:u,[E]:JSON.stringify({CIRCLE_WORKFLOW_ID:r,CIRCLE_BUILD_NUM:T})}}if(e.GITHUB_ACTIONS||e.GITHUB_ACTION){const{GITHUB_RUN_ID:r,GITHUB_WORKFLOW:n,GITHUB_RUN_NUMBER:a,GITHUB_WORKSPACE:c,GITHUB_HEAD_REF:u,GITHUB_REF:p,GITHUB_SHA:v,GITHUB_REPOSITORY:S,GITHUB_SERVER_URL:T,GITHUB_RUN_ATTEMPT:w,GITHUB_JOB:I}=e,x=`${T}/${S}.git`;let k=`${T}/${S}/actions/runs/${r}`;w&&(k=`${k}/attempts/${w}`);const O=`${T}/${S}/commit/${v}/checks`,A=u||p||"",N=A.includes("tags/")?o:s;t={[d]:r,[h]:n,[f]:a,[m]:k,[g]:"github",[i]:v,[l]:x,[y]:O,[b]:I,[_]:c,[N]:A,[E]:JSON.stringify({GITHUB_SERVER_URL:T,GITHUB_REPOSITORY:S,GITHUB_RUN_ID:r,GITHUB_RUN_ATTEMPT:w})}}if(e.APPVEYOR){const{APPVEYOR_REPO_NAME:r,APPVEYOR_REPO_PROVIDER:n,APPVEYOR_BUILD_FOLDER:p,APPVEYOR_BUILD_ID:b,APPVEYOR_BUILD_NUMBER:v,APPVEYOR_REPO_COMMIT:E,APPVEYOR_PULL_REQUEST_HEAD_REPO_BRANCH:S,APPVEYOR_REPO_BRANCH:T,APPVEYOR_REPO_TAG_NAME:w,APPVEYOR_REPO_COMMIT_AUTHOR:I,APPVEYOR_REPO_COMMIT_AUTHOR_EMAIL:x,APPVEYOR_REPO_COMMIT_MESSAGE:k,APPVEYOR_REPO_COMMIT_MESSAGE_EXTENDED:O}=e,A=`https://ci.appveyor.com/project/${r}/builds/${b}`;t={[g]:"appveyor",[m]:A,[d]:b,[h]:r,[f]:v,[y]:A,[_]:p,[c]:I,[a]:x,[u]:k+"\n"+O},"github"===n&&(t={...t,[l]:`https://github.com/${r}.git`,[i]:E,[o]:w,[s]:S||T})}if(e.TF_BUILD){const{BUILD_SOURCESDIRECTORY:r,BUILD_BUILDID:n,BUILD_DEFINITIONNAME:p,SYSTEM_TEAMFOUNDATIONSERVERURI:S,SYSTEM_TEAMPROJECTID:T,SYSTEM_JOBID:w,SYSTEM_TASKINSTANCEID:I,SYSTEM_PULLREQUEST_SOURCEBRANCH:x,BUILD_SOURCEBRANCH:k,BUILD_SOURCEBRANCHNAME:O,SYSTEM_PULLREQUEST_SOURCECOMMITID:A,SYSTEM_PULLREQUEST_SOURCEREPOSITORYURI:N,BUILD_REPOSITORY_URI:R,BUILD_SOURCEVERSION:C,BUILD_REQUESTEDFORID:L,BUILD_REQUESTEDFOREMAIL:D,BUILD_SOURCEVERSIONMESSAGE:M,SYSTEM_STAGEDISPLAYNAME:P,SYSTEM_JOBDISPLAYNAME:j}=e,q=x||k||O,U=(q||"").includes("tags/")?o:s;if(t={[g]:"azurepipelines",[d]:n,[h]:p,[f]:n,[i]:A||C,[_]:r,[l]:N||R,[U]:q,[c]:L,[a]:D,[u]:M,[v]:P,[b]:j,[E]:JSON.stringify({SYSTEM_TEAMPROJECTID:T,BUILD_BUILDID:n,SYSTEM_JOBID:w})},S&&T&&n){const e=`${S}${T}/_build/results?buildId=${n}`,r=e,s=`${e}&view=logs&j=${w}&t=${I}`;t={...t,[m]:r,[y]:s}}}if(e.BITBUCKET_COMMIT){const{BITBUCKET_REPO_FULL_NAME:r,BITBUCKET_BUILD_NUMBER:n,BITBUCKET_BRANCH:a,BITBUCKET_COMMIT:c,BITBUCKET_GIT_SSH_ORIGIN:u,BITBUCKET_TAG:p,BITBUCKET_PIPELINE_UUID:b,BITBUCKET_CLONE_DIR:v}=e,E=`https://bitbucket.org/${r}/addon/pipelines/home#!/results/${n}`;t={[g]:"bitbucket",[i]:c,[f]:n,[h]:r,[y]:E,[m]:E,[s]:a,[o]:p,[l]:u,[_]:v,[d]:b&&b.replace(/{|}/gm,"")}}if(e.BITRISE_BUILD_SLUG){const{BITRISE_GIT_COMMIT:r,GIT_CLONE_COMMIT_HASH:n,BITRISEIO_GIT_BRANCH_DEST:a,BITRISE_GIT_BRANCH:c,BITRISE_BUILD_SLUG:p,BITRISE_TRIGGERED_WORKFLOW_ID:y,BITRISE_BUILD_NUMBER:b,BITRISE_BUILD_URL:v,BITRISE_SOURCE_DIR:E,GIT_REPOSITORY_URL:S,BITRISE_GIT_TAG:T,BITRISE_GIT_MESSAGE:w}=e;t={[g]:"bitrise",[d]:p,[h]:y,[f]:b,[m]:v,[i]:r||n,[l]:S,[_]:E,[o]:T,[s]:a||c,[u]:w}}if(e.BUILDKITE){const{BUILDKITE_BRANCH:r,BUILDKITE_COMMIT:n,BUILDKITE_REPO:p,BUILDKITE_TAG:b,BUILDKITE_BUILD_ID:v,BUILDKITE_PIPELINE_SLUG:S,BUILDKITE_BUILD_NUMBER:T,BUILDKITE_BUILD_URL:w,BUILDKITE_JOB_ID:I,BUILDKITE_BUILD_CHECKOUT_PATH:x,BUILDKITE_BUILD_AUTHOR:k,BUILDKITE_BUILD_AUTHOR_EMAIL:O,BUILDKITE_MESSAGE:A}=e;t={[g]:"buildkite",[d]:v,[h]:S,[f]:T,[m]:w,[y]:`${w}#${I}`,[i]:n,[_]:x,[l]:p,[o]:b,[s]:r,[c]:k,[a]:O,[u]:A,[E]:JSON.stringify({BUILDKITE_BUILD_ID:v,BUILDKITE_JOB_ID:I})}}if(e.TRAVIS){const{TRAVIS_PULL_REQUEST_BRANCH:r,TRAVIS_BRANCH:n,TRAVIS_COMMIT:a,TRAVIS_REPO_SLUG:c,TRAVIS_TAG:p,TRAVIS_JOB_WEB_URL:b,TRAVIS_BUILD_ID:v,TRAVIS_BUILD_NUMBER:E,TRAVIS_BUILD_WEB_URL:S,TRAVIS_BUILD_DIR:T,TRAVIS_COMMIT_MESSAGE:w}=e;t={[g]:"travisci",[y]:b,[d]:v,[h]:c,[f]:E,[m]:S,[i]:a,[l]:`https://github.com/${c}.git`,[_]:T,[o]:p,[s]:r||n,[u]:w}}if(e.BUDDY){const{BUDDY_EXECUTION_BRANCH:r,BUDDY_EXECUTION_ID:n,BUDDY_EXECUTION_REVISION:a,BUDDY_EXECUTION_REVISION_COMMITTER_EMAIL:c,BUDDY_EXECUTION_REVISION_COMMITTER_NAME:p,BUDDY_EXECUTION_REVISION_MESSAGE:_,BUDDY_EXECUTION_TAG:y,BUDDY_EXECUTION_URL:b,BUDDY_PIPELINE_ID:v,BUDDY_PIPELINE_NAME:E,BUDDY_SCM_URL:w}=e;t={[g]:"buddy",[d]:`${v}/${n}`,[h]:E,[f]:n,[m]:b,[i]:a,[l]:w,[s]:r,[o]:y,[u]:_,[S]:p,[T]:c}}if(e.TEAMCITY_VERSION){const{BUILD_URL:r,TEAMCITY_BUILDCONF_NAME:n,DATADOG_BUILD_ID:s}=e;t={[g]:"teamcity",[y]:r,[b]:n,[E]:JSON.stringify({DATADOG_BUILD_ID:s})}}return w(t,_,k),w(t,l,x),w(t,s,I),w(t,o,I),function(e){return Object.keys(e).reduce(((t,r)=>e[r]?{...t,[r]:e[r]}:t),{})}(t)}}},35662:(e,t,r)=>{const n=r(22037),s="os.platform",i="os.version",o="os.architecture",a="runtime.name",c="runtime.version";e.exports={getRuntimeAndOSMetadata:function(){return{[c]:process.version,[o]:process.arch,[s]:process.platform,[a]:"node",[i]:n.release()}},OS_PLATFORM:s,OS_VERSION:i,OS_ARCHITECTURE:o,RUNTIME_NAME:a,RUNTIME_VERSION:c}},39229:(e,t,r)=>{const n=r(32081);e.exports={sanitizedExec:(e,t={})=>{try{return n.execSync(e,t).toString().replace(/(\r\n|\n|\r)/gm,"")}catch(e){return""}}}},82571:(e,t,r)=>{const{execSync:n}=r(32081),s=r(22037),i=r(71017),o=r(63178),{sanitizedExec:a}=r(39229),{GIT_COMMIT_SHA:c,GIT_BRANCH:u,GIT_REPOSITORY_URL:p,GIT_TAG:l,GIT_COMMIT_MESSAGE:d,GIT_COMMIT_COMMITTER_DATE:h,GIT_COMMIT_COMMITTER_EMAIL:f,GIT_COMMIT_COMMITTER_NAME:m,GIT_COMMIT_AUTHOR_DATE:g,GIT_COMMIT_AUTHOR_EMAIL:_,GIT_COMMIT_AUTHOR_NAME:y,CI_WORKSPACE_PATH:b}=r(85523),v=8388608;e.exports={getGitMetadata:function(e){const{commitSHA:t,branch:r,repositoryUrl:n,tag:s,commitMessage:i,authorName:o,authorEmail:v,ciWorkspacePath:E}=e,[S,T,w,I,x,k]=a("git show -s --format=%an,%ae,%aI,%cn,%ce,%cI",{stdio:"pipe"}).split(",");return{[p]:n||a("git ls-remote --get-url",{stdio:"pipe"}),[d]:i||a("git show -s --format=%s",{stdio:"pipe"}),[g]:w,[y]:o||S,[_]:v||T,[h]:k,[m]:I,[f]:x,[u]:r||a("git rev-parse --abbrev-ref HEAD",{stdio:"pipe"}),[c]:t||a("git rev-parse HEAD",{stdio:"pipe"}),[l]:s,[b]:E||a("git rev-parse --show-toplevel",{stdio:"pipe"})}},getLatestCommits:function(){try{return n('git log --format=%H -n 1000 --since="1 month ago"',{stdio:"pipe"}).toString().split("\n").filter((e=>e))}catch(e){return o.error(e),[]}},getRepositoryUrl:function(){return a("git config --get remote.origin.url",{stdio:"pipe"})},generatePackFilesForCommits:function(e){const t=s.tmpdir(),r=String(Math.floor(1e4*Math.random())),a=i.join(t,r),c=i.join(process.cwd(),r);function u(t){return n(`git pack-objects --compression=9 --max-pack-size=3m ${t}`,{input:e.join("\n")}).toString().split("\n").filter((e=>e)).map((e=>`${t}-${e}.pack`))}try{return u(a)}catch(e){o.error(e);try{return u(c)}catch(e){o.error(e)}return[]}},getCommitsToUpload:function(e){let t='git rev-list --objects --no-object-names --filter=blob:none --since="1 month ago" HEAD';e.forEach((e=>{t=`${t} ^${e}`}));try{return n(t,{stdio:"pipe",maxBuffer:v}).toString().split("\n").filter((e=>e))}catch(e){return o.error(e),[]}},GIT_REV_LIST_MAX_BUFFER:v,isShallowRepository:function(){return"true"===a("git rev-parse --is-shallow-repository",{stdio:"pipe"})},unshallowRepository:function(){try{n('git config remote.origin.partialclonefilter "blob:none"',{stdio:"pipe"}),n('git fetch --shallow-since="1 month ago" --update-shallow --refetch',{stdio:"pipe"})}catch(e){o.error(e)}}}},56924:(e,t,r)=>{"use strict";if(r(81249).satisfies(process.version,">=14.18.0")){const t=r(41808);e.exports=t.BlockList}else{const t=r(56512);e.exports=class{constructor(){this.v4Ranges=[],this.v6Ranges=[]}addSubnet(e,r,n){this["ipv4"===n?"v4Ranges":"v6Ranges"].push(t.parseCIDR(`${e}/${r}`))}check(e,r){try{let n=t.parse(e);if("ipv6"===(r=n.kind())){for(const e of this.v6Ranges)if(n.match(e))return!0;n.isIPv4MappedAddress()&&(n=n.toIPv4Address(),r=n.kind())}if("ipv4"===r)for(const e of this.v4Ranges)if(n.match(e))return!0;return!1}catch{return!1}}}}},82611:(e,t,r)=>{"use strict";const n=r(56924),s=r(41808),i=["x-forwarded-for","x-real-ip","true-client-ip","x-client-ip","x-forwarded","forwarded-for","x-cluster-client-ip","fastly-client-ip","cf-connecting-ip","cf-connecting-ipv6"],o=["127.0.0.0/8","10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","169.254.0.0/16","::1/128","fec0::/10","fe80::/10","fc00::/7","fd00::/8"],a=new n;for(const e of o){const[t,r]=e.split("/");a.addSubnet(t,parseInt(r),s.isIPv6(t)?"ipv6":"ipv4")}function c(e){const t={};if(!e)return t;const r=e.split(",");for(let e=0;e<r.length;e++){const n=r[e].trim(),i=s.isIP(n);if(i){if(!a.check(n,6===i?"ipv6":"ipv4")){t.public=n;break}t.private||(t.private=n)}}return t}e.exports={extractIp:function(e,t){const r=t.headers;if(e.clientIpHeader){if(!r)return;const t=c(r[e.clientIpHeader]);return t.public||t.private}let n;if(r)for(let e=0;e<i.length;e++){const t=c(r[i[e]]);if(t.public)return t.public;!n&&t.private&&(n=t.private)}return n||t.socket&&t.socket.remoteAddress}}},85523:e=>{e.exports={GIT_COMMIT_SHA:"git.commit.sha",GIT_BRANCH:"git.branch",GIT_REPOSITORY_URL:"git.repository_url",GIT_TAG:"git.tag",GIT_COMMIT_MESSAGE:"git.commit.message",GIT_COMMIT_COMMITTER_DATE:"git.commit.committer.date",GIT_COMMIT_COMMITTER_EMAIL:"git.commit.committer.email",GIT_COMMIT_COMMITTER_NAME:"git.commit.committer.name",GIT_COMMIT_AUTHOR_DATE:"git.commit.author.date",GIT_COMMIT_AUTHOR_EMAIL:"git.commit.author.email",GIT_COMMIT_AUTHOR_NAME:"git.commit.author.name",CI_PIPELINE_ID:"ci.pipeline.id",CI_PIPELINE_NAME:"ci.pipeline.name",CI_PIPELINE_NUMBER:"ci.pipeline.number",CI_PIPELINE_URL:"ci.pipeline.url",CI_PROVIDER_NAME:"ci.provider.name",CI_WORKSPACE_PATH:"ci.workspace_path",CI_JOB_URL:"ci.job.url",CI_JOB_NAME:"ci.job.name",CI_STAGE_NAME:"ci.stage.name",CI_ENV_VARS:"_dd.ci.env_vars"}},90186:(e,t,r)=>{const n=r(71017),s=r(57147),i=r(37646),o=r(15151),{getGitMetadata:a}=r(82571),{getUserProviderGitMetadata:c}=r(58295),{getCIMetadata:u}=r(79377),{getRuntimeAndOSMetadata:p}=r(35662),{GIT_BRANCH:l,GIT_COMMIT_SHA:d,GIT_REPOSITORY_URL:h,GIT_TAG:f,GIT_COMMIT_AUTHOR_EMAIL:m,GIT_COMMIT_AUTHOR_NAME:g,GIT_COMMIT_MESSAGE:_,CI_WORKSPACE_PATH:y}=r(85523),b=r(8508),{SPAN_TYPE:v,RESOURCE_NAME:E,SAMPLING_PRIORITY:S}=r(43620),{SAMPLING_RULE_DECISION:T}=r(12909),{AUTO_KEEP:w}=r(79188),{version:I}=r(4147),x="test.framework",k="test.framework_version",O="test.type",A="test.name",N="test.suite",R="test.source.file",C="library_version",L="test.command",D="test.module",M="test.toolchain",P="_dd.ci.itr.tests_skipped",j="test_session.itr.tests_skipping.enabled",q="test_session.code_coverage.enabled",U="test_module.itr.tests_skipping.enabled",F="test_module.code_coverage.enabled",$="test.codecov_lines_total";function B(){try{return process.env.npm_config_user_agent.split(" ")[0].replace("/","-")}catch(e){return""}}e.exports={TEST_CODE_OWNERS:"test.codeowners",TEST_FRAMEWORK:x,TEST_FRAMEWORK_VERSION:k,JEST_TEST_RUNNER:"test.jest.test_runner",TEST_TYPE:O,TEST_NAME:A,TEST_SUITE:N,TEST_STATUS:"test.status",TEST_PARAMETERS:"test.parameters",TEST_SKIP_REASON:"test.skip_reason",TEST_IS_RUM_ACTIVE:"test.is_rum_active",TEST_SOURCE_FILE:R,CI_APP_ORIGIN:"ciapp-test",LIBRARY_VERSION:C,JEST_WORKER_TRACE_PAYLOAD_CODE:60,JEST_WORKER_COVERAGE_PAYLOAD_CODE:61,TEST_SOURCE_START:"test.source.start",getTestEnvironmentMetadata:function(e,t){const r=u(),{[d]:n,[l]:s,[h]:i,[f]:o,[g]:b,[m]:v,[_]:E,[y]:S}=r,T=a({commitSHA:n,branch:s,repositoryUrl:i,tag:o,authorName:b,authorEmail:v,commitMessage:E,ciWorkspacePath:S}),w=c(),I=p(),k={[x]:e,...T,...r,...w,...I};return t&&t.service&&(k["service.name"]=t.service),k},getTestParametersString:function(e,t){if(!e[t])return"";try{const r=e[t].shift();return JSON.stringify({arguments:r,metadata:{}})}catch(e){return""}},finishAllTraceSpans:function(e){e.context()._trace.started.forEach((t=>{t!==e&&t.finish()}))},getTestParentSpan:function(e){return e.extract("text_map",{"x-datadog-trace-id":b().toString(10),"x-datadog-parent-id":"0000000000000000"})},getTestSuitePath:function(e,t){return e?(e===t?e:n.relative(t,e)).replace(n.sep,"/"):t},getCodeOwnersFileEntries:function(e=process.cwd()){let t;if(G.forEach((r=>{try{t=s.readFileSync(`${e}/${r}`).toString()}catch(e){}})),!t)return null;const r=[],n=t.split("\n");for(const e of n){const[t]=e.split("#"),n=t.trim();if(""===n)continue;const[s,...i]=n.split(/\s+/);r.push({pattern:s,owners:i})}return r.reverse()},getCodeOwnersForFilename:function(e,t){if(!t)return null;for(const r of t)try{if(o().add(r.pattern).ignores(e))return JSON.stringify(r.owners)}catch(e){return null}return null},getTestCommonTags:function(e,t,r){return{[v]:"test",[O]:"test",[T]:1,[S]:w,[A]:e,[N]:t,[R]:t,[E]:`${t}.${e}`,[k]:r,[C]:I}},getTestSessionCommonTags:function(e,t,r){return{[v]:"test_session_end",[E]:`test_session.${e}`,[D]:r,[M]:B(),...V(e,t)}},getTestModuleCommonTags:function(e,t,r){return{[v]:"test_module_end",[E]:`test_module.${e}`,[D]:r,...V(e,t)}},getTestSuiteCommonTags:function(e,t,r,n){return{[v]:"test_suite_end",[E]:`test_suite.${r}`,[D]:n,[N]:r,...V(e,t)}},TEST_COMMAND:L,TEST_TOOLCHAIN:M,TEST_SESSION_ID:"test_session_id",TEST_MODULE_ID:"test_module_id",TEST_SUITE_ID:"test_suite_id",TEST_ITR_TESTS_SKIPPED:P,TEST_MODULE:D,TEST_SESSION_ITR_SKIPPING_ENABLED:j,TEST_SESSION_CODE_COVERAGE_ENABLED:q,TEST_MODULE_ITR_SKIPPING_ENABLED:U,TEST_MODULE_CODE_COVERAGE_ENABLED:F,TEST_CODE_COVERAGE_LINES_TOTAL:$,addIntelligentTestRunnerSpanTags:function(e,t,{isSuitesSkipped:r,isSuitesSkippingEnabled:n,isCodeCoverageEnabled:s,testCodeCoverageLinesTotal:i}){e.setTag(P,r?"true":"false"),e.setTag(j,n?"true":"false"),e.setTag(q,s?"true":"false"),t.setTag(P,r?"true":"false"),t.setTag(U,n?"true":"false"),t.setTag(F,s?"true":"false"),void 0===i||r||(e.setTag($,i),t.setTag($,i))},getCoveredFilenamesFromCoverage:function(e){const t=i.createCoverageMap(e);return t.files().filter((e=>{const r=t.fileCoverageFor(e).getLineCoverage();return Object.entries(r).some((([,e])=>!!e))}))},resetCoverage:function(e){const t=i.createCoverageMap(e);return t.files().forEach((e=>{t.fileCoverageFor(e).resetHits()}))},mergeCoverage:function(e,t){const r=i.createCoverageMap(e);return r.files().forEach((e=>{const n=r.fileCoverageFor(e);t.data[e]||t.addFileCoverage(i.createFileCoverage(e)),t.addFileCoverage(n);const s=t.fileCoverageFor(e);Object.entries(s.data.b).forEach((([e,t])=>{s.data.b[e]=[...t]}))}))},fromCoverageMapToCoverage:function(e){return Object.entries(e.data).reduce(((e,[t,r])=>(e[t]=r.data,e)),{})},getTestLineStart:function(e,t){if(!e.stack)return null;const r=e.stack.split("\n").find((e=>e.includes(t)));try{const e=r.match(/at (?:(.+?)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);return parseInt(e[3],10)||null}catch(e){return null}}};const G=["CODEOWNERS",".github/CODEOWNERS","docs/CODEOWNERS",".gitlab/CODEOWNERS"];function V(e,t){return{[k]:t,[C]:I,[L]:e,[O]:"test"}}},65617:(e,t,r)=>{"use strict";const n=r(63178),s={getFilter(e){if("function"==typeof e.filter)return e.filter;e.hasOwnProperty("filter")&&n.error("Expected `filter` to be a function. Overriding filter property to default.");const t=e.allowlist||e.whitelist||/.*/,r=e.blocklist||e.blacklist||[];return e=>{const n=s(t,e),i=s(r,e);return n&&!i};function s(e,t){return"function"==typeof e?e(t):e instanceof RegExp?e.test(t):e instanceof Array?e.some((e=>s(e,t))):e===t}}};e.exports=s},58295:(e,t,r)=>{const{GIT_COMMIT_SHA:n,GIT_BRANCH:s,GIT_REPOSITORY_URL:i,GIT_TAG:o,GIT_COMMIT_MESSAGE:a,GIT_COMMIT_COMMITTER_DATE:c,GIT_COMMIT_COMMITTER_EMAIL:u,GIT_COMMIT_COMMITTER_NAME:p,GIT_COMMIT_AUTHOR_DATE:l,GIT_COMMIT_AUTHOR_EMAIL:d,GIT_COMMIT_AUTHOR_NAME:h}=r(85523),{normalizeRef:f}=r(79377);function m(e){try{if(e.startsWith("git@"))return e;const{protocol:t,hostname:r,pathname:n}=new URL(e);return`${t}//${r}${n}`}catch(t){return e}}e.exports={getUserProviderGitMetadata:function(){const{DD_GIT_COMMIT_SHA:e,DD_GIT_BRANCH:t,DD_GIT_REPOSITORY_URL:r,DD_GIT_TAG:g,DD_GIT_COMMIT_MESSAGE:_,DD_GIT_COMMIT_COMMITTER_NAME:y,DD_GIT_COMMIT_COMMITTER_EMAIL:b,DD_GIT_COMMIT_COMMITTER_DATE:v,DD_GIT_COMMIT_AUTHOR_NAME:E,DD_GIT_COMMIT_AUTHOR_EMAIL:S,DD_GIT_COMMIT_AUTHOR_DATE:T}=process.env,w=f(t);let I=f(g);return((t||"").includes("origin/tags")||(t||"").includes("refs/heads/tags"))&&(I=f(t)),x={[n]:e,[s]:w,[i]:m(r),[o]:I,[a]:_,[p]:y,[c]:v,[u]:b,[h]:E,[d]:S,[l]:T},Object.keys(x).reduce(((e,t)=>x[t]?{...e,[t]:x[t]}:e),{});var x}}},53979:(e,t,r)=>{"use strict";const n=r(97644),s=r(45032),i=r(63178),o=r(43620),a=r(98051),c=r(53165),u=r(65617),{extractIp:p}=r(82611),{ERROR_MESSAGE:l,ERROR_TYPE:d,ERROR_STACK:h}=r(12909),f=a.WEB,m=c.SERVER,g=o.RESOURCE_NAME,_=o.SERVICE_NAME,y=o.SPAN_TYPE,b=o.SPAN_KIND,v=o.ERROR,E=o.HTTP_METHOD,S=o.HTTP_URL,T=o.HTTP_STATUS_CODE,w=o.HTTP_ROUTE,I=o.HTTP_REQUEST_HEADERS,x=o.HTTP_RESPONSE_HEADERS,k=o.HTTP_USERAGENT,O=o.HTTP_CLIENT_IP,A=o.MANUAL_DROP,N=new WeakMap,R=new WeakMap,C={normalizeConfig(e){const t=function(e){if(Array.isArray(e.headers))try{return e.headers.map((e=>e.toLowerCase()))}catch(e){i.error(e)}else e.hasOwnProperty("headers")&&i.error("Expected `headers` to be an array of strings.");return[]}(e),r=function(e){return"function"==typeof e.validateStatus?e.validateStatus:(e.hasOwnProperty("validateStatus")&&i.error("Expected `validateStatus` to be a function."),e=>e<500)}(e),n=function(e){return{request:e.hooks&&e.hooks.request||(()=>{})}}(e),s=u.getFilter(e),o=function(e){return e&&"boolean"==typeof e.middleware?e.middleware:(e&&e.hasOwnProperty("middleware")&&i.error("Expected `middleware` to be a boolean."),!0)}(e),a=function(e){const t=e.queryStringObfuscation;if("boolean"==typeof t)return t;if("string"==typeof t){if(""===t)return!1;if(".*"===t)return!0;try{return new RegExp(t,"gi")}catch(e){i.error(e)}}return e.hasOwnProperty("queryStringObfuscation")&&i.error("Expected `queryStringObfuscation` to be a regex string or boolean."),!0}(e);return{...e,headers:t,validateStatus:r,hooks:n,filter:s,middleware:o,queryStringObfuscation:a}},setFramework(e,t,r){const n=this.patch(e).span;n&&(n.context()._name=`${t}.request`,n.context()._tags.component=t,C.setConfig(e,r))},setConfig(e,t){const r=N.get(e),n=r.span;r.config=t,t.filter(e.url)||(n.setTag(A,!0),n.context()._trace.isRecording=!1),t.service&&n.setTag(_,t.service),s.sample(n,t.measured,!0)},startSpan(e,t,r,n,s){const i=this.patch(r);let o;return i.span?(i.span.context()._name=s,o=i.span):o=C.startChildSpan(e,s,r.headers),i.tracer=e,i.span=o,i.res=n,this.setConfig(r,t),o},wrap(e){const t=N.get(e);t.instrumented||(this.wrapEnd(t),t.instrumented=!0)},instrument(e,t,r,n,s,i){const o=this.startSpan(e,t,r,n,s);return this.wrap(r),i&&e.scope().activate(o,(()=>i(o)))},reactivate:(e,t)=>function(e,t){const r=N.get(e);return r?r.tracer.scope().activate(r.span,t):t()}(e,t),enterRoute(e,t){"string"==typeof t&&N.get(e).paths.push(t)},setRoute(e,t){const r=N.get(e);r&&(r.paths=[t])},exitRoute(e){N.get(e).paths.pop()},wrapMiddleware(e,t,r,n){if(!this.active(e))return n();const i=N.get(e),o=i.tracer,a=this.active(e),c=i.config;if(!1===c.middleware)return this.bindAndWrapMiddlewareErrors(n,e,o,a);const u=o.startSpan(r,{childOf:a});return s.sample(u,c.measured),u.addTags({[g]:t._name||t.name||"<anonymous>"}),i.middleware.push(u),o.scope().activate(u,n)},bindAndWrapMiddlewareErrors(e,t,r,n){try{return r.scope().bind(e,n).apply(this,arguments)}catch(e){throw C.addError(t,e),e}},finish(e,t){if(!this.active(e))return;const r=N.get(e).middleware.pop();r&&(t&&r.addTags({[d]:t.name,[l]:t.message,[h]:t.stack}),r.finish())},beforeEnd(e,t){N.get(e).beforeEnd.push(t)},patch(e){let t=N.get(e);return t||(t=e.stream&&N.get(e.stream),t?(N.set(e,t),t):(t={req:e,span:null,paths:[],middleware:[],beforeEnd:[],config:{}},N.set(e,t),t))},root(e){const t=N.get(e);return t?t.span:null},active(e){const t=N.get(e);return t?0===t.middleware.length?t.span||null:t.middleware.slice(-1)[0]:null},startChildSpan(e,t,r){const n=e.extract("http_headers",r);return e.startSpan(t,{childOf:n})},addStatusError(e,t){const r=N.get(e),n=r.span,s=r.error;n.context()._tags.error||n.context()._tags[l]||r.config.validateStatus(t)||n.setTag(v,s||!0)},addError(e,t){if(t instanceof Error){const r=N.get(e);r&&(r.error=t)}},finishMiddleware(e){if(e.finished)return;let t;for(;t=e.middleware.pop();)t.finish()},finishSpan(e){const{req:t,res:r}=e;e.finished&&!t.stream||(function(e){const{req:t,span:r,config:n}=e,s=function(e){const t=e.headers;if(e.stream)return`${t[":scheme"]}://${t[":authority"]}${t[":path"]}`;{const t=function(e){return e.socket&&e.socket.encrypted||e.connection&&e.connection.encrypted?"https":"http"}(e);return`${t}://${e.headers.host}${e.originalUrl||e.url}`}}(t);if(r.addTags({[S]:C.obfuscateQs(n,s),[E]:t.method,[b]:m,[y]:f,[k]:t.headers["user-agent"]}),n.clientIpEnabled&&!r.context()._tags.hasOwnProperty(O)){const e=p(n,t);e&&r.setTag(O,e)}!function(e){const{req:t,res:r,config:n,span:s}=e;n.headers.forEach((e=>{const n=t.headers[e],i=r.getHeader(e);n&&s.setTag(`${I}.${e}`,n),i&&s.setTag(`${x}.${e}`,i)}))}(e)}(e),function(e){const{req:t,res:r,paths:n,span:s}=e;n.length>0&&s.setTag(w,n.join("")),s.addTags({[T]:r.statusCode}),C.addStatusError(t,r.statusCode)}(e),e.config.hooks.request(e.span,t,r),function(e){const{req:t,span:r}=e,n=r.context()._tags;if(n["resource.name"])return;const s=[t.method,n[w]].filter((e=>e)).join(" ");r.setTag(g,s)}(e),e.span.finish(),e.finished=!0)},finishAll(e){for(const t of e.beforeEnd)t();C.finishMiddleware(e),C.finishSpan(e)},obfuscateQs(e,t){const{queryStringObfuscation:r}=e;if(!1===r)return t;const n=t.indexOf("?");if(-1===n)return t;const s=t.slice(0,n);if(!0===r)return s;let i=t.slice(n+1);return i=i.replace(r,"<redacted>"),`${s}?${i}`},wrapWriteHead(e){const{req:t,res:r}=e,s=r.writeHead;return function(e,i,o){return o="string"==typeof i?o:i,o=Object.assign(r.getHeaders(),o),"options"===t.method.toLowerCase()&&function(e,t){const r=e.headers.origin,n=t["access-control-allow-origin"];return r&&("*"===n||n===r)}(t,o)&&function(e,t,r){const s=L(r["access-control-allow-headers"]),i=L(e.headers["access-control-request-headers"]),o=["x-datadog-origin","x-datadog-parent-id","x-datadog-sampled","x-datadog-sampling-priority","x-datadog-trace-id","x-datadog-tags"];for(const e of o)~i.indexOf(e)&&s.push(e);s.length>0&&t.setHeader("access-control-allow-headers",n(s).join(","))}(t,r,o),s.apply(this,arguments)}},getContext:e=>N.get(e),wrapRes:(e,t,r,n)=>function(){return C.finishAll(e),n.apply(r,arguments)},wrapEnd(e){const t=e.tracer.scope(),r=e.req,n=e.res,s=n.end;n.writeHead=C.wrapWriteHead(e),R.set(n,this.wrapRes(e,r,n,s)),Object.defineProperty(n,"end",{configurable:!0,get(){return R.get(this)},set(r){R.set(this,t.bind(r,e.span))}})}};function L(e){return"string"==typeof e?e.split(/\s*,\s*/):[]}e.exports=C},9265:(e,t,r)=>{"use strict";const n=r(66167),s=r(96504),i=r(2691),{setSamplingRules:o}=r(50583),{SAMPLING_MECHANISM_DEFAULT:a,SAMPLING_MECHANISM_AGENT:c,SAMPLING_MECHANISM_RULE:u,SAMPLING_MECHANISM_MANUAL:p,SAMPLING_RULE_DECISION:l,SAMPLING_LIMIT_DECISION:d,SAMPLING_AGENT_DECISION:h,DECISION_MAKER_KEY:f}=r(12909),m=i.tags.SERVICE_NAME,g=i.tags.SAMPLING_PRIORITY,_=i.tags.MANUAL_KEEP,y=i.tags.MANUAL_DROP,b=i.priority.USER_REJECT,v=i.priority.AUTO_REJECT,E=i.priority.AUTO_KEEP,S=i.priority.USER_KEEP,T="service:,env:",w=new s(E);function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=class{constructor(e,{sampleRate:t,rateLimit:r=100,rules:s=[]}={}){this._env=e,this._rules=this._normalizeRules(s,t),this._limiter=new n(r),o(this._rules),this.update({})}isSampled(e){const t=this._getPriorityFromAuto(e);return t===S||t===E}sample(e,t=!0){if(!e)return;const r=this._getContext(e),n=r._trace.started[0];if(void 0!==r._sampling.priority)return;if(!n)return;const s=this._getPriorityFromTags(r._tags);if(this.validate(s))r._sampling.priority=s,r._sampling.mechanism=p;else{if(!t)return;r._sampling.priority=this._getPriorityFromAuto(n)}this._addDecisionMaker(n)}update(e){const t={};for(const r in e){const n=e[r],i=new s(n);t[r]=i}t[T]=t[T]||w,this._samplers=t}validate(e){switch(e){case b:case S:case v:case E:return!0;default:return!1}}_getContext(e){return"function"==typeof e.context?e.context():e}_getPriorityFromAuto(e){const t=this._getContext(e),r=this._findRule(t);return r?this._getPriorityByRule(t,r):this._getPriorityByAgent(t)}_getPriorityFromTags(e){if(I(e,_)&&!1!==e[_])return S;if(I(e,y)&&!1!==e[y])return b;{const t=parseInt(e[g],10);if(1===t||2===t)return S;if(0===t||-1===t)return b}}_getPriorityByRule(e,t){return e._trace[l]=t.sampleRate,e._sampling.mechanism=u,t.sampler.isSampled(e)&&this._isSampledByRateLimit(e)?S:b}_isSampledByRateLimit(e){const t=this._limiter.isAllowed();return e._trace[d]=this._limiter.effectiveRate(),t}_getPriorityByAgent(e){const t=`service:${e._tags[m]},env:${this._env}`,r=this._samplers[t]||this._samplers[T];return e._trace[h]=r.rate(),e._sampling.mechanism=r===w?a:c,r.isSampled(e)?E:v}_addDecisionMaker(e){const t=e.context(),r=t._trace,n=t._sampling.priority,s=t._sampling.mechanism;n>=E?r.tags[f]||(r.tags[f]=`-${s}`):delete r.tags[f]}_normalizeRules(e,t){return(e=[].concat(e||[])).concat({sampleRate:t}).map((e=>({...e,sampleRate:parseFloat(e.sampleRate)}))).filter((e=>!isNaN(e.sampleRate))).map((e=>({...e,sampler:new s(e.sampleRate)})))}_findRule(e){for(let t=0,r=this._rules.length;t<r;t++)if(this._matchRule(e,this._rules[t]))return this._rules[t]}_matchRule(e,t){const r=e._name,n=e._tags["service.name"];return!(t.name instanceof RegExp&&!t.name.test(r)||"string"==typeof t.name&&t.name!==r||t.service instanceof RegExp&&!t.service.test(n)||"string"==typeof t.service&&t.service!==n)}}},30841:(e,t,r)=>{"use strict";const n=r(63178),{profiler:s}=r(81473);process.once("beforeExit",(()=>{s.stop()})),e.exports={start:e=>{const{service:t,version:r,env:i,url:o,hostname:a,port:c,tags:u}=e,{enabled:p,sourceMap:l,exporters:d}=e.profiling,h={debug:e=>n.debug(e),info:e=>n.info(e),warn:e=>n.warn(e),error:e=>n.error(e)};s.start({enabled:p,service:t,version:r,env:i,logger:h,sourceMap:l,exporters:d,url:o,hostname:a,port:c,tags:u})},stop:()=>{s.stop()}}},87961:(e,t,r)=>{"use strict";const n=r(71490),s=r(22037),i=r(71017),{URL:o,format:a,pathToFileURL:c}=r(57310),{AgentExporter:u}=r(58939),{FileExporter:p}=r(5818),{ConsoleLogger:l}=r(80054),d=r(11125),h=r(34250),f=r(2267),{oomExportStrategies:m,snapshotKinds:g}=r(7076),{tagger:_}=r(42268),{isTrue:y}=r(66456);function b(e,t){const r=Object.values(m).find((t=>t===e));return void 0===r&&t.logger.error(`Unknown oom export strategy "${e}"`),r}function v(e,t){switch(e){case"agent":return new u(t);case"file":return new p(t)}}function E(e,t){switch(e){case"cpu":case"wall":return new h(t);case"space":return new f(t);case"cpu-experimental":return new d(t);default:t.logger.error(`Unknown profiler "${e}"`)}}e.exports={Config:class{constructor(e={}){const{DD_PROFILING_ENABLED:t,DD_PROFILING_PROFILERS:r,DD_PROFILING_ENDPOINT_COLLECTION_ENABLED:d,DD_ENV:m,DD_TAGS:S,DD_SERVICE:T,DD_VERSION:w,DD_TRACE_AGENT_URL:I,DD_AGENT_HOST:x,DD_TRACE_AGENT_PORT:k,DD_PROFILING_UPLOAD_TIMEOUT:O,DD_PROFILING_SOURCE_MAP:A,DD_PROFILING_UPLOAD_PERIOD:N,DD_PROFILING_PPROF_PREFIX:R,DD_PROFILING_EXPERIMENTAL_OOM_MONITORING_ENABLED:C,DD_PROFILING_EXPERIMENTAL_OOM_HEAP_LIMIT_EXTENSION_SIZE:L,DD_PROFILING_EXPERIMENTAL_OOM_MAX_HEAP_EXTENSION_COUNT:D,DD_PROFILING_EXPERIMENTAL_OOM_EXPORT_STRATEGIES:M}=process.env,P=y(n(e.enabled,t,!0)),j=n(e.env,m),q=e.service||T||"node",U=s.hostname(),F=n(e.version,w),$=process.env.AWS_LAMBDA_FUNCTION_NAME,B=n(e.interval,1e3*Number(N),65e3),G=n(e.uploadTimeout,Number(O),6e4),V=n(e.sourceMap,A,!0),H=n(e.endpointCollection,d,!1),z=n(e.pprofPrefix,R);var K;this.enabled=P,this.service=q,this.env=j,this.host=U,this.functionname=$,this.version=F,this.tags=Object.assign(_.parse(S),_.parse(e.tags),_.parse({env:j,host:U,service:q,version:F,functionname:$})),this.logger="object"!=typeof(K=e.logger)||"function"!=typeof K.debug||"function"!=typeof K.info||"function"!=typeof K.warn||"function"!=typeof K.error?new l:K,this.flushInterval=B,this.uploadTimeout=G,this.sourceMap=V,this.endpointCollection=H,this.pprofPrefix=z;const Q=n(e.hostname,x)||"localhost",W=n(e.port,k)||8126;this.url=new o(n(e.url,I,a({protocol:"http:",hostname:Q,port:W}))),this.exporters=function(e,t){"string"==typeof e&&(e=e.split(","));for(let r=0;r<e.length;r++){const n=e[r];"string"==typeof n&&(e[r]=v(n,t))}return e}(e.exporters||[new u(this)],this);const Y=y(n(e.oomMonitoring,C,!1)),J=n(e.oomHeapLimitExtensionSize,Number(L),0),X=n(e.oomMaxHeapExtensionCount,Number(D),0),Z=function(e,t){if(!e)return[];"string"==typeof e&&(e=e.split(","));for(let r=0;r<e.length;r++){const n=e[r];"string"==typeof n&&(e[r]=b(n,t))}return[...new Set(e)]}(n(e.oomExportStrategies,M),this),ee=Y?function(e){const t=[...Object.entries(e.tags),["snapshot",g.ON_OUT_OF_MEMORY]].map((([e,t])=>`${e}:${t}`)).join(","),r=[];for(const t of e.exporters)t instanceof u?r.push(e.url.toString()):t instanceof p&&r.push(c(e.pprofPrefix).toString());return[process.execPath,i.join(__dirname,"exporter_cli.js"),r.join(","),t,"space"]}(this):void 0;this.oomMonitoring={enabled:Y,heapLimitExtensionSize:J,maxHeapExtensionCount:X,exportStrategies:Z,exportCommand:ee};const te=n(e.profilers,r,[new h(this),new f(this)]);this.profilers=function(e,t){"string"==typeof e&&(e=e.split(","));for(let r=0;r<e.length;r++){const n=e[r];"string"==typeof n&&(e[r]=E(n,t))}return e.filter((e=>e))}(te,this)}}}},7076:e=>{"use strict";const t=Object.freeze({PERIODIC:"periodic",ON_SHUTDOWN:"on_shutdown",ON_OUT_OF_MEMORY:"on_oom"}),r=Object.freeze({PROCESS:"process",ASYNC_CALLBACK:"async",INTERRUPT_CALLBACK:"interrupt",LOGS:"logs"});e.exports={snapshotKinds:t,oomExportStrategies:r}},58939:(e,t,r)=>{"use strict";const n=r(99353),{request:s}=r(13685),i=r(83806),o=r(15902),{storage:a}=r(60445),c=r(4147).version,u=i.id();function p(e){let t=0;for(;t<2||e>1e3;)t++,e/=2;return[t,Math.floor(e)]}e.exports={AgentExporter:class{constructor({url:e,logger:t,uploadTimeout:r}={}){this._url=e,this._logger=t;const[n,s]=p(r);this._backoffTime=s,this._backoffTries=n}export({profiles:e,start:t,end:r,tags:i}){const p=Object.keys(e),l=[["recording-start",t.toISOString()],["recording-end",r.toISOString()],["language","javascript"],["runtime","nodejs"],["runtime_version",process.version],["profiler_version",c],["format","pprof"],["tags[]","language:javascript"],["tags[]","runtime:nodejs"],["tags[]",`runtime_version:${process.version}`],["tags[]",`profiler_version:${c}`],["tags[]","format:pprof"],...Object.entries(i).map((([e,t])=>["tags[]",`${e}:${t}`]))];this._logger.debug((()=>"Building agent export report: \n"+l.map((([e,t])=>`  ${e}: ${t}`)).join("\n")));for(let t=0;t<p.length;t++){const r=p[t],n=e[r];this._logger.debug((()=>{const e=n.toString("hex").match(/../g).join(" ");return`Adding ${r} profile to agent export: `+e})),l.push([`types[${t}]`,r]),l.push([`data[${t}]`,n,{filename:`${r}.pb.gz`,contentType:"application/octet-stream",knownLength:n.length}])}return new Promise(((e,t)=>{const r=n.operation({randomize:!0,minTimeout:this._backoffTime,retries:this._backoffTries,unref:!0});r.attempt((n=>{const i=new o;for(const[e,t,r]of l)i.append(e,t,r);const c={method:"POST",path:"/profiling/v1/input",headers:i.getHeaders(),timeout:this._backoffTime*Math.pow(2,n)};u&&(c.headers["Datadog-Container-ID"]=u),"unix:"===this._url.protocol?c.socketPath=this._url.pathname:(c.protocol=this._url.protocol,c.hostname=this._url.hostname,c.port=this._url.port),this._logger.debug((()=>`Submitting profiler agent report attempt #${n} to: ${JSON.stringify(c)}`)),function(e,t,r){const n=a.getStore();a.enterWith({noop:!0});const i=s(e,(e=>{if(e.statusCode>=400){const t=new Error(`HTTP Error ${e.statusCode}`);t.status=e.statusCode,r(t)}else r(null,e)}));i.on("error",r),t&&t.pipe(i),a.enterWith(n)}(c,i,((n,s)=>{r.retry(n)?this._logger.error(`Error from the agent: ${n.message}`):n?t(new Error("Profiler agent export back-off period expired")):(function(e,t){const r=[];e.on("error",t),e.on("data",(e=>r.push(e))),e.on("end",(()=>{t(null,Buffer.concat(r))}))}(s,((e,t)=>{e?this._logger.error(`Error reading agent response: ${e.message}`):this._logger.debug((()=>`Agent export response: ${(t.toString("hex").match(/../g)||[]).join(" ")}`))})),e())}))}))}))}},computeRetries:p}},5818:(e,t,r)=>{"use strict";const n=r(57147),{promisify:s}=r(73837),i=s(n.writeFile);e.exports={FileExporter:class{constructor({pprofPrefix:e}={}){this._pprofPrefix=e||""}export({profiles:e,end:t}){const r=Object.keys(e),n=function(e){const t=e=>String(e).padStart(2,"0");return`${e.getUTCFullYear()}${t(e.getUTCMonth()+1)}${t(e.getUTCDate())}T${t(e.getUTCHours())}${t(e.getUTCMinutes())}${t(e.getUTCSeconds())}Z`}(t),s=r.map((t=>i(`${this._pprofPrefix}${t}_${n}.pprof`,e[t])));return Promise.all(s)}}}},81473:(e,t,r)=>{"use strict";const{Profiler:n,ServerlessProfiler:s}=r(38172),i=r(11125),o=r(34250),a=r(2267),{AgentExporter:c}=r(58939),{FileExporter:u}=r(5818),{ConsoleLogger:p}=r(80054),l=process.env.AWS_LAMBDA_FUNCTION_NAME?new s:new n;e.exports={profiler:l,AgentExporter:c,FileExporter:u,CpuProfiler:i,WallProfiler:o,SpaceProfiler:a,ConsoleLogger:p}},80054:e=>{"use strict";const t={error:3,warn:4,info:6,debug:7};e.exports={ConsoleLogger:class{constructor(e={}){this._level=t[e.level]||t.error}debug(e){this._log("debug",e)}info(e){this._log("info",e)}warn(e){this._log("warn",e)}error(e){this._log("error",e)}_log(e,r){t[e]>this._level||console[e](r)}}}},38172:(e,t,r)=>{"use strict";const{EventEmitter:n}=r(82361),{Config:s}=r(87961),{snapshotKinds:i}=r(7076);class o extends n{constructor(){super(),this._enabled=!1,this._logger=void 0,this._config=void 0,this._timer=void 0,this._lastStart=void 0,this._timeoutInterval=void 0}start(e){return this._start(e).catch((()=>{})),this}async _start(e){if(this._enabled)return;const t=this._config=new s(e);if(!t.enabled)return;let n;this._logger=t.logger,this._enabled=!0,this._setInterval();try{n=await function(e){if(!e)return;const{SourceMapper:t}=r(68770);return t.create([process.cwd()])}(t.sourceMap)}catch(e){this._logger.error(e)}try{for(const e of t.profilers)e.start({mapper:n,nearOOMCallback:this._nearOOMExport.bind(this)}),this._logger.debug(`Started ${e.type} profiler`);this._capture(this._timeoutInterval)}catch(e){this._logger.error(e),this._stop()}}_nearOOMExport(e,t){const r=this._lastStart,n=new Date;this._submit({[e]:t},r,n,i.ON_OUT_OF_MEMORY)}_setInterval(){this._timeoutInterval=this._config.flushInterval}async stop(){this._enabled&&(this._collect(i.ON_SHUTDOWN),this._stop())}_stop(){if(this._enabled){this._enabled=!1;for(const e of this._config.profilers)e.stop(),this._logger.debug(`Stopped ${e.type} profiler`);return clearTimeout(this._timer),this._timer=void 0,this}}_capture(e){this._enabled&&(this._lastStart=new Date,this._timer&&e===this._timeoutInterval?this._timer.refresh():(this._timer=setTimeout((()=>this._collect(i.PERIODIC)),e),this._timer.unref()))}async _collect(e){if(!this._enabled)return;const t=this._lastStart,r=new Date,n=[],s={};try{for(const e of this._config.profilers){const t=e.profile();t&&n.push({profiler:e,profile:t})}for(const{profiler:e,profile:t}of n)s[e.type]=await e.encode(t),this._logger.debug((()=>{const r=JSON.stringify(t,((e,t)=>"bigint"==typeof t?t.toString():t));return`Collected ${e.type} profile: `+r}));this._capture(this._timeoutInterval),await this._submit(s,t,r,e),this._logger.debug("Submitted profiles")}catch(e){this._logger.error(e),this._stop()}}_submit(e,t,r,n){if(!Object.keys(e).length)return Promise.reject(new Error("No profiles to submit"));const{tags:s}=this._config,i=[];s.snapshot=n;for(const n of this._config.exporters){const o=n.export({profiles:e,start:t,end:r,tags:s}).catch((e=>this._logger.error(e)));i.push(o)}return Promise.all(i)}}e.exports={Profiler:o,ServerlessProfiler:class extends o{constructor(){super(),this._profiledIntervals=0,this._interval=1,this._flushAfterIntervals=void 0}_setInterval(){this._timeoutInterval=1e3*this._interval,this._flushAfterIntervals=this._config.flushInterval/1e3}async _collect(e){this._profiledIntervals>=this._flushAfterIntervals?(this._profiledIntervals=0,await super._collect(e)):(this._profiledIntervals+=1,this._capture(this._timeoutInterval))}}}},11125:(e,t,r)=>{"use strict";const{storage:n}=r(60445),s=r(83928),i=s.channel("dd-trace:storage:before"),o=s.channel("dd-trace:storage:after");function a(e){return e.context()._tags}function c(e){return"web"===e["span.type"]}e.exports=class{constructor(e={}){this.type="cpu",this._frequency=e.frequency||99,this._mapper=void 0,this._pprof=void 0,this._started=!1,this._cpuProfiler=void 0,this._endpointCollection=e.endpointCollection,this._enter=this._enter.bind(this),this._exit=this._exit.bind(this)}_enter(){if(!this._cpuProfiler)return;const e=function(){const e=n.getStore();if(e)return e.span}();if(!e)return;const t=e.context();if(!t)return;const r=function(e){const t=e.context();if(t)return t._trace.started}(e);if(!r||!r.length)return;const s=r[0].context();if(!s)return;const i={"local root span id":s.toSpanId(),"span id":t.toSpanId()};if(this._endpointCollection){const e=r.map(a).filter(c)[0];e&&(i["trace endpoint"]=(o=e)["resource.name"]||[o["http.method"],o["http.route"]].filter((e=>e)).join(" "))}var o;this._cpuProfiler.labels=i}_exit(){this._cpuProfiler&&(this._cpuProfiler.labels={})}start({mapper:e}={}){this._started||(this._started=!0,this._mapper=e,this._pprof||(this._pprof=r(68770),this._cpuProfiler=new this._pprof.CpuProfiler),this._cpuProfiler.start(this._frequency),this._enter(),i.subscribe(this._enter),o.subscribe(this._exit))}profile(){if(this._started)return this._cpuProfiler.profile()}encode(e){return this._pprof.encode(e)}stop(){this._started&&(this._started=!1,this._cpuProfiler.stop(),i.unsubscribe(this._enter),o.unsubscribe(this._exit))}}},2267:(e,t,r)=>{"use strict";const{oomExportStrategies:n}=r(7076);e.exports=class{constructor(e={}){this.type="space",this._samplingInterval=e.samplingInterval||524288,this._stackDepth=e.stackDepth||64,this._pprof=void 0,this._oomMonitoring=e.oomMonitoring||{}}start({mapper:e,nearOOMCallback:t}={}){if(this._mapper=e,this._pprof=r(68770),this._pprof.heap.start(this._samplingInterval,this._stackDepth),this._oomMonitoring.enabled){const e=this._oomMonitoring.exportStrategies;this._pprof.heap.monitorOutOfMemory(this._oomMonitoring.heapLimitExtensionSize,this._oomMonitoring.maxHeapExtensionCount,e.includes(n.LOGS),e.includes(n.PROCESS)?this._oomMonitoring.exportCommand:[],(e=>t(this.type,this._pprof.encodeSync(e))),function(e,t){return(e.includes(n.INTERRUPT_CALLBACK)?t.Interrupt:0)|(e.includes(n.ASYNC_CALLBACK)?t.Async:0)}(e,this._pprof.heap.CallbackMode))}}profile(){return this._pprof.heap.profile(void 0,this._mapper)}encode(e){return this._pprof.encode(e)}stop(){this._pprof.heap.stop()}}},34250:(e,t,r)=>{"use strict";e.exports=class{constructor(e={}){this.type="wall",this._samplingInterval=e.samplingInterval||1e6/99,this._mapper=void 0,this._pprof=void 0}start({mapper:e}={}){this._mapper=e,this._pprof=r(68770),process._startProfilerIdleNotifier||(process._startProfilerIdleNotifier=()=>{}),process._stopProfilerIdleNotifier||(process._stopProfilerIdleNotifier=()=>{}),this._record()}profile(){if(this._stop)return this._stop(!0)}encode(e){return this._pprof.encode(e)}stop(){this._stop&&(this._stop(),this._stop=void 0)}_record(){this._stop=this._pprof.time.start(this._samplingInterval,null,this._mapper,!1)}}},42268:e=>{"use strict";const t={parse(e){if(!e)return{};switch(typeof e){case"object":return Array.isArray(e)?e.reduce(((e,t)=>{const r=t.split(":"),n=r.shift().trim(),s=r.join(":").trim();return n&&s?Object.assign(e,{[n]:s}):e}),{}):t.parse(Object.keys(e).filter((t=>void 0!==e[t]&&null!==e[t])).map((t=>`${t}:${e[t]}`)));case"string":return t.parse(e.split(","));default:return{}}}};e.exports={tagger:t}},49589:(e,t,r)=>{"use strict";const n=r(42130),s=r(88376),i=r(46376),o=r(22858),a=r(63178),{setStartupLogPluginManager:c}=r(50583),u=r(88895),p=r(59303),l=r(48024),d=r(8098);e.exports=class extends n{constructor(){super(),this._initialized=!1,this._pluginManager=new p(this)}init(e){if(this._initialized)return this;this._initialized=!0;try{const t=new i(e);if(t.remoteConfig.enabled&&!t.isCiVisibility&&l.enable(t),t.profiling.enabled)try{r(30841).start(t)}catch(e){a.error(e)}t.runtimeMetrics&&o.start(t),t.tracing&&(t.appsec.enabled&&r(97136).enable(t),this._tracer=new s(t),this.appsec=new d(this._tracer,t),t.iast.enabled&&r(74372).enable(t,this._tracer),this._pluginManager.configure(t),c(this._pluginManager),u.start(t,this._pluginManager))}catch(e){a.error(e)}return this}use(){return this._pluginManager.configurePlugin(...arguments),this}}},66167:(e,t,r)=>{"use strict";const n=r(75516);e.exports=class{constructor(e){this._rateLimit=parseInt(e),this._limiter=new n.RateLimiter(this._rateLimit,"second"),this._tokensRequested=0,this._prevIntervalTokens=0,this._prevTokensRequested=0}isAllowed(){const e=this._limiter.curIntervalStart,t=this._limiter.tokensThisInterval,r=this._isAllowed();return e!==this._limiter.curIntervalStart?(this._prevIntervalTokens=t,this._prevTokensRequested=this._tokensRequested,this._tokensRequested=1):this._tokensRequested++,r}effectiveRate(){return this._rateLimit<0?1:0===this._rateLimit?0:0===this._tokensRequested?1:(this._prevIntervalTokens+this._limiter.tokensThisInterval)/(this._prevTokensRequested+this._tokensRequested)}_isAllowed(){return this._rateLimit<0||0!==this._rateLimit&&this._limiter.tryRemoveTokens(1)}_currentWindowRate(){return this._rateLimit<0?1:0===this._rateLimit?0:0===this._tokensRequested?1:this._limiter.tokensThisInterval/this._tokensRequested}}},59367:(e,t,r)=>{"use strict";const n=r(71017),s=r(57147);e.exports=function(e,t){if(n.isAbsolute(e)){const t=n.join(e,"package.json");return JSON.parse(s.readFileSync(t,"utf8"))}for(const r of t.paths){const t=n.join(r,e,"package.json");try{return JSON.parse(s.readFileSync(t,"utf8"))}catch(e){continue}}throw new Error(`could not find ${e}/package.json`)}},81118:(e,t,r)=>{"use strict";const n=r(71017),s=r(98188),i=r(98627),o=r(83928),a=s.prototype.require;e.exports=f;let c=Object.create(null),u=Object.create(null),p=Object.create(null),l=null;const d=o.channel("dd-trace:moduleLoadStart"),h=o.channel("dd-trace:moduleLoadEnd");function f(e,t,o){if(!(this instanceof f))return new f(e,t,o);if("function"==typeof e?(o=e,e=null,t={}):"function"==typeof t&&(o=t,t={}),e=e||[],t=t||{},this.modules=e,this.options=t,this.onrequire=o,Array.isArray(e))for(const t of e){const e=c[t];e?e.push(o):c[t]=[o]}l||(l=s.prototype.require=function(e){const t=s._resolveFilename(e,this),o=-1===t.indexOf(n.sep);let l,f,m;if(u[t])return r.c[t]&&r.c[t].exports!==u[t].original?r.c[t].exports:u[t].exports;if(p[t])return a.apply(this,arguments);p[t]=!0;const g={filename:t,request:e};d.hasSubscribers&&d.publish(g);const _=a.apply(this,arguments);if(g.module=_,h.hasSubscribers&&h.publish(g),delete p[t],o){if(m=c[t],!m)return _;l=t}else{const e=void 0!==process.env.AWS_LAMBDA_FUNCTION_NAME,r=void 0!==process.env.DD_LAMBDA_HANDLER,o=-1!==t.split(n.sep).lastIndexOf("node_modules"),a=e&&r&&!o?{name:t}:i(t);if(!a)return _;if(l=a.name,f=a.basedir,m=c[l],!m)return _;const u=s._resolveLookupPaths(l,this,!0);if(!u)return _;s._findPath(l,[f,...u])!==t&&(l=l+n.sep+n.relative(f,t))}u[t]={exports:_},u[t].original=_;for(const e of m)u[t].exports=e(u[t].exports,l,f);return u[t].exports})}f.reset=function(){s.prototype.require=a,l=null,p=Object.create(null),u=Object.create(null),c=Object.create(null)},f.prototype.unhook=function(){for(const e of this.modules){const t=(c[e]||[]).filter((e=>e!==this.onrequire));t.length>0?c[e]=t:delete c[e]}0===Object.keys(c).length&&f.reset()}},96504:e=>{"use strict";e.exports=class{constructor(e){this._rate=e}rate(){return this._rate}isSampled(){return 1===this._rate||Math.random()<this._rate}}},86093:(e,t,r)=>{"use strict";const{storage:n}=r(60445),s=new WeakMap;e.exports=class{active(){const e=n.getStore();return e&&e.span||null}activate(e,t){if("function"!=typeof t)return t;const r=n.getStore(),s=e?e._store:r;n.enterWith({...s,span:e});try{return t()}catch(t){throw e&&"function"==typeof e.setTag&&e.setTag("error",t),t}finally{n.enterWith(r)}}bind(e,t){if("function"!=typeof e)return e;const r=this,n=this._spanOrActive(t),i=function(){return r.activate(n,(()=>e.apply(this,arguments)))};return s.set(i,e),i}_spanOrActive(e){return void 0!==e?e:this.active()}_isPromise(e){return e&&"function"==typeof e.then}}},13837:(e,t,r)=>{"use strict";const n=r(63178),s=r(80660),i=r(61087),{SpanStatsProcessor:o}=r(79179),a=new WeakSet,c=new WeakSet;e.exports=class{constructor(e,t,r){this._exporter=e,this._prioritySampler=t,this._config=r,this._killAll=!1,this._stats=new o(r),this._spanSampler=new i(r.sampler)}process(e){const t=e.context(),r=[],n=[],i=t._trace,{flushMinSpans:o}=this._config,{started:a,finished:c}=i;if(!1!==i.record){if(a.length===c.length||c.length>=o){this._prioritySampler.sample(t),this._spanSampler.sample(t);for(const e of a)if(void 0!==e._duration){const t=s(e);this._stats.onSpanFinished(t),n.push(t)}else r.push(e);0!==n.length&&!1!==i.isRecording&&this._exporter.export(n),this._erase(i,r)}this._killAll&&a.map((e=>{e._finished||e.finish()}))}}killAll(){this._killAll=!0}_erase(e,t){if("true"===process.env.DD_TRACE_EXPERIMENTAL_STATE_TRACKING){const t=new Set,r=new Set,s=new Set,i=new Set;for(const t of e.finished){const r=t.context(),o=r.toSpanId();s.has(t)?n.error(`Span was already finished in the same trace: ${t}`):(s.add(t),i.has(o)?n.error(`Another span with the same ID was already finished in the same trace: ${t}`):i.add(o),r._trace!==e&&n.error(`A span was finished in the wrong trace: ${t}.`),c.has(t)?n.error(`Span was already finished in a different trace: ${t}`):c.add(t))}for(const i of e.started){const o=i.context(),c=o.toSpanId();t.has(i)?n.error(`Span was already started in the same trace: ${i}`):(t.add(i),r.has(c)?n.error(`Another span with the same ID was already started in the same trace: ${i}`):r.add(c),o._trace!==e&&n.error(`A span was started in the wrong trace: ${i}.`),a.has(i)?n.error(`Span was already started in a different trace: ${i}`):a.add(i)),s.has(i)||n.error(`Span started in one trace but was finished in another trace: ${i}`)}for(const r of e.finished)t.has(r)||n.error(`Span finished in one trace but was started in another trace: ${r}`)}for(const t of e.finished)t.context()._tags={};e.started=t,e.finished=[]}}},61087:(e,t,r)=>{"use strict";const{globMatch:n}=r(66456),{USER_KEEP:s,AUTO_KEEP:i}=r(2691).priority,o=r(66167),a=r(96504);class c{constructor({service:e,name:t,sampleRate:r=1,maxPerSecond:n}={}){this.service=e,this.name=t,this._sampler=new a(r),this._limiter=void 0,Number.isFinite(n)&&(this._limiter=new o(n))}get sampleRate(){return this._sampler.rate()}get maxPerSecond(){return this._limiter&&this._limiter._rateLimit}static from(e){return new c(e)}match(e,t){return!(this.service&&!n(this.service,e)||this.name&&!n(this.name,t))}sample(){return!!this._sampler.isSampled()&&(!this._limiter||this._limiter.isAllowed())}}e.exports=class{constructor({spanSamplingRules:e=[]}={}){this._rules=e.map(c.from)}findRule(e,t){for(const r of this._rules)if(r.match(e,t))return r}sample(e){const t=e._sampling.priority;if(t===s||t===i)return;const{started:r}=e._trace;for(const e of r){const t=e.context(),r=t._tags||{},n=t._name,s=r.service||r["service.name"]||e.tracer()._service,i=this.findRule(s,n);i&&i.sample()&&(e.context()._sampling.spanSampling={sampleRate:i.sampleRate,maxPerSecond:i.maxPerSecond})}}}},79179:(e,t,r)=>{const n=r(22037),{version:s}=r(16310),i=r(4147),{LogCollapsingLowestDenseDDSketch:o}=r(53697),{ORIGIN_KEY:a,TOP_LEVEL_KEY:c}=r(12909),{MEASURED:u,HTTP_STATUS_CODE:p}=r(43620),{SpanStatsExporter:l}=r(52722),{DEFAULT_SPAN_NAME:d,DEFAULT_SERVICE_NAME:h}=r(90370);class f{constructor(e){this.aggKey=e,this.hits=0,this.topLevelHits=0,this.errors=0,this.duration=0,this.okDistribution=new o(.00775),this.errorDistribution=new o(.00775)}record(e){const t=e.duration;this.hits++,this.duration+=t,e.metrics[c]&&this.topLevelHits++,e.error?(this.errors++,this.errorDistribution.accept(t)):this.okDistribution.accept(t)}toJSON(){const{name:e,service:t,resource:r,type:n,statusCode:s,synthetics:i}=this.aggKey;return{Name:e,Service:t,Resource:r,Type:n,HTTPStatusCode:s,Synthetics:i,Hits:this.hits,TopLevelHits:this.topLevelHits,Errors:this.errors,Duration:this.duration,OkSummary:this.okDistribution.toProto(),ErrorSummary:this.errorDistribution.toProto()}}}class m{constructor(e){this.name=e.name||d,this.service=e.service||h,this.resource=e.resource||"",this.type=e.type||"",this.statusCode=e.meta[p]||0,this.synthetics="synthetics"===e.meta[a]}toString(){return[this.name,this.service,this.resource,this.type,this.statusCode,this.synthetics].join(",")}}class g extends Map{forSpan(e){const t=new m(e),r=t.toString();return this.has(r)||this.set(r,new f(t)),this.get(r)}}class _ extends Map{forTime(e){return this.has(e)||this.set(e,new g),this.get(e)}}e.exports={SpanAggStats:f,SpanAggKey:m,SpanBuckets:g,TimeBuckets:_,SpanStatsProcessor:class{constructor({stats:{enabled:e=!1,interval:t=10},hostname:r,port:s,url:i,env:o,tags:a}={}){this.exporter=new l({hostname:r,port:s,tags:a,url:i}),this.interval=t,this.bucketSizeNs=1e9*t,this.buckets=new _,this.hostname=n.hostname(),this.enabled=e,this.env=o,this.tags=a||{},this.sequence=0,e&&(this.timer=setInterval(this.onInterval.bind(this),1e3*t),this.timer.unref())}onInterval(){const e=this._serializeBuckets();e&&this.exporter.export({Hostname:this.hostname,Env:this.env,Version:s,Stats:e,Lang:"javascript",TracerVersion:i.version,RuntimeID:this.tags["runtime-id"],Sequence:++this.sequence})}onSpanFinished(e){if(!this.enabled)return;if(!e.metrics[c]&&!e.metrics[u])return;const t=e.startTime+e.duration,r=t-t%this.bucketSizeNs;this.buckets.forTime(r).forSpan(e).record(e)}_serializeBuckets(){const{bucketSizeNs:e}=this,t=[];for(const[r,n]of this.buckets.entries()){const s=[];for(const e of n.values())s.push(e.toJSON());t.push({Start:r,Duration:e,Stats:s})}return this.buckets.clear(),t}}}},50583:(e,t,r)=>{"use strict";const{info:n,warn:s}=r(18337),i=r(22037),{inspect:o}=r(73837),a=r(4147).version;let c,u,p=[],l=!1;e.exports={startupLog:function({agentError:e}={}){if(!c||!u)return;if(l)return;if(l=!0,!c.startupLogs)return;const t=c.url||`http://${c.hostname||"localhost"}:${c.port}`,r={[o.custom](){return String(this)},toString(){return JSON.stringify(this)}};r.date=(new Date).toISOString(),r.os_name=i.type(),r.os_version=i.release(),r.architecture=i.arch(),r.version=a,r.lang="nodejs",r.lang_version=process.versions.node,r.env=c.env,r.enabled=c.enabled,r.service=c.service,r.agent_url=t,e&&(r.agent_error=e.message),r.debug=!!c.debug,r.sample_rate=c.sampleRate,r.sampling_rules=p,r.tags=c.tags,c.tags&&c.tags.version&&(r.dd_version=c.tags.version),r.log_injection_enabled=!!c.logInjection,r.runtime_metrics_enabled=!!c.runtimeMetrics,r.profiling_enabled=!!(c.profiling||{}).enabled,Object.assign(r,function(){const e=new Set,t={};for(const t in u._pluginsByName)e.add(t);return t.integrations_loaded=Array.from(e),t}()),r.appsec_enabled=!!c.appsec.enabled,n("DATADOG TRACER CONFIGURATION - "+r),e&&s("DATADOG TRACER DIAGNOSTIC - Agent Error: "+e.message),c=void 0,u=void 0,p=void 0},setStartupLogConfig:function(e){c=e},setStartupLogPluginManager:function(e){u=e},setSamplingRules:function(e){p=e}}},93954:(e,t,r)=>{"use strict";const n=r(63178);e.exports={add:function e(t,r){if(t&&r){if(Array.isArray(r))return r.forEach((r=>e(t,r)));try{if("string"==typeof r){const e=r.split(",");for(const r of e){const e=r.indexOf(":");if(-1===e)continue;const n=r.slice(0,e),s=r.slice(e+1);t[n.trim()]=s.trim()}}else Object.assign(t,r)}catch(e){n.error(e)}}}}},76938:(e,t,r)=>{"use strict";e=r.nmd(e);const n=r(71017),s=r(98627),i=r(59367),{sendData:o}=r(70842),a=r(83928),{fileURLToPath:c}=r(57310),u=new Set,p=new Set,l=a.channel("dd-trace:moduleLoadStart");let d,h,f,m;function g(e,t,r){d||(d=setImmediate((()=>{if(d=null,u.size>0){const n=Array.from(u.values()).splice(0,1e3).map((e=>{u.delete(e);const[t,r]=e.split(" ");return{name:t,version:r}}));o(e,t,r,"app-dependencies-loaded",{dependencies:n}),u.size>0&&g(e,t,r)}})),d.unref())}function _(t){if(t){let r=t.filename;if(r&&r.startsWith("file://"))try{r=c(r)}catch(e){}const o=r&&s(r),a=t.request||o&&o.name;if(r&&a&&function(e,t){const r=y(0,t,"/");return r&&"win32"===process.platform?y(0,t,n.sep):r}(0,a)&&!p.has(a)&&(p.add(a),o)){const{name:t,basedir:r}=o;if(r)try{const{version:n}=i(r,e);u.add(`${t} ${n}`),g(h,f,m)}catch(e){}}}}function y(e,t,r){return 0!==t.indexOf(`..${r}`)&&0!==t.indexOf(`.${r}`)&&0!==t.indexOf(r)&&1!==t.indexOf(`:${r}`)}e.exports={start:function(e,t,r){h=e,f=t,m=r,l.subscribe(_)},stop:function(){h=null,f=null,m=null,p.clear(),u.clear(),l.hasSubscribers&&l.unsubscribe(_)}}},88895:(e,t,r)=>{"use strict";const n=r(4147).version,s=r(83928),i=r(22037),o=r(76938),{sendData:a}=r(70842),c=process.env.DD_TELEMETRY_HEARTBEAT_INTERVAL?1e3*Number(process.env.DD_TELEMETRY_HEARTBEAT_INTERVAL):6e4,u=s.channel("datadog:telemetry:start"),p=s.channel("datadog:telemetry:stop");let l,d,h,f,m;const g=new Set;function _(){const e=[];for(const t in d._pluginsByName)g.has(t)||(e.push({name:t,enabled:d._pluginsByName[t]._enabled,auto_enabled:!0}),g.add(t));return e}function y(e,t=[],r=[],n=null){if(!(n=n||new WeakSet).has(e)){n.add(e);for(const[s,i]of Object.entries(e))"object"==typeof i&&null!==i?y(i,t,[...r,s],n):t.push({name:[...r,s].join("."),value:i});return t}}function b(){process.removeListener("beforeExit",b),a(l,h,f,"app-closing")}function v(){return{config:l,application:h,host:f,heartbeatInterval:c}}e.exports={start:function(e,t){e.telemetry.enabled&&(l=e,d=t,h={service_name:l.service,env:l.env,service_version:l.version,tracer_version:n,language_name:"nodejs",language_version:process.versions.node},f=function(){const e=i.type();return"Linux"===e||"Darwin"===e?{hostname:i.hostname(),os:e,architecture:i.arch(),kernel_version:i.version(),kernel_release:i.release(),kernel_name:e}:"Windows_NT"===e?{hostname:i.hostname(),os:e,architecture:i.arch(),os_version:i.version()}:{hostname:i.hostname(),os:e}}(),o.start(l,h,f),a(l,h,f,"app-started",{integrations:_(),dependencies:[],configuration:y(l),additional_payload:[]}),m=setInterval((()=>{a(l,h,f,"app-heartbeat")}),c),m.unref(),process.on("beforeExit",b),u.publish(v()))},stop:function(){l&&(clearInterval(m),process.removeListener("beforeExit",b),p.publish(v()),l=void 0)},updateIntegrations:function(){if(!l||!l.telemetry.enabled)return;const e=_();0!==e.length&&a(l,h,f,"app-integrations-change",{integrations:e})}}},70842:(e,t,r)=>{const n=r(88550);let s=0;e.exports={sendData:function(e,t,r,i,o={}){const{hostname:a,port:c,url:u}=e,{logger:p,tags:l,serviceMapping:d,...h}=o,f={url:u,hostname:a,port:c,method:"POST",path:"/telemetry/proxy/api/v2/apmtelemetry",headers:{"content-type":"application/json","dd-telemetry-api-version":"v1","dd-telemetry-request-type":i}},m=JSON.stringify({api_version:"v1",request_type:i,tracer_time:Math.floor(Date.now()/1e3),runtime_id:e.tags["runtime-id"],seq_id:++s,payload:h,application:t,host:r});n(m,f,(()=>{}))}}},88376:(e,t,r)=>{"use strict";const n=r(89924),s=r(43620),i=r(86093),{storage:o}=r(60445),{isError:a}=r(66456),{setStartupLogConfig:c}=r(50583),{ERROR_MESSAGE:u,ERROR_TYPE:p,ERROR_STACK:l}=r(12909),d=s.SPAN_TYPE,h=s.RESOURCE_NAME,f=s.SERVICE_NAME,m=s.MEASURED;function g(e,t){a(t)&&e.addTags({[p]:t.name,[u]:t.message,[l]:t.stack})}e.exports=class extends n{constructor(e){super(e),this._scope=new i,c(e)}trace(e,t,r){if(!(t=Object.assign({childOf:this.scope().active()},t)).childOf&&!1===t.orphanable)return r(null,(()=>{}));const n=this.startSpan(e,t);!function(e,t){const r={};t.type&&(r[d]=t.type),t.service&&(r[f]=t.service),t.resource&&(r[h]=t.resource),r[m]=t.measured,e.addTags(r)}(n,t);try{if(r.length>1)return this.scope().activate(n,(()=>r(n,(e=>{g(n,e),n.finish()}))));const e=this.scope().activate(n,(()=>r(n)));return e&&"function"==typeof e.then?e.then((e=>(n.finish(),e)),(e=>{throw g(n,e),n.finish(),e})):(n.finish(),e)}catch(e){throw g(n,e),n.finish(),e}}wrap(e,t,r){const n=this;return function(){const s=o.getStore();if(s&&s.noop)return r.apply(this,arguments);let i=t;if("function"==typeof i&&"function"==typeof r&&(i=i.apply(this,arguments)),i&&!1===i.orphanable&&!n.scope().active())return r.apply(this,arguments);const a=arguments.length-1,c=arguments[a];if("function"==typeof c){const t=n.scope().bind(c);return n.trace(e,i,((e,n)=>(arguments[a]=function(e){return n(e),t.apply(this,arguments)},r.apply(this,arguments))))}return n.trace(e,i,(()=>r.apply(this,arguments)))}}setUrl(e){this._exporter.setUrl(e)}scope(){return this._scope}getRumData(){return this._enableGetRumData?`<meta name="dd-trace-id" content="${this.scope().active().context().toTraceId()}" /><meta name="dd-trace-time" content="${Date.now()}" />`:""}}},66456:(e,t,r)=>{"use strict";const n=r(71017);e.exports={isTrue:function(e){return"true"===(e=String(e).toLowerCase())||"1"===e},isFalse:function(e){return"false"===(e=String(e).toLowerCase())||"0"===e},isError:function(e){return e instanceof Error||!!(e&&e.message&&e.stack)},globMatch:function(e,t){let r=0,n=0,s=0,i=0;for(;r<e.length||n<t.length;){if(r<e.length){const o=e[r];switch(o){default:if(n<t.length&&t[n]===o){r++,n++;continue}break;case"?":if(n<t.length){r++,n++;continue}break;case"*":s=r,i=n+1,r++;continue}}if(!(i>0&&i<=t.length))return!1;r=s,n=i}return!0},calculateDDBasePath:function(e){const t=e.split(n.sep),r=t.lastIndexOf("packages");return t.slice(0,r).join(n.sep)+n.sep}}},83928:(e,t,r)=>{"use strict";e.exports=r(43532)},43532:(e,t,r)=>{"use strict";const{Channel:n,channel:s}=r(67643),[i,o]=process.versions.node.split("."),a=new WeakSet,c={channel:s};"19"===i&&"9"===o&&(c.channel=function(){const e=s.apply(this,arguments);if(!a.has(e)){const t=e.subscribe,r=e.unsubscribe;e.subscribe=function(){delete e.subscribe,delete e.unsubscribe;const r=t.apply(this,arguments);return this.subscribe((()=>{})),r},e.unsubscribe===n.prototype.unsubscribe&&(e.unsubscribe=function(){return delete e.subscribe,delete e.unsubscribe,this.subscribe((()=>{})),r.apply(this,arguments)}),a.add(e)}return e}),e.exports=c},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},71891:e=>{"use strict";e.exports=require("dgram")},67643:e=>{"use strict";e.exports=require("diagnostics_channel")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},84655:e=>{"use strict";e.exports=require("v8")},59796:e=>{"use strict";e.exports=require("zlib")},96986:function(e,t){"use strict";var r,n,s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Profile=t.Function=t.Location=t.Line=t.Mapping=t.Sample=t.Label=t.ValueType=t.StringTable=t.emptyTableToken=void 0;const i=2n**32n-1n,o=2**32-1,a=o+1,c="undefined"==typeof Buffer?e=>(new TextEncoder).encode(e):e=>Buffer.from(e,"utf8");function u(e){if(!e.length)return 0;let t=0;for(;t<e.length&&e[t++]>=128;);return t}function p(e,t=0){return{value:e,offset:t}}function l(e,t){switch(e){case h:for(let e=0;e<t.length;e++)if(!(128&t[e]))return p(t.slice(0,e+1));return p(t);case f:{const e=u(t),r=m(t);return p(t.slice(e,Number(r)+e),e)}default:throw new Error(`Unrecognized value type: ${e}`)}}function d(e){const t=e<0;t&&(e=-e);let r=function(e){return"bigint"!=typeof e?(e>>>0)%a:Number(e&i)}(e),n=function(e){return"bigint"!=typeof e?e/a>>>0:Number(e>>32n&i)}(e);return t&&(n=~n>>>0,r=~r>>>0,++r>o&&(r=0,++n>o&&(n=0))),[n,r]}const h=0,f=2;function m(e){if(u(e)>4)return function(e){if(!e.length)return BigInt(0);let t=BigInt(127&e[0]),r=0;for(;e[r++]>=128;)t|=BigInt(127&e[r])<<BigInt(7*r);return t}(e);if(!e.length)return 0;let t=127&e[0],r=0;for(;e[r++]>=128;)t|=(127&e[r])<<7*r;return t}function g(e){const t=[];let r=0;for(let n=0;n<e.length;n++)0==(128&e[n])&&(t.push(m(e.slice(r,n+1))),r=n+1);return t}function _(e,t){return null==t?[e]:(t.push(e),t)}function y(e){if(0===e||0n===e)return 0;const[t,r]=d(e),n=(r>>>28|t<<4)>>>0,s=t>>>24;return 0!==s?s<128?9:10:0!==n?n<16384?n<128?5:6:n<2097152?7:8:r<16384?r<128?1:2:r<2097152?3:4}function b(e){return void 0===e?0:"number"==typeof e||"bigint"==typeof e?y(e)||1:e.length}function v(e){let t=0;for(const r of e)t+=b(r);return t}function E(e){const t=y(e);return t?1+t:0}function S(e){let t=0;for(const r of e)t+=y(r)||1;return t?1+y(t)+t:0}function T(e){const t=b(e);return t?1+y(t)+t:0}function w(e){let t=0;for(const r of e)t+=T(r);return t}function I(e,t,r){if(0===r||0n===r)return e[t++]=0,t;let[n,s]=d(r);for(;n;)e[t++]=127&s|128,s=(s>>>7|n<<25)>>>0,n>>>=7;for(;s>127;)e[t++]=127&s|128,s>>>=7;return e[t++]=s,t}t.emptyTableToken=Symbol();class x{constructor(e){this.strings=new Array,r.set(this,new Array),n.set(this,new Map),e!==t.emptyTableToken&&this.dedup("")}get encodedLength(){let e=0;for(const t of s(this,r,"f"))e+=t.length;return e}_encodeToBuffer(e,t){for(const n of s(this,r,"f"))e.set(n,t),t+=n.length;return t}encode(e=new Uint8Array(this.encodedLength)){return this._encodeToBuffer(e,0),e}static _encodeStringFromUtf8(e){const t=new Uint8Array(1+e.length+(y(e.length)||1));let r=0;return t[r++]=50,r=I(t,r,e.length),e.length>0&&t.set(e,r++),t}static _encodeString(e){return x._encodeStringFromUtf8(c(e))}dedup(e){if("number"==typeof e)return e;if(!s(this,n,"f").has(e)){const t=this.strings.push(e)-1;s(this,n,"f").set(e,t),s(this,r,"f").push(x._encodeString(e))}return s(this,n,"f").get(e)}_decodeString(e){const t=(new TextDecoder).decode(e);s(this,n,"f").set(t,this.strings.push(t)-1),s(this,r,"f").push(x._encodeStringFromUtf8(e))}}function k(e,t){const r={};let n=0;for(;n<e.length;){const s=e[n]>>3,i=7&e[n];n++;const{offset:o,value:a}=l(i,e.slice(n));n+=a.length+o,t(r,s,a)}return r}t.StringTable=x,r=new WeakMap,n=new WeakMap;class O{constructor(e){this.type=e.type||0,this.unit=e.unit||0}get length(){let e=0;return e+=E(this.type),e+=E(this.unit),e}_encodeToBuffer(e,t=0){return this.type&&(e[t++]=8,t=I(e,t,this.type)),this.unit&&(e[t++]=16,t=I(e,t,this.unit)),t}encode(e=new Uint8Array(this.length)){return this._encodeToBuffer(e,0),e}static decodeValue(e,t,r){switch(t){case 1:e.type=m(r);break;case 2:e.unit=m(r)}}static decode(e){return new this(k(e,this.decodeValue))}}t.ValueType=O;class A{constructor(e){this.key=e.key||0,this.str=e.str||0,this.num=e.num||0,this.numUnit=e.numUnit||0}get length(){let e=0;return e+=E(this.key),e+=E(this.str),e+=E(this.num),e+=E(this.numUnit),e}_encodeToBuffer(e,t=0){return this.key&&(e[t++]=8,t=I(e,t,this.key)),this.str&&(e[t++]=16,t=I(e,t,this.str)),this.num&&(e[t++]=24,t=I(e,t,this.num)),this.numUnit&&(e[t++]=32,t=I(e,t,this.numUnit)),t}encode(e=new Uint8Array(this.length)){return this._encodeToBuffer(e,0),e}static decodeValue(e,t,r){switch(t){case 1:e.key=m(r);break;case 2:e.str=m(r);break;case 3:e.num=m(r);break;case 4:e.numUnit=m(r)}}static decode(e){return new this(k(e,this.decodeValue))}}t.Label=A;class N{constructor(e){this.locationId=e.locationId||[],this.value=e.value||[],this.label=(e.label||[]).map((e=>new A(e)))}get length(){let e=0;return e+=S(this.locationId),e+=S(this.value),e+=w(this.label),e}_encodeToBuffer(e,t=0){if(this.locationId.length){e[t++]=10,t=I(e,t,v(this.locationId));for(const r of this.locationId)t=I(e,t,r)}if(this.value.length){e[t++]=18,t=I(e,t,v(this.value));for(const r of this.value)t=I(e,t,r)}for(const r of this.label)e[t++]=26,t=I(e,t,r.length),t=r._encodeToBuffer(e,t);return t}encode(e=new Uint8Array(this.length)){return this._encodeToBuffer(e,0),e}static decodeValue(e,t,r){switch(t){case 1:e.locationId=g(r);break;case 2:e.value=g(r);break;case 3:e.label=_(A.decode(r),e.label)}}static decode(e){return new this(k(e,this.decodeValue))}}t.Sample=N;class R{constructor(e){this.id=e.id||0,this.memoryStart=e.memoryStart||0,this.memoryLimit=e.memoryLimit||0,this.fileOffset=e.fileOffset||0,this.filename=e.filename||0,this.buildId=e.buildId||0,this.hasFunctions=!!e.hasFunctions,this.hasFilenames=!!e.hasFilenames,this.hasLineNumbers=!!e.hasLineNumbers,this.hasInlineFrames=!!e.hasInlineFrames}get length(){let e=0;return e+=E(this.id),e+=E(this.memoryStart),e+=E(this.memoryLimit),e+=E(this.fileOffset),e+=E(this.filename),e+=E(this.buildId),e+=E(this.hasFunctions?1:0),e+=E(this.hasFilenames?1:0),e+=E(this.hasLineNumbers?1:0),e+=E(this.hasInlineFrames?1:0),e}_encodeToBuffer(e,t=0){return this.id&&(e[t++]=8,t=I(e,t,this.id)),this.memoryStart&&(e[t++]=16,t=I(e,t,this.memoryStart)),this.memoryLimit&&(e[t++]=24,t=I(e,t,this.memoryLimit)),this.fileOffset&&(e[t++]=32,t=I(e,t,this.fileOffset)),this.filename&&(e[t++]=40,t=I(e,t,this.filename)),this.buildId&&(e[t++]=48,t=I(e,t,this.buildId)),this.hasFunctions&&(e[t++]=56,t=I(e,t,1)),this.hasFilenames&&(e[t++]=64,t=I(e,t,1)),this.hasLineNumbers&&(e[t++]=72,t=I(e,t,1)),this.hasInlineFrames&&(e[t++]=80,t=I(e,t,1)),t}encode(e=new Uint8Array(this.length)){return this._encodeToBuffer(e,0),e}static decodeValue(e,t,r){switch(t){case 1:e.id=m(r);break;case 2:e.memoryStart=m(r);break;case 3:e.memoryLimit=m(r);break;case 4:e.fileOffset=m(r);break;case 5:e.filename=m(r);break;case 6:e.buildId=m(r);break;case 7:e.hasFunctions=!!m(r);break;case 8:e.hasFilenames=!!m(r);break;case 9:e.hasLineNumbers=!!m(r);break;case 10:e.hasInlineFrames=!!m(r)}}static decode(e){return new this(k(e,this.decodeValue))}}t.Mapping=R;class C{constructor(e){this.functionId=e.functionId||0,this.line=e.line||0}get length(){let e=0;return e+=E(this.functionId),e+=E(this.line),e}_encodeToBuffer(e,t=0){return this.functionId&&(e[t++]=8,t=I(e,t,this.functionId)),this.line&&(e[t++]=16,t=I(e,t,this.line)),t}encode(e=new Uint8Array(this.length)){return this._encodeToBuffer(e,0),e}static decodeValue(e,t,r){switch(t){case 1:e.functionId=m(r);break;case 2:e.line=m(r)}}static decode(e){return new this(k(e,this.decodeValue))}}t.Line=C;class L{constructor(e){this.id=e.id||0,this.mappingId=e.mappingId||0,this.address=e.address||0,this.line=(e.line||[]).map((e=>new C(e))),this.isFolded=!!e.isFolded}get length(){let e=0;return e+=E(this.id),e+=E(this.mappingId),e+=E(this.address),e+=w(this.line),e+=E(this.isFolded?1:0),e}_encodeToBuffer(e,t=0){this.id&&(e[t++]=8,t=I(e,t,this.id)),this.mappingId&&(e[t++]=16,t=I(e,t,this.mappingId)),this.address&&(e[t++]=24,t=I(e,t,this.address));for(const r of this.line)e[t++]=34,t=I(e,t,r.length),t=r._encodeToBuffer(e,t);return this.isFolded&&(e[t++]=40,t=I(e,t,1)),t}encode(e=new Uint8Array(this.length)){return this._encodeToBuffer(e,0),e}static decodeValue(e,t,r){switch(t){case 1:e.id=m(r);break;case 2:e.mappingId=m(r);break;case 3:e.address=m(r);break;case 4:e.line=_(C.decode(r),e.line);break;case 5:e.isFolded=!!m(r)}}static decode(e){return new this(k(e,this.decodeValue))}}t.Location=L;class D{constructor(e){this.id=e.id||0,this.name=e.name||0,this.systemName=e.systemName||0,this.filename=e.filename||0,this.startLine=e.startLine||0}get length(){let e=0;return e+=E(this.id),e+=E(this.name),e+=E(this.systemName),e+=E(this.filename),e+=E(this.startLine),e}_encodeToBuffer(e,t=0){return this.id&&(e[t++]=8,t=I(e,t,this.id)),this.name&&(e[t++]=16,t=I(e,t,this.name)),this.systemName&&(e[t++]=24,t=I(e,t,this.systemName)),this.filename&&(e[t++]=32,t=I(e,t,this.filename)),this.startLine&&(e[t++]=40,t=I(e,t,this.startLine)),t}encode(e=new Uint8Array(this.length)){return this._encodeToBuffer(e,0),e}static decodeValue(e,t,r){switch(t){case 1:e.id=m(r);break;case 2:e.name=m(r);break;case 3:e.systemName=m(r);break;case 4:e.filename=m(r);break;case 5:e.startLine=m(r)}}static decode(e){return new this(k(e,this.decodeValue))}}t.Function=D,t.Profile=class{constructor(e={}){this.sampleType=(e.sampleType||[]).map((e=>new O(e))),this.sample=(e.sample||[]).map((e=>new N(e))),this.mapping=(e.mapping||[]).map((e=>new R(e))),this.location=(e.location||[]).map((e=>new L(e))),this.function=(e.function||[]).map((e=>new D(e))),this.stringTable=e.stringTable||new x,this.dropFrames=e.dropFrames||0,this.keepFrames=e.keepFrames||0,this.timeNanos=e.timeNanos||0,this.durationNanos=e.durationNanos||0,this.periodType=e.periodType?new O(e.periodType):void 0,this.period=e.period||0,this.comment=e.comment||[],this.defaultSampleType=e.defaultSampleType||0}get length(){let e=0;return e+=w(this.sampleType),e+=w(this.sample),e+=w(this.mapping),e+=w(this.location),e+=w(this.function),e+=this.stringTable.encodedLength,e+=E(this.dropFrames),e+=E(this.keepFrames),e+=E(this.timeNanos),e+=E(this.durationNanos),e+=T(this.periodType),e+=E(this.period),e+=S(this.comment),e+=E(this.defaultSampleType),e}_encodeToBuffer(e,t=0){for(const r of this.sampleType)e[t++]=10,t=I(e,t,r.length),t=r._encodeToBuffer(e,t);for(const r of this.sample)e[t++]=18,t=I(e,t,r.length),t=r._encodeToBuffer(e,t);for(const r of this.mapping)e[t++]=26,t=I(e,t,r.length),t=r._encodeToBuffer(e,t);for(const r of this.location)e[t++]=34,t=I(e,t,r.length),t=r._encodeToBuffer(e,t);for(const r of this.function)e[t++]=42,t=I(e,t,r.length),t=r._encodeToBuffer(e,t);if(t=this.stringTable._encodeToBuffer(e,t),this.dropFrames&&(e[t++]=56,t=I(e,t,this.dropFrames)),this.keepFrames&&(e[t++]=64,t=I(e,t,this.keepFrames)),this.timeNanos&&(e[t++]=72,t=I(e,t,this.timeNanos)),this.durationNanos&&(e[t++]=80,t=I(e,t,this.durationNanos)),void 0!==this.periodType&&(e[t++]=90,t=I(e,t,this.periodType.length),t=this.periodType._encodeToBuffer(e,t)),this.period&&(e[t++]=96,t=I(e,t,this.period)),this.comment.length){e[t++]=106,t=I(e,t,v(this.comment));for(const r of this.comment)t=I(e,t,r)}return this.defaultSampleType&&(e[t++]=112,t=I(e,t,this.defaultSampleType)),t}encode(e=new Uint8Array(this.length)){return this._encodeToBuffer(e,0),e}static decodeValue(e,r,n){switch(r){case 1:e.sampleType=_(O.decode(n),e.sampleType);break;case 2:e.sample=_(N.decode(n),e.sample);break;case 3:e.mapping=_(R.decode(n),e.mapping);break;case 4:e.location=_(L.decode(n),e.location);break;case 5:e.function=_(D.decode(n),e.function);break;case 6:void 0===e.stringTable&&(e.stringTable=new x(t.emptyTableToken)),e.stringTable._decodeString(n);break;case 7:e.dropFrames=m(n);break;case 8:e.keepFrames=m(n);break;case 9:e.timeNanos=m(n);break;case 10:e.durationNanos=m(n);break;case 11:e.periodType=O.decode(n);break;case 12:e.period=m(n);break;case 13:e.comment=g(n);break;case 14:e.defaultSampleType=m(n)}}static decode(e){return new this(k(e,this.decodeValue))}}},70439:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$asyncIterator:()=>m,$$iterator:()=>i,createAsyncIterator:()=>b,createIterator:()=>l,forAwaitEach:()=>S,forEach:()=>h,getAsyncIterator:()=>_,getAsyncIteratorMethod:()=>y,getIterator:()=>u,getIteratorMethod:()=>p,isArrayLike:()=>a,isAsyncIterable:()=>g,isCollection:()=>c,isIterable:()=>o});var n="function"==typeof Symbol?Symbol:void 0,s=n&&n.iterator,i=s||"@@iterator";function o(e){return!!p(e)}function a(e){var t=null!=e&&e.length;return"number"==typeof t&&t>=0&&t%1==0}function c(e){return Object(e)===e&&(a(e)||o(e))}function u(e){var t=p(e);if(t)return t.call(e)}function p(e){if(null!=e){var t=s&&e[s]||e["@@iterator"];if("function"==typeof t)return t}}function l(e){if(null!=e){var t=u(e);if(t)return t;if(a(e))return new d(e)}}function d(e){this._o=e,this._i=0}function h(e,t,r){if(null!=e){if("function"==typeof e.forEach)return e.forEach(t,r);var n=0,s=u(e);if(s){for(var i;!(i=s.next()).done;)if(t.call(r,i.value,n++,e),n>9999999)throw new TypeError("Near-infinite iteration.")}else if(a(e))for(;n<e.length;n++)e.hasOwnProperty(n)&&t.call(r,e[n],n,e)}}d.prototype[i]=function(){return this},d.prototype.next=function(){return void 0===this._o||this._i>=this._o.length?(this._o=void 0,{value:void 0,done:!0}):{value:this._o[this._i++],done:!1}};var f=n&&n.asyncIterator,m=f||"@@asyncIterator";function g(e){return!!y(e)}function _(e){var t=y(e);if(t)return t.call(e)}function y(e){if(null!=e){var t=f&&e[f]||e["@@asyncIterator"];if("function"==typeof t)return t}}function b(e){if(null!=e){var t=_(e);if(t)return t;var r=l(e);if(r)return new v(r)}}function v(e){this._i=e}function E(e,t,r){var n;return new Promise((function(s){s((n=e[t](r)).value)})).then((function(e){return{value:e,done:n.done}}))}function S(e,t,r){var n=b(e);if(n){var s=0;return new Promise((function(i,o){!function a(){return n.next().then((function(n){return n.done?i():Promise.resolve(t.call(r,n.value,s++,e)).then(a).catch(o),null})).catch(o),null}()}))}}v.prototype[m]=function(){return this},v.prototype.next=function(e){return E(this._i,"next",e)},v.prototype.return=function(e){return this._i.return?E(this._i,"return",e):Promise.resolve({value:e,done:!0})},v.prototype.throw=function(e){return this._i.throw?E(this._i,"throw",e):Promise.reject(e)}},4147:e=>{"use strict";e.exports=JSON.parse('{"name":"dd-trace","version":"4.0.0-pre","description":"Datadog APM tracing client for JavaScript","main":"index.js","typings":"index.d.ts","scripts":{"preinstall":"node scripts/preinstall.js","bench":"node benchmark","bench:profiler":"node benchmark/profiler","bench:e2e":"SERVICES=mongo yarn services && cd benchmark/e2e && node benchmark-run.js --duration=30","bench:e2e:ci-visibility":"node benchmark/e2e-ci/benchmark-run.js","type:doc":"cd docs && yarn && yarn build","type:test":"cd docs && yarn && yarn test","lint":"node scripts/check_licenses.js && eslint . && yarn audit --groups dependencies","services":"node ./scripts/install_plugin_modules && node packages/dd-trace/test/setup/services","test":"SERVICES=* yarn services && mocha --colors --exit --expose-gc \'packages/dd-trace/test/setup/node.js\' \'packages/*/test/**/*.spec.js\'","test:appsec":"mocha --colors --exit -r \\"packages/dd-trace/test/setup/mocha.js\\" --exclude \\"packages/dd-trace/test/appsec/iast/**/*.plugin.spec.js\\" \\"packages/dd-trace/test/appsec/**/*.spec.js\\"","test:appsec:ci":"nyc --no-clean --include \\"packages/dd-trace/src/appsec/**/*.js\\" --exclude \\"packages/dd-trace/test/appsec/iast/**/*.plugin.spec.js\\" -- npm run test:appsec","test:appsec:plugins":"mocha --colors --exit -r \\"packages/dd-trace/test/setup/mocha.js\\" \\"packages/dd-trace/test/appsec/iast/**/*.@($(echo $PLUGINS)).plugin.spec.js\\"","test:appsec:plugins:ci":"yarn services && nyc --no-clean --include \\"packages/dd-trace/test/appsec/iast/**/*.@($(echo $PLUGINS)).plugin.spec.js\\" -- npm run test:appsec:plugins","test:trace:core":"tap packages/dd-trace/test/*.spec.js \\"packages/dd-trace/test/{ci-visibility,encode,exporters,opentracing,plugins,telemetry}/**/*.spec.js\\"","test:trace:core:ci":"npm run test:trace:core -- --coverage --nyc-arg=--include=\\"packages/dd-trace/src/**/*.js\\"","test:instrumentations":"mocha --colors -r \'packages/dd-trace/test/setup/mocha.js\' \'packages/datadog-instrumentations/test/**/*.spec.js\'","test:instrumentations:ci":"nyc --no-clean --include \'packages/datadog-instrumentations/src/**/*.js\' -- npm run test:instrumentations","test:core":"tap \\"packages/datadog-core/test/**/*.spec.js\\"","test:core:ci":"npm run test:core -- --coverage --nyc-arg=--include=\\"packages/datadog-core/src/**/*.js\\"","test:lambda":"mocha --colors --exit -r \\"packages/dd-trace/test/setup/mocha.js\\" \\"packages/dd-trace/test/lambda/**/*.spec.js\\"","test:lambda:ci":"nyc --no-clean --include \\"packages/dd-trace/src/lambda/**/*.js\\" -- npm run test:lambda","test:plugins":"mocha --colors --exit -r \\"packages/dd-trace/test/setup/mocha.js\\" \\"packages/datadog-instrumentations/test/@($(echo $PLUGINS)).spec.js\\" \\"packages/datadog-plugin-@($(echo $PLUGINS))/test/**/*.spec.js\\"","test:plugins:ci":"yarn services && nyc --no-clean --include \\"packages/datadog-instrumentations/src/@($(echo $PLUGINS)).js\\" --include \\"packages/datadog-instrumentations/src/@($(echo $PLUGINS))/**/*.js\\" --include \\"packages/datadog-plugin-@($(echo $PLUGINS))/src/**/*.js\\" -- npm run test:plugins","test:plugins:upstream":"node ./packages/dd-trace/test/plugins/suite.js","test:profiler":"tap \\"packages/dd-trace/test/profiling/**/*.spec.js\\"","test:profiler:ci":"npm run test:profiler -- --coverage --nyc-arg=--include=\\"packages/dd-trace/src/profiling/**/*.js\\"","test:integration":"mocha --colors --timeout 30000 \\"integration-tests/*.spec.js\\"","test:integration:cucumber":"mocha --colors --timeout 30000 \\"integration-tests/cucumber/*.spec.js\\"","test:integration:cypress":"mocha --colors --timeout 30000 \\"integration-tests/cypress/*.spec.js\\"","test:integration:playwright":"mocha --colors --timeout 30000 \\"integration-tests/playwright/*.spec.js\\"","test:shimmer":"mocha --colors \'packages/datadog-shimmer/test/**/*.spec.js\'","test:shimmer:ci":"nyc --no-clean --include \'packages/datadog-shimmer/src/**/*.js\' -- npm run test:shimmer","leak:core":"node ./scripts/install_plugin_modules && (cd packages/memwatch && yarn) && NODE_PATH=./packages/memwatch/node_modules node --no-warnings ./node_modules/.bin/tape \'packages/dd-trace/test/leak/**/*.js\'","leak:plugins":"yarn services && (cd packages/memwatch && yarn) && NODE_PATH=./packages/memwatch/node_modules node --no-warnings ./node_modules/.bin/tape \\"packages/datadog-plugin-@($(echo $PLUGINS))/test/leak.js\\""},"repository":{"type":"git","url":"git+https://github.com/DataDog/dd-trace-js.git"},"keywords":["datadog","trace","tracing","profile","profiler","profiling","opentracing","apm"],"author":"Datadog Inc. <info@datadoghq.com>","license":"BSD-3-Clause","bugs":{"url":"https://github.com/DataDog/dd-trace-js/issues"},"homepage":"https://github.com/DataDog/dd-trace-js#readme","engines":{"node":">=14"},"dependencies":{"@datadog/native-appsec":"2.0.0","@datadog/native-iast-rewriter":"2.0.1","@datadog/native-iast-taint-tracking":"^1.4.0","@datadog/native-metrics":"^1.6.0","@datadog/pprof":"^2.2.0","@datadog/sketches-js":"^2.1.0","crypto-randomuuid":"^1.0.0","diagnostics_channel":"^1.1.0","ignore":"^5.2.0","import-in-the-middle":"^1.3.5","ipaddr.js":"^2.0.1","istanbul-lib-coverage":"3.2.0","koalas":"^1.0.2","limiter":"^1.1.4","lodash.kebabcase":"^4.1.1","lodash.pick":"^4.4.0","lodash.sortby":"^4.7.0","lodash.uniq":"^4.5.0","lru-cache":"^7.14.0","methods":"^1.1.2","module-details-from-path":"^1.0.3","node-abort-controller":"^3.0.1","opentracing":">=0.12.1","path-to-regexp":"^0.1.2","protobufjs":"^7.1.2","retry":"^0.10.1","semver":"^7.3.8"},"devDependencies":{"@types/node":">=14","autocannon":"^4.5.2","axios":"^0.21.2","benchmark":"^2.1.4","body-parser":"^1.18.2","chai":"^4.2.0","chalk":"^3.0.0","checksum":"^0.1.1","cli-table3":"^0.5.1","dotenv":"8.2.0","esbuild":"0.16.12","eslint":"^8.23.0","eslint-config-standard":"^11.0.0-beta.0","eslint-plugin-import":"^2.8.0","eslint-plugin-mocha":"^10.1.0","eslint-plugin-n":"^15.7.0","eslint-plugin-node":"^5.2.1","eslint-plugin-promise":"^3.6.0","eslint-plugin-standard":"^3.0.1","express":"^4.16.2","get-port":"^3.2.0","glob":"^7.1.6","graphql":"0.13.2","int64-buffer":"^0.1.9","jszip":"^3.5.0","mkdirp":"^0.5.1","mocha":"8","msgpack-lite":"^0.1.26","multer":"^1.4.5-lts.1","nock":"^11.3.3","nyc":"^15.1.0","pprof-format":"^2.0.7","proxyquire":"^1.8.0","rimraf":"^3.0.0","sinon":"^11.1.2","sinon-chai":"^3.7.0","tap":"^16.3.4","tape":"^4.9.1","webpack":"^5.81.0","webpack-cli":"^5.0.2"}}')},77005:e=>{"use strict";e.exports=JSON.parse('{"version":"2.2","metadata":{"rules_version":"1.6.0"},"rules":[{"id":"blk-001-001","name":"Block IP Addresses","tags":{"type":"block_ip","category":"security_response"},"conditions":[{"parameters":{"inputs":[{"address":"http.client_ip"}],"data":"blocked_ips"},"operator":"ip_match"}],"transformers":[],"on_match":["block"]},{"id":"blk-001-002","name":"Block User Addresses","tags":{"type":"block_user","category":"security_response"},"conditions":[{"parameters":{"inputs":[{"address":"usr.id"}],"data":"blocked_users"},"operator":"exact_match"}],"transformers":[],"on_match":["block"]},{"id":"crs-913-110","name":"Acunetix","tags":{"type":"security_scanner","crs_id":"913110","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies"}],"list":["acunetix-product","(acunetix web vulnerability scanner","acunetix-scanning-agreement","acunetix-user-agreement","md5(acunetix_wvs_security_test)"]},"operator":"phrase_match"}],"transformers":["lowercase"]},{"id":"crs-913-120","name":"Known security scanner filename/argument","tags":{"type":"security_scanner","crs_id":"913120","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"}],"list":["/.adsensepostnottherenonobook","/<invalid>hello.html","/actsensepostnottherenonotive","/acunetix-wvs-test-for-some-inexistent-file","/antidisestablishmentarianism","/appscan_fingerprint/mac_address","/arachni-","/cybercop","/nessus_is_probing_you_","/nessustest","/netsparker-","/rfiinc.txt","/thereisnowaythat-you-canbethere","/w3af/remotefileinclude.html","appscan_fingerprint","w00tw00t.at.isc.sans.dfind","w00tw00t.at.blackhats.romanian.anti-sec"]},"operator":"phrase_match"}],"transformers":["lowercase"]},{"id":"crs-920-260","name":"Unicode Full/Half Width Abuse Attack Attempt","tags":{"type":"http_protocol_violation","crs_id":"920260","category":"attack_attempt","confidence":"0"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.uri.raw"}],"regex":"\\\\%u[fF]{2}[0-9a-fA-F]{2}","options":{"case_sensitive":true,"min_length":6}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-921-110","name":"HTTP Request Smuggling Attack","tags":{"type":"http_protocol_violation","crs_id":"921110","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"}],"regex":"(?:get|post|head|options|connect|put|delete|trace|track|patch|propfind|propatch|mkcol|copy|move|lock|unlock)\\\\s+[^\\\\s]+\\\\s+http/\\\\d","options":{"case_sensitive":true,"min_length":12}},"operator":"match_regex"}],"transformers":["lowercase"]},{"id":"crs-921-160","name":"HTTP Header Injection Attack via payload (CR/LF and header-name detected)","tags":{"type":"http_protocol_violation","crs_id":"921160","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.path_params"}],"regex":"[\\\\n\\\\r]+(?:refresh|(?:set-)?cookie|(?:x-)?(?:forwarded-(?:for|host|server)|via|remote-ip|remote-addr|originating-IP))\\\\s*:","options":{"case_sensitive":true,"min_length":3}},"operator":"match_regex"}],"transformers":["lowercase"]},{"id":"crs-930-100","name":"Obfuscated Path Traversal Attack (/../)","tags":{"type":"lfi","crs_id":"930100","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.uri.raw"},{"address":"server.request.headers.no_cookies"}],"regex":"(?:%(?:c(?:0%(?:[2aq]f|5c|9v)|1%(?:[19p]c|8s|af))|2(?:5(?:c(?:0%25af|1%259c)|2f|5c)|%46|f)|(?:(?:f(?:8%8)?0%8|e)0%80%a|bg%q)f|%3(?:2(?:%(?:%6|4)6|F)|5%%63)|u(?:221[56]|002f|EFC8|F025)|1u|5c)|0x(?:2f|5c)|\\\\/|\\\\x5c)(?:%(?:(?:f(?:(?:c%80|8)%8)?0%8|e)0%80%ae|2(?:(?:5(?:c0%25a|2))?e|%45)|u(?:(?:002|ff0)e|2024)|%32(?:%(?:%6|4)5|E)|c0(?:%[256aef]e|\\\\.))|\\\\.(?:%0[01])?|0x2e){2,3}(?:%(?:c(?:0%(?:[2aq]f|5c|9v)|1%(?:[19p]c|8s|af))|2(?:5(?:c(?:0%25af|1%259c)|2f|5c)|%46|f)|(?:(?:f(?:8%8)?0%8|e)0%80%a|bg%q)f|%3(?:2(?:%(?:%6|4)6|F)|5%%63)|u(?:221[56]|002f|EFC8|F025)|1u|5c)|0x(?:2f|5c)|\\\\/|\\\\x5c)","options":{"min_length":4}},"operator":"match_regex"}],"transformers":["normalizePath"]},{"id":"crs-930-110","name":"Simple Path Traversal Attack (/../)","tags":{"type":"lfi","crs_id":"930110","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.uri.raw"},{"address":"server.request.headers.no_cookies"}],"regex":"(?:(?:^|[\\\\x5c/])\\\\.{2,3}[\\\\x5c/]|[\\\\x5c/]\\\\.{2,3}(?:[\\\\x5c/]|$))","options":{"case_sensitive":true,"min_length":3}},"operator":"match_regex"}],"transformers":["removeNulls"]},{"id":"crs-930-120","name":"OS File Access Attempt","tags":{"type":"lfi","crs_id":"930120","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"list":["/.htaccess","/.htdigest","/.htpasswd","/.addressbook","/.aptitude/config",".aws/config",".aws/credentials","/.bash_config","/.bash_history","/.bash_logout","/.bash_profile","/.bashrc",".cache/notify-osd.log",".config/odesk/odesk team.conf","/.cshrc","/.dockerignore",".drush/","/.eslintignore","/.fbcindex","/.forward","/.git",".git/","/.gitattributes","/.gitconfig",".gnupg/",".hplip/hplip.conf","/.ksh_history","/.lesshst",".lftp/","/.lhistory","/.lldb-history",".local/share/mc/","/.lynx_cookies","/.my.cnf","/.mysql_history","/.nano_history","/.node_repl_history","/.pearrc","/.pgpass","/.php_history","/.pinerc",".pki/","/.proclog","/.procmailrc","/.psql_history","/.python_history","/.rediscli_history","/.rhistory","/.rhosts","/.sh_history","/.sqlite_history",".ssh/authorized_keys",".ssh/config",".ssh/id_dsa",".ssh/id_dsa.pub",".ssh/id_rsa",".ssh/id_rsa.pub",".ssh/identity",".ssh/identity.pub",".ssh/id_ecdsa",".ssh/id_ecdsa.pub",".ssh/known_hosts",".subversion/auth",".subversion/config",".subversion/servers",".tconn/tconn.conf","/.tcshrc",".vidalia/vidalia.conf","/.viminfo","/.vimrc","/.www_acl","/.wwwacl","/.xauthority","/.zhistory","/.zshrc","/.zsh_history","/.nsconfig","data/elasticsearch","data/kafka","etc/ansible","etc/bind","etc/centos-release","etc/centos-release-upstream","etc/clam.d","etc/elasticsearch","etc/freshclam.conf","etc/gshadow","etc/gshadow-","etc/httpd","etc/kafka","etc/kibana","etc/logstash","etc/lvm","etc/mongod.conf","etc/my.cnf","etc/nuxeo.conf","etc/pki","etc/postfix","etc/scw-release","etc/subgid","etc/subgid-","etc/sudoers.d","etc/sysconfig","etc/system-release-cpe","opt/nuxeo","opt/tomcat","tmp/kafka-logs","usr/lib/rpm/rpm.log","var/data/elasticsearch","var/lib/elasticsearch","etc/.java","etc/acpi","etc/alsa","etc/alternatives","etc/apache2","etc/apm","etc/apparmor","etc/apparmor.d","etc/apport","etc/apt","etc/asciidoc","etc/avahi","etc/bash_completion.d","etc/binfmt.d","etc/bluetooth","etc/bonobo-activation","etc/brltty","etc/ca-certificates","etc/calendar","etc/chatscripts","etc/chromium-browser","etc/clamav","etc/cni","etc/console-setup","etc/coraza-waf","etc/cracklib","etc/cron.d","etc/cron.daily","etc/cron.hourly","etc/cron.monthly","etc/cron.weekly","etc/cups","etc/cups.save","etc/cupshelpers","etc/dbus-1","etc/dconf","etc/default","etc/depmod.d","etc/dhcp","etc/dictionaries-common","etc/dkms","etc/dnsmasq.d","etc/dockeretc/dpkg","etc/emacs","etc/environment.d","etc/fail2ban","etc/firebird","etc/firefox","etc/fonts","etc/fwupd","etc/gconf","etc/gdb","etc/gdm3","etc/geoclue","etc/ghostscript","etc/gimp","etc/glvnd","etc/gnome","etc/gnome-vfs-2.0","etc/gnucash","etc/gnustep","etc/groff","etc/grub.d","etc/gss","etc/gtk-2.0","etc/gtk-3.0","etc/hp","etc/ifplugd","etc/imagemagick-6","etc/init","etc/init.d","etc/initramfs-tools","etc/insserv.conf.d","etc/iproute2","etc/iptables","etc/java","etc/java-11-openjdk","etc/java-17-oracle","etc/java-8-openjdk","etc/kernel","etc/ld.so.conf.d","etc/ldap","etc/libblockdev","etc/libibverbs.d","etc/libnl-3","etc/libpaper.d","etc/libreoffice","etc/lighttpd","etc/logcheck","etc/logrotate.d","etc/lynx","etc/mail","etc/mc","etc/menu","etc/menu-methods","etc/modprobe.d","etc/modsecurity","etc/modules-load.d","etc/monit","etc/mono","etc/mplayer","etc/mpv","etc/muttrc.d","etc/mysql","etc/netplan","etc/network","etc/networkd-dispatcher","etc/networkmanager","etc/newt","etc/nghttpx","etc/nikto","etc/odbcdatasources","etc/openal","etc/openmpi","etc/opt","etc/osync","etc/packagekit","etc/pam.d","etc/pcmcia","etc/perl","etc/php","etc/pki","etc/pm","etc/polkit-1","etc/postfix","etc/ppp","etc/profile.d","etc/proftpd","etc/pulse","etc/python","etc/rc0.d","etc/rc1.d","etc/rc2.d","etc/rc3.d","etc/rc4.d","etc/rc5.d","etc/rc6.d","etc/rcs.d","etc/resolvconf","etc/rsyslog.d","etc/samba","etc/sane.d","etc/security","etc/selinux","etc/sensors.d","etc/sgml","etc/signon-ui","etc/skel","etc/snmp","etc/sound","etc/spamassassin","etc/speech-dispatcher","etc/ssh","etc/ssl","etc/sudoers.d","etc/sysctl.d","etc/sysstat","etc/systemd","etc/terminfo","etc/texmf","etc/thermald","etc/thnuclnt","etc/thunderbird","etc/timidity","etc/tmpfiles.d","etc/ubuntu-advantage","etc/udev","etc/udisks2","etc/ufw","etc/update-manager","etc/update-motd.d","etc/update-notifier","etc/upower","etc/urlview","etc/usb_modeswitch.d","etc/vim","etc/vmware","etc/vmware-installer","etc/vmware-vix","etc/vulkan","etc/w3m","etc/wireshark","etc/wpa_supplicant","etc/x11","etc/xdg","etc/xml","etc/redis.conf","etc/redis-sentinel.conf","etc/php.ini","bin/php.ini","etc/httpd/php.ini","usr/lib/php.ini","usr/lib/php/php.ini","usr/local/etc/php.ini","usr/local/lib/php.ini","usr/local/php/lib/php.ini","usr/local/php4/lib/php.ini","usr/local/php5/lib/php.ini","usr/local/apache/conf/php.ini","etc/php4.4/fcgi/php.ini","etc/php4/apache/php.ini","etc/php4/apache2/php.ini","etc/php5/apache/php.ini","etc/php5/apache2/php.ini","etc/php/php.ini","etc/php/php4/php.ini","etc/php/apache/php.ini","etc/php/apache2/php.ini","web/conf/php.ini","usr/local/zend/etc/php.ini","opt/xampp/etc/php.ini","var/local/www/conf/php.ini","etc/php/cgi/php.ini","etc/php4/cgi/php.ini","etc/php5/cgi/php.ini","home2/bin/stable/apache/php.ini","home/bin/stable/apache/php.ini","etc/httpd/conf.d/php.conf","php5/php.ini","php4/php.ini","php/php.ini","windows/php.ini","winnt/php.ini","apache/php/php.ini","xampp/apache/bin/php.ini","netserver/bin/stable/apache/php.ini","volumes/macintosh_hd1/usr/local/php/lib/php.ini","etc/mono/1.0/machine.config","etc/mono/2.0/machine.config","etc/mono/2.0/web.config","etc/mono/config","usr/local/cpanel/logs/stats_log","usr/local/cpanel/logs/access_log","usr/local/cpanel/logs/error_log","usr/local/cpanel/logs/license_log","usr/local/cpanel/logs/login_log","var/cpanel/cpanel.config","usr/local/psa/admin/logs/httpsd_access_log","usr/local/psa/admin/logs/panel.log","usr/local/psa/admin/conf/php.ini","etc/sw-cp-server/applications.d/plesk.conf","usr/local/psa/admin/conf/site_isolation_settings.ini","usr/local/sb/config","etc/sw-cp-server/applications.d/00-sso-cpserver.conf","etc/sso/sso_config.ini","etc/mysql/conf.d/old_passwords.cnf","var/mysql.log","var/mysql-bin.index","var/data/mysql-bin.index","program files/mysql/mysql server 5.0/data/{host}.err","program files/mysql/mysql server 5.0/data/mysql.log","program files/mysql/mysql server 5.0/data/mysql.err","program files/mysql/mysql server 5.0/data/mysql-bin.log","program files/mysql/mysql server 5.0/data/mysql-bin.index","program files/mysql/data/{host}.err","program files/mysql/data/mysql.log","program files/mysql/data/mysql.err","program files/mysql/data/mysql-bin.log","program files/mysql/data/mysql-bin.index","mysql/data/{host}.err","mysql/data/mysql.log","mysql/data/mysql.err","mysql/data/mysql-bin.log","mysql/data/mysql-bin.index","usr/local/mysql/data/mysql.log","usr/local/mysql/data/mysql.err","usr/local/mysql/data/mysql-bin.log","usr/local/mysql/data/mysql-slow.log","usr/local/mysql/data/mysqlderror.log","usr/local/mysql/data/{host}.err","usr/local/mysql/data/mysql-bin.index","var/lib/mysql/my.cnf","etc/mysql/my.cnf","etc/my.cnf","program files/mysql/mysql server 5.0/my.ini","program files/mysql/mysql server 5.0/my.cnf","program files/mysql/my.ini","program files/mysql/my.cnf","mysql/my.ini","mysql/my.cnf","mysql/bin/my.ini","var/postgresql/log/postgresql.log","usr/internet/pgsql/data/postmaster.log","usr/local/pgsql/data/postgresql.log","usr/local/pgsql/data/pg_log","postgresql/log/pgadmin.log","var/lib/pgsql/data/postgresql.conf","var/postgresql/db/postgresql.conf","var/nm2/postgresql.conf","usr/local/pgsql/data/postgresql.conf","usr/local/pgsql/data/pg_hba.conf","usr/internet/pgsql/data/pg_hba.conf","usr/local/pgsql/data/passwd","usr/local/pgsql/bin/pg_passwd","etc/postgresql/postgresql.conf","etc/postgresql/pg_hba.conf","home/postgres/data/postgresql.conf","home/postgres/data/pg_version","home/postgres/data/pg_ident.conf","home/postgres/data/pg_hba.conf","program files/postgresql/8.3/data/pg_hba.conf","program files/postgresql/8.3/data/pg_ident.conf","program files/postgresql/8.3/data/postgresql.conf","program files/postgresql/8.4/data/pg_hba.conf","program files/postgresql/8.4/data/pg_ident.conf","program files/postgresql/8.4/data/postgresql.conf","program files/postgresql/9.0/data/pg_hba.conf","program files/postgresql/9.0/data/pg_ident.conf","program files/postgresql/9.0/data/postgresql.conf","program files/postgresql/9.1/data/pg_hba.conf","program files/postgresql/9.1/data/pg_ident.conf","program files/postgresql/9.1/data/postgresql.conf","wamp/logs/access.log","wamp/logs/apache_error.log","wamp/logs/genquery.log","wamp/logs/mysql.log","wamp/logs/slowquery.log","wamp/bin/apache/apache2.2.22/logs/access.log","wamp/bin/apache/apache2.2.22/logs/error.log","wamp/bin/apache/apache2.2.21/logs/access.log","wamp/bin/apache/apache2.2.21/logs/error.log","wamp/bin/mysql/mysql5.5.24/data/mysql-bin.index","wamp/bin/mysql/mysql5.5.16/data/mysql-bin.index","wamp/bin/apache/apache2.2.21/conf/httpd.conf","wamp/bin/apache/apache2.2.22/conf/httpd.conf","wamp/bin/apache/apache2.2.21/wampserver.conf","wamp/bin/apache/apache2.2.22/wampserver.conf","wamp/bin/apache/apache2.2.22/conf/wampserver.conf","wamp/bin/mysql/mysql5.5.24/my.ini","wamp/bin/mysql/mysql5.5.24/wampserver.conf","wamp/bin/mysql/mysql5.5.16/my.ini","wamp/bin/mysql/mysql5.5.16/wampserver.conf","wamp/bin/php/php5.3.8/php.ini","wamp/bin/php/php5.4.3/php.ini","xampp/apache/logs/access.log","xampp/apache/logs/error.log","xampp/mysql/data/mysql-bin.index","xampp/mysql/data/mysql.err","xampp/mysql/data/{host}.err","xampp/sendmail/sendmail.log","xampp/apache/conf/httpd.conf","xampp/filezillaftp/filezilla server.xml","xampp/mercurymail/mercury.ini","xampp/php/php.ini","xampp/phpmyadmin/config.inc.php","xampp/sendmail/sendmail.ini","xampp/webalizer/webalizer.conf","opt/lampp/etc/httpd.conf","xampp/htdocs/aca.txt","xampp/htdocs/admin.php","xampp/htdocs/leer.txt","usr/local/apache/logs/audit_log","usr/local/apache2/logs/audit_log","logs/security_debug_log","logs/security_log","usr/local/apache/conf/modsec.conf","usr/local/apache2/conf/modsec.conf","winnt/system32/logfiles/msftpsvc","winnt/system32/logfiles/msftpsvc1","winnt/system32/logfiles/msftpsvc2","windows/system32/logfiles/msftpsvc","windows/system32/logfiles/msftpsvc1","windows/system32/logfiles/msftpsvc2","etc/logrotate.d/proftpd","www/logs/proftpd.system.log","etc/pam.d/proftpd","etc/proftp.conf","etc/protpd/proftpd.conf","etc/vhcs2/proftpd/proftpd.conf","etc/proftpd/modules.conf","etc/vsftpd.chroot_list","etc/logrotate.d/vsftpd.log","etc/vsftpd/vsftpd.conf","etc/vsftpd.conf","etc/chrootusers","var/adm/log/xferlog","etc/wu-ftpd/ftpaccess","etc/wu-ftpd/ftphosts","etc/wu-ftpd/ftpusers","logs/pure-ftpd.log","usr/sbin/pure-config.pl","usr/etc/pure-ftpd.conf","etc/pure-ftpd/pure-ftpd.conf","usr/local/etc/pure-ftpd.conf","usr/local/etc/pureftpd.pdb","usr/local/pureftpd/etc/pureftpd.pdb","usr/local/pureftpd/sbin/pure-config.pl","usr/local/pureftpd/etc/pure-ftpd.conf","etc/pure-ftpd.conf","etc/pure-ftpd/pure-ftpd.pdb","etc/pureftpd.pdb","etc/pureftpd.passwd","etc/pure-ftpd/pureftpd.pdb","usr/ports/ftp/pure-ftpd/pure-ftpd.conf","usr/ports/ftp/pure-ftpd/pureftpd.pdb","usr/ports/ftp/pure-ftpd/pureftpd.passwd","usr/ports/net/pure-ftpd/pure-ftpd.conf","usr/ports/net/pure-ftpd/pureftpd.pdb","usr/ports/net/pure-ftpd/pureftpd.passwd","usr/pkgsrc/net/pureftpd/pure-ftpd.conf","usr/pkgsrc/net/pureftpd/pureftpd.pdb","usr/pkgsrc/net/pureftpd/pureftpd.passwd","usr/ports/contrib/pure-ftpd/pure-ftpd.conf","usr/ports/contrib/pure-ftpd/pureftpd.pdb","usr/ports/contrib/pure-ftpd/pureftpd.passwd","usr/sbin/mudlogd","etc/muddleftpd/mudlog","etc/muddleftpd.com","etc/muddleftpd/mudlogd.conf","etc/muddleftpd/muddleftpd.conf","usr/sbin/mudpasswd","etc/muddleftpd/muddleftpd.passwd","etc/muddleftpd/passwd","etc/logrotate.d/ftp","etc/ftpchroot","etc/ftphosts","etc/ftpusers","winnt/system32/logfiles/smtpsvc","winnt/system32/logfiles/smtpsvc1","winnt/system32/logfiles/smtpsvc2","winnt/system32/logfiles/smtpsvc3","winnt/system32/logfiles/smtpsvc4","winnt/system32/logfiles/smtpsvc5","windows/system32/logfiles/smtpsvc","windows/system32/logfiles/smtpsvc1","windows/system32/logfiles/smtpsvc2","windows/system32/logfiles/smtpsvc3","windows/system32/logfiles/smtpsvc4","windows/system32/logfiles/smtpsvc5","etc/osxhttpd/osxhttpd.conf","system/library/webobjects/adaptors/apache2.2/apache.conf","etc/apache2/sites-available/default","etc/apache2/sites-available/default-ssl","etc/apache2/sites-enabled/000-default","etc/apache2/sites-enabled/default","etc/apache2/apache2.conf","etc/apache2/ports.conf","usr/local/etc/apache/httpd.conf","usr/pkg/etc/httpd/httpd.conf","usr/pkg/etc/httpd/httpd-default.conf","usr/pkg/etc/httpd/httpd-vhosts.conf","etc/httpd/mod_php.conf","etc/httpd/extra/httpd-ssl.conf","etc/rc.d/rc.httpd","usr/local/apache/conf/httpd.conf.default","usr/local/apache/conf/access.conf","usr/local/apache22/conf/httpd.conf","usr/local/apache22/httpd.conf","usr/local/etc/apache22/conf/httpd.conf","usr/local/apps/apache22/conf/httpd.conf","etc/apache22/conf/httpd.conf","etc/apache22/httpd.conf","opt/apache22/conf/httpd.conf","usr/local/etc/apache2/vhosts.conf","usr/local/apache/conf/vhosts.conf","usr/local/apache2/conf/vhosts.conf","usr/local/apache/conf/vhosts-custom.conf","usr/local/apache2/conf/vhosts-custom.conf","etc/apache/default-server.conf","etc/apache2/default-server.conf","usr/local/apache2/conf/extra/httpd-ssl.conf","usr/local/apache2/conf/ssl.conf","etc/httpd/conf.d","usr/local/etc/apache22/httpd.conf","usr/local/etc/apache2/httpd.conf","etc/apache2/httpd2.conf","etc/apache2/ssl-global.conf","etc/apache2/vhosts.d/00_default_vhost.conf","apache/conf/httpd.conf","etc/apache/httpd.conf","etc/httpd/conf","http/httpd.conf","usr/local/apache1.3/conf/httpd.conf","usr/local/etc/httpd/conf","var/apache/conf/httpd.conf","var/www/conf","www/apache/conf/httpd.conf","www/conf/httpd.conf","etc/init.d","etc/apache/access.conf","etc/rc.conf","www/logs/freebsddiary-error.log","www/logs/freebsddiary-access_log","library/webserver/documents/index.html","library/webserver/documents/index.htm","library/webserver/documents/default.html","library/webserver/documents/default.htm","library/webserver/documents/index.php","library/webserver/documents/default.php","usr/local/etc/webmin/miniserv.conf","etc/webmin/miniserv.conf","usr/local/etc/webmin/miniserv.users","etc/webmin/miniserv.users","winnt/system32/logfiles/w3svc/inetsvn1.log","winnt/system32/logfiles/w3svc1/inetsvn1.log","winnt/system32/logfiles/w3svc2/inetsvn1.log","winnt/system32/logfiles/w3svc3/inetsvn1.log","windows/system32/logfiles/w3svc/inetsvn1.log","windows/system32/logfiles/w3svc1/inetsvn1.log","windows/system32/logfiles/w3svc2/inetsvn1.log","windows/system32/logfiles/w3svc3/inetsvn1.log","apache/logs/error.log","apache/logs/access.log","apache2/logs/error.log","apache2/logs/access.log","logs/error.log","logs/access.log","etc/httpd/logs/access_log","etc/httpd/logs/access.log","etc/httpd/logs/error_log","etc/httpd/logs/error.log","usr/local/apache/logs/access_log","usr/local/apache/logs/access.log","usr/local/apache/logs/error_log","usr/local/apache/logs/error.log","usr/local/apache2/logs/access_log","usr/local/apache2/logs/access.log","usr/local/apache2/logs/error_log","usr/local/apache2/logs/error.log","var/www/logs/access_log","var/www/logs/access.log","var/www/logs/error_log","var/www/logs/error.log","opt/lampp/logs/access_log","opt/lampp/logs/error_log","opt/xampp/logs/access_log","opt/xampp/logs/error_log","opt/lampp/logs/access.log","opt/lampp/logs/error.log","opt/xampp/logs/access.log","opt/xampp/logs/error.log","program files/apache group/apache/logs/access.log","program files/apache group/apache/logs/error.log","program files/apache software foundation/apache2.2/logs/error.log","program files/apache software foundation/apache2.2/logs/access.log","opt/apache/apache.conf","opt/apache/conf/apache.conf","opt/apache2/apache.conf","opt/apache2/conf/apache.conf","opt/httpd/apache.conf","opt/httpd/conf/apache.conf","etc/httpd/apache.conf","etc/apache2/apache.conf","etc/httpd/conf/apache.conf","usr/local/apache/apache.conf","usr/local/apache/conf/apache.conf","usr/local/apache2/apache.conf","usr/local/apache2/conf/apache.conf","usr/local/php/apache.conf.php","usr/local/php4/apache.conf.php","usr/local/php5/apache.conf.php","usr/local/php/apache.conf","usr/local/php4/apache.conf","usr/local/php5/apache.conf","private/etc/httpd/apache.conf","opt/apache/apache2.conf","opt/apache/conf/apache2.conf","opt/apache2/apache2.conf","opt/apache2/conf/apache2.conf","opt/httpd/apache2.conf","opt/httpd/conf/apache2.conf","etc/httpd/apache2.conf","etc/httpd/conf/apache2.conf","usr/local/apache/apache2.conf","usr/local/apache/conf/apache2.conf","usr/local/apache2/apache2.conf","usr/local/apache2/conf/apache2.conf","usr/local/php/apache2.conf.php","usr/local/php4/apache2.conf.php","usr/local/php5/apache2.conf.php","usr/local/php/apache2.conf","usr/local/php4/apache2.conf","usr/local/php5/apache2.conf","private/etc/httpd/apache2.conf","usr/local/apache/conf/httpd.conf","usr/local/apache2/conf/httpd.conf","etc/httpd/conf/httpd.conf","etc/apache/apache.conf","etc/apache/conf/httpd.conf","etc/apache2/httpd.conf","usr/apache2/conf/httpd.conf","usr/apache/conf/httpd.conf","usr/local/etc/apache/conf/httpd.conf","usr/local/apache/httpd.conf","usr/local/apache2/httpd.conf","usr/local/httpd/conf/httpd.conf","usr/local/etc/apache2/conf/httpd.conf","usr/local/etc/httpd/conf/httpd.conf","usr/local/apps/apache2/conf/httpd.conf","usr/local/apps/apache/conf/httpd.conf","usr/local/php/httpd.conf.php","usr/local/php4/httpd.conf.php","usr/local/php5/httpd.conf.php","usr/local/php/httpd.conf","usr/local/php4/httpd.conf","usr/local/php5/httpd.conf","etc/apache2/conf/httpd.conf","etc/http/conf/httpd.conf","etc/httpd/httpd.conf","etc/http/httpd.conf","etc/httpd.conf","opt/apache/conf/httpd.conf","opt/apache2/conf/httpd.conf","var/www/conf/httpd.conf","private/etc/httpd/httpd.conf","private/etc/httpd/httpd.conf.default","etc/apache2/vhosts.d/default_vhost.include","etc/apache2/conf.d/charset","etc/apache2/conf.d/security","etc/apache2/envvars","etc/apache2/mods-available/autoindex.conf","etc/apache2/mods-available/deflate.conf","etc/apache2/mods-available/dir.conf","etc/apache2/mods-available/mem_cache.conf","etc/apache2/mods-available/mime.conf","etc/apache2/mods-available/proxy.conf","etc/apache2/mods-available/setenvif.conf","etc/apache2/mods-available/ssl.conf","etc/apache2/mods-enabled/alias.conf","etc/apache2/mods-enabled/deflate.conf","etc/apache2/mods-enabled/dir.conf","etc/apache2/mods-enabled/mime.conf","etc/apache2/mods-enabled/negotiation.conf","etc/apache2/mods-enabled/php5.conf","etc/apache2/mods-enabled/status.conf","program files/apache group/apache/conf/httpd.conf","program files/apache group/apache2/conf/httpd.conf","program files/xampp/apache/conf/apache.conf","program files/xampp/apache/conf/apache2.conf","program files/xampp/apache/conf/httpd.conf","program files/apache group/apache/apache.conf","program files/apache group/apache/conf/apache.conf","program files/apache group/apache2/conf/apache.conf","program files/apache group/apache/apache2.conf","program files/apache group/apache/conf/apache2.conf","program files/apache group/apache2/conf/apache2.conf","program files/apache software foundation/apache2.2/conf/httpd.conf","volumes/macintosh_hd1/opt/httpd/conf/httpd.conf","volumes/macintosh_hd1/opt/apache/conf/httpd.conf","volumes/macintosh_hd1/opt/apache2/conf/httpd.conf","volumes/macintosh_hd1/usr/local/php/httpd.conf.php","volumes/macintosh_hd1/usr/local/php4/httpd.conf.php","volumes/macintosh_hd1/usr/local/php5/httpd.conf.php","volumes/webbackup/opt/apache2/conf/httpd.conf","volumes/webbackup/private/etc/httpd/httpd.conf","volumes/webbackup/private/etc/httpd/httpd.conf.default","usr/local/etc/apache/vhosts.conf","usr/local/jakarta/tomcat/conf/jakarta.conf","usr/local/jakarta/tomcat/conf/server.xml","usr/local/jakarta/tomcat/conf/context.xml","usr/local/jakarta/tomcat/conf/workers.properties","usr/local/jakarta/tomcat/conf/logging.properties","usr/local/jakarta/dist/tomcat/conf/jakarta.conf","usr/local/jakarta/dist/tomcat/conf/server.xml","usr/local/jakarta/dist/tomcat/conf/context.xml","usr/local/jakarta/dist/tomcat/conf/workers.properties","usr/local/jakarta/dist/tomcat/conf/logging.properties","usr/share/tomcat6/conf/server.xml","usr/share/tomcat6/conf/context.xml","usr/share/tomcat6/conf/workers.properties","usr/share/tomcat6/conf/logging.properties","var/cpanel/tomcat.options","usr/local/jakarta/tomcat/logs/catalina.out","usr/local/jakarta/tomcat/logs/catalina.err","opt/tomcat/logs/catalina.out","opt/tomcat/logs/catalina.err","usr/share/logs/catalina.out","usr/share/logs/catalina.err","usr/share/tomcat/logs/catalina.out","usr/share/tomcat/logs/catalina.err","usr/share/tomcat6/logs/catalina.out","usr/share/tomcat6/logs/catalina.err","usr/local/apache/logs/mod_jk.log","usr/local/jakarta/tomcat/logs/mod_jk.log","usr/local/jakarta/dist/tomcat/logs/mod_jk.log","opt/[jboss]/server/default/conf/jboss-minimal.xml","opt/[jboss]/server/default/conf/jboss-service.xml","opt/[jboss]/server/default/conf/jndi.properties","opt/[jboss]/server/default/conf/log4j.xml","opt/[jboss]/server/default/conf/login-config.xml","opt/[jboss]/server/default/conf/standardjaws.xml","opt/[jboss]/server/default/conf/standardjboss.xml","opt/[jboss]/server/default/conf/server.log.properties","opt/[jboss]/server/default/deploy/jboss-logging.xml","usr/local/[jboss]/server/default/conf/jboss-minimal.xml","usr/local/[jboss]/server/default/conf/jboss-service.xml","usr/local/[jboss]/server/default/conf/jndi.properties","usr/local/[jboss]/server/default/conf/log4j.xml","usr/local/[jboss]/server/default/conf/login-config.xml","usr/local/[jboss]/server/default/conf/standardjaws.xml","usr/local/[jboss]/server/default/conf/standardjboss.xml","usr/local/[jboss]/server/default/conf/server.log.properties","usr/local/[jboss]/server/default/deploy/jboss-logging.xml","private/tmp/[jboss]/server/default/conf/jboss-minimal.xml","private/tmp/[jboss]/server/default/conf/jboss-service.xml","private/tmp/[jboss]/server/default/conf/jndi.properties","private/tmp/[jboss]/server/default/conf/log4j.xml","private/tmp/[jboss]/server/default/conf/login-config.xml","private/tmp/[jboss]/server/default/conf/standardjaws.xml","private/tmp/[jboss]/server/default/conf/standardjboss.xml","private/tmp/[jboss]/server/default/conf/server.log.properties","private/tmp/[jboss]/server/default/deploy/jboss-logging.xml","tmp/[jboss]/server/default/conf/jboss-minimal.xml","tmp/[jboss]/server/default/conf/jboss-service.xml","tmp/[jboss]/server/default/conf/jndi.properties","tmp/[jboss]/server/default/conf/log4j.xml","tmp/[jboss]/server/default/conf/login-config.xml","tmp/[jboss]/server/default/conf/standardjaws.xml","tmp/[jboss]/server/default/conf/standardjboss.xml","tmp/[jboss]/server/default/conf/server.log.properties","tmp/[jboss]/server/default/deploy/jboss-logging.xml","program files/[jboss]/server/default/conf/jboss-minimal.xml","program files/[jboss]/server/default/conf/jboss-service.xml","program files/[jboss]/server/default/conf/jndi.properties","program files/[jboss]/server/default/conf/log4j.xml","program files/[jboss]/server/default/conf/login-config.xml","program files/[jboss]/server/default/conf/standardjaws.xml","program files/[jboss]/server/default/conf/standardjboss.xml","program files/[jboss]/server/default/conf/server.log.properties","program files/[jboss]/server/default/deploy/jboss-logging.xml","[jboss]/server/default/conf/jboss-minimal.xml","[jboss]/server/default/conf/jboss-service.xml","[jboss]/server/default/conf/jndi.properties","[jboss]/server/default/conf/log4j.xml","[jboss]/server/default/conf/login-config.xml","[jboss]/server/default/conf/standardjaws.xml","[jboss]/server/default/conf/standardjboss.xml","[jboss]/server/default/conf/server.log.properties","[jboss]/server/default/deploy/jboss-logging.xml","opt/[jboss]/server/default/log/server.log","opt/[jboss]/server/default/log/boot.log","usr/local/[jboss]/server/default/log/server.log","usr/local/[jboss]/server/default/log/boot.log","private/tmp/[jboss]/server/default/log/server.log","private/tmp/[jboss]/server/default/log/boot.log","tmp/[jboss]/server/default/log/server.log","tmp/[jboss]/server/default/log/boot.log","program files/[jboss]/server/default/log/server.log","program files/[jboss]/server/default/log/boot.log","[jboss]/server/default/log/server.log","[jboss]/server/default/log/boot.log","var/lighttpd.log","var/logs/access.log","usr/local/apache2/logs/lighttpd.error.log","usr/local/apache2/logs/lighttpd.log","usr/local/apache/logs/lighttpd.error.log","usr/local/apache/logs/lighttpd.log","usr/local/lighttpd/log/lighttpd.error.log","usr/local/lighttpd/log/access.log","usr/home/user/var/log/lighttpd.error.log","usr/home/user/var/log/apache.log","home/user/lighttpd/lighttpd.conf","usr/home/user/lighttpd/lighttpd.conf","etc/lighttpd/lighthttpd.conf","usr/local/etc/lighttpd.conf","usr/local/lighttpd/conf/lighttpd.conf","usr/local/etc/lighttpd.conf.new","var/www/.lighttpdpassword","logs/access_log","logs/error_log","etc/nginx/nginx.conf","usr/local/etc/nginx/nginx.conf","usr/local/nginx/conf/nginx.conf","usr/local/zeus/web/global.cfg","usr/local/zeus/web/log/errors","opt/lsws/conf/httpd_conf.xml","usr/local/lsws/conf/httpd_conf.xml","opt/lsws/logs/error.log","opt/lsws/logs/access.log","usr/local/lsws/logs/error.log","usr/local/logs/access.log","usr/local/samba/lib/log.user","usr/local/logs/samba.log","etc/samba/netlogon","etc/smbpasswd","etc/smb.conf","etc/samba/dhcp.conf","etc/samba/smb.conf","etc/samba/samba.conf","etc/samba/smb.conf.user","etc/samba/smbpasswd","etc/samba/smbusers","etc/samba/private/smbpasswd","usr/local/etc/smb.conf","usr/local/samba/lib/smb.conf.user","etc/dhcp3/dhclient.conf","etc/dhcp3/dhcpd.conf","etc/dhcp/dhclient.conf","program files/vidalia bundle/polipo/polipo.conf","etc/tor/tor-tsocks.conf","etc/stunnel/stunnel.conf","etc/tsocks.conf","etc/tinyproxy/tinyproxy.conf","etc/miredo-server.conf","etc/miredo.conf","etc/miredo/miredo-server.conf","etc/miredo/miredo.conf","etc/wicd/dhclient.conf.template.default","etc/wicd/manager-settings.conf","etc/wicd/wired-settings.conf","etc/wicd/wireless-settings.conf","etc/ipfw.rules","etc/ipfw.conf","etc/firewall.rules","winnt/system32/logfiles/firewall/pfirewall.log","winnt/system32/logfiles/firewall/pfirewall.log.old","windows/system32/logfiles/firewall/pfirewall.log","windows/system32/logfiles/firewall/pfirewall.log.old","etc/clamav/clamd.conf","etc/clamav/freshclam.conf","etc/x11/xorg.conf","etc/x11/xorg.conf-vesa","etc/x11/xorg.conf-vmware","etc/x11/xorg.conf.beforevmwaretoolsinstall","etc/x11/xorg.conf.orig","etc/bluetooth/input.conf","etc/bluetooth/main.conf","etc/bluetooth/network.conf","etc/bluetooth/rfcomm.conf","etc/bash_completion.d/debconf","root/.bash_logout","root/.bash_history","root/.bash_config","root/.bashrc","etc/bash.bashrc","var/adm/syslog","var/adm/sulog","var/adm/utmp","var/adm/utmpx","var/adm/wtmp","var/adm/wtmpx","var/adm/lastlog/username","usr/spool/lp/log","var/adm/lp/lpd-errs","usr/lib/cron/log","var/adm/loginlog","var/adm/pacct","var/adm/dtmp","var/adm/acct/sum/loginlog","var/adm/x0msgs","var/adm/crash/vmcore","var/adm/crash/unix","etc/newsyslog.conf","var/adm/qacct","var/adm/ras/errlog","var/adm/ras/bootlog","var/adm/cron/log","etc/utmp","etc/security/lastlog","etc/security/failedlogin","usr/spool/mqueue/syslog","var/adm/messages","var/adm/aculogs","var/adm/aculog","var/adm/vold.log","var/adm/log/asppp.log","var/lp/logs/lpsched","var/lp/logs/lpnet","var/lp/logs/requests","var/cron/log","var/saf/_log","var/saf/port/log","tmp/access.log","etc/sensors.conf","etc/sensors3.conf","etc/host.conf","etc/pam.conf","etc/resolv.conf","etc/apt/apt.conf","etc/inetd.conf","etc/syslog.conf","etc/sysctl.conf","etc/sysctl.d/10-console-messages.conf","etc/sysctl.d/10-network-security.conf","etc/sysctl.d/10-process-security.conf","etc/sysctl.d/wine.sysctl.conf","etc/security/access.conf","etc/security/group.conf","etc/security/limits.conf","etc/security/namespace.conf","etc/security/pam_env.conf","etc/security/sepermit.conf","etc/security/time.conf","etc/ssh/sshd_config","etc/adduser.conf","etc/deluser.conf","etc/avahi/avahi-daemon.conf","etc/ca-certificates.conf","etc/ca-certificates.conf.dpkg-old","etc/casper.conf","etc/chkrootkit.conf","etc/debconf.conf","etc/dns2tcpd.conf","etc/e2fsck.conf","etc/esound/esd.conf","etc/etter.conf","etc/fuse.conf","etc/foremost.conf","etc/hdparm.conf","etc/kernel-img.conf","etc/kernel-pkg.conf","etc/ld.so.conf","etc/ltrace.conf","etc/mail/sendmail.conf","etc/manpath.config","etc/kbd/config","etc/ldap/ldap.conf","etc/logrotate.conf","etc/mtools.conf","etc/smi.conf","etc/updatedb.conf","etc/pulse/client.conf","usr/share/adduser/adduser.conf","etc/hostname","etc/networks","etc/timezone","etc/modules","etc/passwd","etc/shadow","etc/fstab","etc/motd","etc/hosts","etc/group","etc/alias","etc/crontab","etc/crypttab","etc/exports","etc/mtab","etc/hosts.allow","etc/hosts.deny","etc/os-release","etc/password.master","etc/profile","etc/default/grub","etc/resolvconf/update-libc.d/sendmail","etc/inittab","etc/issue","etc/issue.net","etc/login.defs","etc/sudoers","etc/sysconfig/network-scripts/ifcfg-eth0","etc/redhat-release","etc/scw-release","etc/system-release-cpe","etc/debian_version","etc/fedora-release","etc/mandrake-release","etc/slackware-release","etc/suse-release","etc/security/group","etc/security/passwd","etc/security/user","etc/security/environ","etc/security/limits","etc/security/opasswd","boot/grub/grub.cfg","boot/grub/menu.lst","root/.ksh_history","root/.xauthority","usr/lib/security/mkuser.default","var/lib/squirrelmail/prefs/squirrelmail.log","etc/squirrelmail/apache.conf","etc/squirrelmail/config_local.php","etc/squirrelmail/default_pref","etc/squirrelmail/index.php","etc/squirrelmail/config_default.php","etc/squirrelmail/config.php","etc/squirrelmail/filters_setup.php","etc/squirrelmail/sqspell_config.php","etc/squirrelmail/config/config.php","etc/httpd/conf.d/squirrelmail.conf","usr/share/squirrelmail/config/config.php","private/etc/squirrelmail/config/config.php","srv/www/htdos/squirrelmail/config/config.php","var/www/squirrelmail/config/config.php","var/www/html/squirrelmail/config/config.php","var/www/html/squirrelmail-1.2.9/config/config.php","usr/share/squirrelmail/plugins/squirrel_logger/setup.php","usr/local/squirrelmail/www/readme","windows/system32/drivers/etc/hosts","windows/system32/drivers/etc/lmhosts.sam","windows/system32/drivers/etc/networks","windows/system32/drivers/etc/protocol","windows/system32/drivers/etc/services","/boot.ini","windows/debug/netsetup.log","windows/comsetup.log","windows/repair/setup.log","windows/setupact.log","windows/setupapi.log","windows/setuperr.log","windows/updspapi.log","windows/wmsetup.log","windows/windowsupdate.log","windows/odbc.ini","usr/local/psa/admin/htdocs/domains/databases/phpmyadmin/libraries/config.default.php","etc/apache2/conf.d/phpmyadmin.conf","etc/phpmyadmin/config.inc.php","etc/openldap/ldap.conf","etc/cups/acroread.conf","etc/cups/cupsd.conf","etc/cups/cupsd.conf.default","etc/cups/pdftops.conf","etc/cups/printers.conf","windows/system32/macromed/flash/flashinstall.log","windows/system32/macromed/flash/install.log","etc/cvs-cron.conf","etc/cvs-pserver.conf","etc/subversion/config","etc/modprobe.d/vmware-tools.conf","etc/updatedb.conf.beforevmwaretoolsinstall","etc/vmware-tools/config","etc/vmware-tools/tpvmlp.conf","etc/vmware-tools/vmware-tools-libraries.conf","var/log","var/log/sw-cp-server/error_log","var/log/sso/sso.log","var/log/dpkg.log","var/log/btmp","var/log/utmp","var/log/wtmp","var/log/mysql/mysql-bin.log","var/log/mysql/mysql-bin.index","var/log/mysql/data/mysql-bin.index","var/log/mysql.log","var/log/mysql.err","var/log/mysqlderror.log","var/log/mysql/mysql.log","var/log/mysql/mysql-slow.log","var/log/mysql-bin.index","var/log/data/mysql-bin.index","var/log/postgresql/postgresql.log","var/log/postgres/pg_backup.log","var/log/postgres/postgres.log","var/log/postgresql.log","var/log/pgsql/pgsql.log","var/log/postgresql/postgresql-8.1-main.log","var/log/postgresql/postgresql-8.3-main.log","var/log/postgresql/postgresql-8.4-main.log","var/log/postgresql/postgresql-9.0-main.log","var/log/postgresql/postgresql-9.1-main.log","var/log/pgsql8.log","var/log/postgresql/postgres.log","var/log/pgsql_log","var/log/postgresql/main.log","var/log/cron","var/log/postgres.log","var/log/proftpd","var/log/proftpd/xferlog.legacy","var/log/proftpd.access_log","var/log/proftpd.xferlog","var/log/vsftpd.log","var/log/xferlog","var/log/pure-ftpd/pure-ftpd.log","var/log/pureftpd.log","var/log/muddleftpd","var/log/muddleftpd.conf","var/log/ftp-proxy/ftp-proxy.log","var/log/ftp-proxy","var/log/ftplog","var/log/exim_mainlog","var/log/exim/mainlog","var/log/maillog","var/log/exim_paniclog","var/log/exim/paniclog","var/log/exim/rejectlog","var/log/exim_rejectlog","var/log/webmin/miniserv.log","var/log/httpd/access_log","var/log/httpd/error_log","var/log/httpd/access.log","var/log/httpd/error.log","var/log/apache/access_log","var/log/apache/access.log","var/log/apache/error_log","var/log/apache/error.log","var/log/apache2/access_log","var/log/apache2/access.log","var/log/apache2/error_log","var/log/apache2/error.log","var/log/access_log","var/log/access.log","var/log/error_log","var/log/error.log","var/log/tomcat6/catalina.out","var/log/lighttpd.error.log","var/log/lighttpd.access.log","var/logs/access.log","var/log/lighttpd/","var/log/lighttpd/error.log","var/log/lighttpd/access.www.log","var/log/lighttpd/error.www.log","var/log/lighttpd/access.log","var/log/lighttpd/{domain}/access.log","var/log/lighttpd/{domain}/error.log","var/log/nginx/access_log","var/log/nginx/error_log","var/log/nginx/access.log","var/log/nginx/error.log","var/log/nginx.access_log","var/log/nginx.error_log","var/log/samba/log.smbd","var/log/samba/log.nmbd","var/log/samba.log","var/log/samba.log1","var/log/samba.log2","var/log/log.smb","var/log/ipfw.log","var/log/ipfw","var/log/ipfw/ipfw.log","var/log/ipfw.today","var/log/poplog","var/log/authlog","var/log/news.all","var/log/news/news.all","var/log/news/news.crit","var/log/news/news.err","var/log/news/news.notice","var/log/news/suck.err","var/log/news/suck.notice","var/log/messages","var/log/messages.1","var/log/user.log","var/log/user.log.1","var/log/auth.log","var/log/pm-powersave.log","var/log/xorg.0.log","var/log/daemon.log","var/log/daemon.log.1","var/log/kern.log","var/log/kern.log.1","var/log/mail.err","var/log/mail.info","var/log/mail.warn","var/log/ufw.log","var/log/boot.log","var/log/syslog","var/log/syslog.1","var/log/squirrelmail.log","var/log/apache2/squirrelmail.log","var/log/apache2/squirrelmail.err.log","var/log/mail.log","var/log/vmware/hostd.log","var/log/vmware/hostd-1.log","/wp-config.php","/wp-config.bak","/wp-config.old","/wp-config.temp","/wp-config.tmp","/wp-config.txt","/config.yml","/config_dev.yml","/config_prod.yml","/config_test.yml","/parameters.yml","/routing.yml","/security.yml","/services.yml","sites/default/default.settings.php","sites/default/settings.php","sites/default/settings.local.php","app/etc/local.xml","/sftp-config.json","/web.config","includes/config.php","includes/configure.php","/config.inc.php","/localsettings.php","inc/config.php","typo3conf/localconf.php","config/app.php","config/custom.php","config/database.php","/configuration.php","/config.php","var/mail/www-data","etc/network/","etc/init/","inetpub/wwwroot/global.asa","system32/inetsrv/config/applicationhost.config","system32/inetsrv/config/administration.config","system32/inetsrv/config/redirection.config","system32/config/default","system32/config/sam","system32/config/system","system32/config/software","winnt/repair/sam._","/package.json","/package-lock.json","/gruntfile.js","/npm-debug.log","/ormconfig.json","/tsconfig.json","/webpack.config.js","/yarn.lock","proc/0","proc/1","proc/2","proc/3","proc/4","proc/5","proc/6","proc/7","proc/8","proc/9","proc/acpi","proc/asound","proc/bootconfig","proc/buddyinfo","proc/bus","proc/cgroups","proc/cmdline","proc/config.gz","proc/consoles","proc/cpuinfo","proc/crypto","proc/devices","proc/diskstats","proc/dma","proc/docker","proc/driver","proc/dynamic_debug","proc/execdomains","proc/fb","proc/filesystems","proc/fs","proc/interrupts","proc/iomem","proc/ioports","proc/ipmi","proc/irq","proc/kallsyms","proc/kcore","proc/keys","proc/keys","proc/key-users","proc/kmsg","proc/kpagecgroup","proc/kpagecount","proc/kpageflags","proc/latency_stats","proc/loadavg","proc/locks","proc/mdstat","proc/meminfo","proc/misc","proc/modules","proc/mounts","proc/mpt","proc/mtd","proc/mtrr","proc/net","proc/net/tcp","proc/net/udp","proc/pagetypeinfo","proc/partitions","proc/pressure","proc/sched_debug","proc/schedstat","proc/scsi","proc/self","proc/self/cmdline","proc/self/environ","proc/self/fd/0","proc/self/fd/1","proc/self/fd/10","proc/self/fd/11","proc/self/fd/12","proc/self/fd/13","proc/self/fd/14","proc/self/fd/15","proc/self/fd/2","proc/self/fd/3","proc/self/fd/4","proc/self/fd/5","proc/self/fd/6","proc/self/fd/7","proc/self/fd/8","proc/self/fd/9","proc/self/mounts","proc/self/stat","proc/self/status","proc/slabinfo","proc/softirqs","proc/stat","proc/swaps","proc/sys","proc/sysrq-trigger","proc/sysvipc","proc/thread-self","proc/timer_list","proc/timer_stats","proc/tty","proc/uptime","proc/version","proc/version_signature","proc/vmallocinfo","proc/vmstat","proc/zoneinfo","sys/block","sys/bus","sys/class","sys/dev","sys/devices","sys/firmware","sys/fs","sys/hypervisor","sys/kernel","sys/module","sys/power"]},"operator":"phrase_match"}],"transformers":["lowercase","normalizePath"]},{"id":"crs-931-110","name":"RFI: Common RFI Vulnerable Parameter Name used w/ URL Payload","tags":{"type":"rfi","crs_id":"931110","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"}],"regex":"(?:\\\\binclude\\\\s*\\\\([^)]*|mosConfig_absolute_path|_CONF\\\\[path\\\\]|_SERVER\\\\[DOCUMENT_ROOT\\\\]|GALLERY_BASEDIR|path\\\\[docroot\\\\]|appserv_root|config\\\\[root_dir\\\\])=(?:file|ftps?|https?)://","options":{"min_length":15}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-931-120","name":"RFI: URL Payload Used w/Trailing Question Mark Character (?)","tags":{"type":"rfi","crs_id":"931120","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"}],"regex":"^(?i:file|ftps?)://.*?\\\\?+$","options":{"case_sensitive":true,"min_length":4}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-932-160","name":"Remote Command Execution: Unix Shell Code Found","tags":{"type":"command_injection","crs_id":"932160","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"list":["${cdpath}","${dirstack}","${home}","${hostname}","${ifs}","${oldpwd}","${ostype}","${path}","${pwd}","$cdpath","$dirstack","$home","$hostname","$ifs","$oldpwd","$ostype","$path","$pwd","dev/fd/","dev/null","dev/stderr","dev/stdin","dev/stdout","dev/tcp/","dev/udp/","dev/zero","etc/master.passwd","etc/pwd.db","etc/shells","etc/spwd.db","proc/self/","bin/7z","bin/7za","bin/7zr","bin/ab","bin/agetty","bin/ansible-playbook","bin/apt","bin/apt-get","bin/ar","bin/aria2c","bin/arj","bin/arp","bin/as","bin/ascii-xfr","bin/ascii85","bin/ash","bin/aspell","bin/at","bin/atobm","bin/awk","bin/base32","bin/base64","bin/basenc","bin/bash","bin/bpftrace","bin/bridge","bin/bundler","bin/bunzip2","bin/busctl","bin/busybox","bin/byebug","bin/bzcat","bin/bzcmp","bin/bzdiff","bin/bzegrep","bin/bzexe","bin/bzfgrep","bin/bzgrep","bin/bzip2","bin/bzip2recover","bin/bzless","bin/bzmore","bin/bzz","bin/c89","bin/c99","bin/cancel","bin/capsh","bin/cat","bin/cc","bin/certbot","bin/check_by_ssh","bin/check_cups","bin/check_log","bin/check_memory","bin/check_raid","bin/check_ssl_cert","bin/check_statusfile","bin/chmod","bin/choom","bin/chown","bin/chroot","bin/clang","bin/clang++","bin/cmp","bin/cobc","bin/column","bin/comm","bin/composer","bin/core_perl/zipdetails","bin/cowsay","bin/cowthink","bin/cp","bin/cpan","bin/cpio","bin/cpulimit","bin/crash","bin/crontab","bin/csh","bin/csplit","bin/csvtool","bin/cupsfilter","bin/curl","bin/cut","bin/dash","bin/date","bin/dd","bin/dev/fd/","bin/dev/null","bin/dev/stderr","bin/dev/stdin","bin/dev/stdout","bin/dev/tcp/","bin/dev/udp/","bin/dev/zero","bin/dialog","bin/diff","bin/dig","bin/dmesg","bin/dmidecode","bin/dmsetup","bin/dnf","bin/docker","bin/dosbox","bin/dpkg","bin/du","bin/dvips","bin/easy_install","bin/eb","bin/echo","bin/ed","bin/efax","bin/emacs","bin/env","bin/eqn","bin/es","bin/esh","bin/etc/group","bin/etc/master.passwd","bin/etc/passwd","bin/etc/pwd.db","bin/etc/shadow","bin/etc/shells","bin/etc/spwd.db","bin/ex","bin/exiftool","bin/expand","bin/expect","bin/expr","bin/facter","bin/fetch","bin/file","bin/find","bin/finger","bin/fish","bin/flock","bin/fmt","bin/fold","bin/fping","bin/ftp","bin/gawk","bin/gcc","bin/gcore","bin/gdb","bin/gem","bin/genie","bin/genisoimage","bin/ghc","bin/ghci","bin/gimp","bin/ginsh","bin/git","bin/grc","bin/grep","bin/gtester","bin/gunzip","bin/gzexe","bin/gzip","bin/hd","bin/head","bin/hexdump","bin/highlight","bin/hping3","bin/iconv","bin/id","bin/iftop","bin/install","bin/ionice","bin/ip","bin/irb","bin/ispell","bin/jjs","bin/join","bin/journalctl","bin/jq","bin/jrunscript","bin/knife","bin/ksh","bin/ksshell","bin/latex","bin/ld","bin/ldconfig","bin/less","bin/lftp","bin/ln","bin/loginctl","bin/logsave","bin/look","bin/lp","bin/ls","bin/ltrace","bin/lua","bin/lualatex","bin/luatex","bin/lwp-download","bin/lwp-request","bin/lz","bin/lz4","bin/lz4c","bin/lz4cat","bin/lzcat","bin/lzcmp","bin/lzdiff","bin/lzegrep","bin/lzfgrep","bin/lzgrep","bin/lzless","bin/lzma","bin/lzmadec","bin/lzmainfo","bin/lzmore","bin/mail","bin/make","bin/man","bin/mawk","bin/mkfifo","bin/mknod","bin/more","bin/mosquitto","bin/mount","bin/msgattrib","bin/msgcat","bin/msgconv","bin/msgfilter","bin/msgmerge","bin/msguniq","bin/mtr","bin/mv","bin/mysql","bin/nano","bin/nasm","bin/nawk","bin/nc","bin/ncat","bin/neofetch","bin/nice","bin/nl","bin/nm","bin/nmap","bin/node","bin/nohup","bin/npm","bin/nroff","bin/nsenter","bin/octave","bin/od","bin/openssl","bin/openvpn","bin/openvt","bin/opkg","bin/paste","bin/pax","bin/pdb","bin/pdflatex","bin/pdftex","bin/pdksh","bin/perf","bin/perl","bin/pg","bin/php","bin/php-cgi","bin/php5","bin/php7","bin/pic","bin/pico","bin/pidstat","bin/pigz","bin/pip","bin/pkexec","bin/pkg","bin/pr","bin/printf","bin/proc/self/","bin/pry","bin/ps","bin/psed","bin/psftp","bin/psql","bin/ptx","bin/puppet","bin/pxz","bin/python","bin/python2","bin/python3","bin/rake","bin/rbash","bin/rc","bin/readelf","bin/red","bin/redcarpet","bin/restic","bin/rev","bin/rlogin","bin/rlwrap","bin/rpm","bin/rpmquery","bin/rsync","bin/ruby","bin/run-mailcap","bin/run-parts","bin/rview","bin/rvim","bin/sash","bin/sbin/capsh","bin/sbin/logsave","bin/sbin/service","bin/sbin/start-stop-daemon","bin/scp","bin/screen","bin/script","bin/sed","bin/service","bin/setarch","bin/sftp","bin/sg","bin/sh","bin/shuf","bin/sleep","bin/slsh","bin/smbclient","bin/snap","bin/socat","bin/soelim","bin/sort","bin/split","bin/sqlite3","bin/ss","bin/ssh","bin/ssh-keygen","bin/ssh-keyscan","bin/sshpass","bin/start-stop-daemon","bin/stdbuf","bin/strace","bin/strings","bin/su","bin/sysctl","bin/systemctl","bin/systemd-resolve","bin/tac","bin/tail","bin/tar","bin/task","bin/taskset","bin/tbl","bin/tclsh","bin/tcpdump","bin/tcsh","bin/tee","bin/telnet","bin/tex","bin/tftp","bin/tic","bin/time","bin/timedatectl","bin/timeout","bin/tmux","bin/top","bin/troff","bin/tshark","bin/ul","bin/uname","bin/uncompress","bin/unexpand","bin/uniq","bin/unlz4","bin/unlzma","bin/unpigz","bin/unrar","bin/unshare","bin/unxz","bin/unzip","bin/unzstd","bin/update-alternatives","bin/uudecode","bin/uuencode","bin/valgrind","bin/vi","bin/view","bin/vigr","bin/vim","bin/vimdiff","bin/vipw","bin/virsh","bin/volatility","bin/wall","bin/watch","bin/wc","bin/wget","bin/whiptail","bin/who","bin/whoami","bin/whois","bin/wireshark","bin/wish","bin/xargs","bin/xelatex","bin/xetex","bin/xmodmap","bin/xmore","bin/xpad","bin/xxd","bin/xz","bin/xzcat","bin/xzcmp","bin/xzdec","bin/xzdiff","bin/xzegrep","bin/xzfgrep","bin/xzgrep","bin/xzless","bin/xzmore","bin/yarn","bin/yelp","bin/yes","bin/yum","bin/zathura","bin/zip","bin/zipcloak","bin/zipcmp","bin/zipdetails","bin/zipgrep","bin/zipinfo","bin/zipmerge","bin/zipnote","bin/zipsplit","bin/ziptool","bin/zsh","bin/zsoelim","bin/zstd","bin/zstdcat","bin/zstdgrep","bin/zstdless","bin/zstdmt","bin/zypper"]},"operator":"phrase_match"}],"transformers":["lowercase"]},{"id":"crs-932-171","name":"Remote Command Execution: Shellshock (CVE-2014-6271)","tags":{"type":"command_injection","crs_id":"932171","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"regex":"^\\\\(\\\\s*\\\\)\\\\s+{","options":{"case_sensitive":true,"min_length":4}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-932-180","name":"Restricted File Upload Attempt","tags":{"type":"command_injection","crs_id":"932180","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["x-filename"]},{"address":"server.request.headers.no_cookies","key_path":["x_filename"]},{"address":"server.request.headers.no_cookies","key_path":["x-file-name"]}],"list":[".htaccess",".htdigest",".htpasswd","wp-config.php","config.yml","config_dev.yml","config_prod.yml","config_test.yml","parameters.yml","routing.yml","security.yml","services.yml","default.settings.php","settings.php","settings.local.php","local.xml",".env"]},"operator":"phrase_match"}],"transformers":["lowercase"]},{"id":"crs-933-111","name":"PHP Injection Attack: PHP Script File Upload Found","tags":{"type":"unrestricted_file_upload","crs_id":"933111","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["x-filename"]},{"address":"server.request.headers.no_cookies","key_path":["x_filename"]},{"address":"server.request.headers.no_cookies","key_path":["x.filename"]},{"address":"server.request.headers.no_cookies","key_path":["x-file-name"]}],"regex":".*\\\\.(?:php\\\\d*|phtml)\\\\..*$","options":{"case_sensitive":true,"min_length":5}},"operator":"match_regex"}],"transformers":["lowercase"]},{"id":"crs-933-130","name":"PHP Injection Attack: Global Variables Found","tags":{"type":"php_code_injection","crs_id":"933130","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"list":["$globals","$_cookie","$_env","$_files","$_get","$_post","$_request","$_server","$_session","$argc","$argv","$http_\\\\u200bresponse_\\\\u200bheader","$php_\\\\u200berrormsg","$http_cookie_vars","$http_env_vars","$http_get_vars","$http_post_files","$http_post_vars","$http_raw_post_data","$http_request_vars","$http_server_vars"]},"operator":"phrase_match"}],"transformers":["lowercase"]},{"id":"crs-933-131","name":"PHP Injection Attack: HTTP Headers Values Found","tags":{"type":"php_code_injection","crs_id":"933131","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"(?:HTTP_(?:ACCEPT(?:_(?:ENCODING|LANGUAGE|CHARSET))?|(?:X_FORWARDED_FO|REFERE)R|(?:USER_AGEN|HOS)T|CONNECTION|KEEP_ALIVE)|PATH_(?:TRANSLATED|INFO)|ORIG_PATH_INFO|QUERY_STRING|REQUEST_URI|AUTH_TYPE)","options":{"case_sensitive":true,"min_length":9}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-933-140","name":"PHP Injection Attack: I/O Stream Found","tags":{"type":"php_code_injection","crs_id":"933140","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"php://(?:std(?:in|out|err)|(?:in|out)put|fd|memory|temp|filter)","options":{"min_length":8}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-933-150","name":"PHP Injection Attack: High-Risk PHP Function Name Found","tags":{"type":"php_code_injection","crs_id":"933150","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"list":["__halt_compiler","apache_child_terminate","base64_decode","bzdecompress","call_user_func","call_user_func_array","call_user_method","call_user_method_array","convert_uudecode","file_get_contents","file_put_contents","fsockopen","get_class_methods","get_class_vars","get_defined_constants","get_defined_functions","get_defined_vars","gzdecode","gzinflate","gzuncompress","include_once","invokeargs","pcntl_exec","pcntl_fork","pfsockopen","posix_getcwd","posix_getpwuid","posix_getuid","posix_uname","reflectionfunction","require_once","shell_exec","str_rot13","sys_get_temp_dir","wp_remote_fopen","wp_remote_get","wp_remote_head","wp_remote_post","wp_remote_request","wp_safe_remote_get","wp_safe_remote_head","wp_safe_remote_post","wp_safe_remote_request","zlib_decode"]},"operator":"phrase_match"}],"transformers":["lowercase"]},{"id":"crs-933-160","name":"PHP Injection Attack: High-Risk PHP Function Call Found","tags":{"type":"php_code_injection","crs_id":"933160","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"\\\\b(?:s(?:e(?:t(?:_(?:e(?:xception|rror)_handler|magic_quotes_runtime|include_path)|defaultstub)|ssion_s(?:et_save_handler|tart))|qlite_(?:(?:(?:unbuffered|single|array)_)?query|create_(?:aggregate|function)|p?open|exec)|tr(?:eam_(?:context_create|socket_client)|ipc?slashes|rev)|implexml_load_(?:string|file)|ocket_c(?:onnect|reate)|h(?:ow_sourc|a1_fil)e|pl_autoload_register|ystem)|p(?:r(?:eg_(?:replace(?:_callback(?:_array)?)?|match(?:_all)?|split)|oc_(?:(?:terminat|clos|nic)e|get_status|open)|int_r)|o(?:six_(?:get(?:(?:e[gu]|g)id|login|pwnam)|mk(?:fifo|nod)|ttyname|kill)|pen)|hp(?:_(?:strip_whitespac|unam)e|version|info)|g_(?:(?:execut|prepar)e|connect|query)|a(?:rse_(?:ini_file|str)|ssthru)|utenv)|r(?:unkit_(?:function_(?:re(?:defin|nam)e|copy|add)|method_(?:re(?:defin|nam)e|copy|add)|constant_(?:redefine|add))|e(?:(?:gister_(?:shutdown|tick)|name)_function|ad(?:(?:gz)?file|_exif_data|dir))|awurl(?:de|en)code)|i(?:mage(?:createfrom(?:(?:jpe|pn)g|x[bp]m|wbmp|gif)|(?:jpe|pn)g|g(?:d2?|if)|2?wbmp|xbm)|s_(?:(?:(?:execut|write?|read)ab|fi)le|dir)|ni_(?:get(?:_all)?|set)|terator_apply|ptcembed)|g(?:et(?:_(?:c(?:urrent_use|fg_va)r|meta_tags)|my(?:[gpu]id|inode)|(?:lastmo|cw)d|imagesize|env)|z(?:(?:(?:defla|wri)t|encod|fil)e|compress|open|read)|lob)|a(?:rray_(?:u(?:intersect(?:_u?assoc)?|diff(?:_u?assoc)?)|intersect_u(?:assoc|key)|diff_u(?:assoc|key)|filter|reduce|map)|ssert(?:_options)?|lert|tob)|h(?:tml(?:specialchars(?:_decode)?|_entity_decode|entities)|(?:ash(?:_(?:update|hmac))?|ighlight)_file|e(?:ader_register_callback|x2bin))|f(?:i(?:le(?:(?:[acm]tim|inod)e|(?:_exist|perm)s|group)?|nfo_open)|tp_(?:nb_(?:ge|pu)|connec|ge|pu)t|(?:unction_exis|pu)ts|write|open)|o(?:b_(?:get_(?:c(?:ontents|lean)|flush)|end_(?:clean|flush)|clean|flush|start)|dbc_(?:result(?:_all)?|exec(?:ute)?|connect)|pendir)|m(?:b_(?:ereg(?:_(?:replace(?:_callback)?|match)|i(?:_replace)?)?|parse_str)|(?:ove_uploaded|d5)_file|ethod_exists|ysql_query|kdir)|e(?:x(?:if_(?:t(?:humbnail|agname)|imagetype|read_data)|ec)|scapeshell(?:arg|cmd)|rror_reporting|val)|c(?:url_(?:file_create|exec|init)|onvert_uuencode|reate_function|hr)|u(?:n(?:serialize|pack)|rl(?:de|en)code|[ak]?sort)|b(?:(?:son_(?:de|en)|ase64_en)code|zopen|toa)|(?:json_(?:de|en)cod|debug_backtrac|tmpfil)e|var_dump)(?:\\\\s|/\\\\*.*\\\\*/|//.*|#.*|\\\\\\"|\')*\\\\((?:(?:\\\\s|/\\\\*.*\\\\*/|//.*|#.*)*(?:\\\\$\\\\w+|[A-Z\\\\d]\\\\w*|\\\\w+\\\\(.*\\\\)|\\\\\\\\?\\"(?:[^\\"]|\\\\\\\\\\"|\\"\\"|\\"\\\\+\\")*\\\\\\\\?\\"|\\\\\\\\?\'(?:[^\']|\'\'|\'\\\\+\')*\\\\\\\\?\')(?:\\\\s|/\\\\*.*\\\\*/|//.*|#.*)*(?:(?:::|\\\\.|->)(?:\\\\s|/\\\\*.*\\\\*/|//.*|#.*)*\\\\w+(?:\\\\(.*\\\\))?)?,)*(?:(?:\\\\s|/\\\\*.*\\\\*/|//.*|#.*)*(?:\\\\$\\\\w+|[A-Z\\\\d]\\\\w*|\\\\w+\\\\(.*\\\\)|\\\\\\\\?\\"(?:[^\\"]|\\\\\\\\\\"|\\"\\"|\\"\\\\+\\")*\\\\\\\\?\\"|\\\\\\\\?\'(?:[^\']|\'\'|\'\\\\+\')*\\\\\\\\?\')(?:\\\\s|/\\\\*.*\\\\*/|//.*|#.*)*(?:(?:::|\\\\.|->)(?:\\\\s|/\\\\*.*\\\\*/|//.*|#.*)*\\\\w+(?:\\\\(.*\\\\))?)?)?\\\\)","options":{"case_sensitive":true,"min_length":5}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-933-170","name":"PHP Injection Attack: Serialized Object Injection","tags":{"type":"php_code_injection","crs_id":"933170","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies"},{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"[oOcC]:\\\\d+:\\\\\\".+?\\\\\\":\\\\d+:{[\\\\W\\\\w]*}","options":{"case_sensitive":true,"min_length":12}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-933-200","name":"PHP Injection Attack: Wrapper scheme detected","tags":{"type":"php_code_injection","crs_id":"933200","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"(?:(?:bzip|ssh)2|z(?:lib|ip)|(?:ph|r)ar|expect|glob|ogg)://","options":{"case_sensitive":true,"min_length":6}},"operator":"match_regex"}],"transformers":["removeNulls"]},{"id":"crs-934-100","name":"Node.js Injection Attack 1/2","tags":{"type":"js_code_injection","crs_id":"934100","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"\\\\b(?:(?:l(?:(?:utimes|chmod)(?:Sync)?|(?:stat|ink)Sync)|w(?:rite(?:(?:File|v)(?:Sync)?|Sync)|atchFile)|u(?:n(?:watchFile|linkSync)|times(?:Sync)?)|s(?:(?:ymlink|tat)Sync|pawn(?:File|Sync))|ex(?:ec(?:File(?:Sync)?|Sync)|istsSync)|a(?:ppendFile|ccess)(?:Sync)?|(?:Caveat|Inode)s|open(?:dir)?Sync|new\\\\s+Function|Availability|\\\\beval)\\\\s*\\\\(|m(?:ain(?:Module\\\\s*(?:\\\\W*\\\\s*(?:constructor|require)|\\\\[)|\\\\s*(?:\\\\W*\\\\s*(?:constructor|require)|\\\\[))|kd(?:temp(?:Sync)?|irSync)\\\\s*\\\\(|odule\\\\.exports\\\\s*=)|c(?:(?:(?:h(?:mod|own)|lose)Sync|reate(?:Write|Read)Stream|p(?:Sync)?)\\\\s*\\\\(|o(?:nstructor\\\\s*(?:\\\\W*\\\\s*_load|\\\\[)|pyFile(?:Sync)?\\\\s*\\\\())|f(?:(?:(?:s(?:(?:yncS)?|tatS)|datas(?:yncS)?)ync|ch(?:mod|own)(?:Sync)?)\\\\s*\\\\(|u(?:nction\\\\s*\\\\(\\\\s*\\\\)\\\\s*{|times(?:Sync)?\\\\s*\\\\())|r(?:e(?:(?:ad(?:(?:File|link|dir)?Sync|v(?:Sync)?)|nameSync)\\\\s*\\\\(|quire\\\\s*(?:\\\\W*\\\\s*main|\\\\[))|m(?:Sync)?\\\\s*\\\\()|process\\\\s*(?:\\\\W*\\\\s*(?:mainModule|binding)|\\\\[)|t(?:his\\\\.constructor|runcateSync\\\\s*\\\\()|_(?:\\\\$\\\\$ND_FUNC\\\\$\\\\$_|_js_function)|global\\\\s*(?:\\\\W*\\\\s*process|\\\\[)|String\\\\s*\\\\.\\\\s*fromCharCode|binding\\\\s*\\\\[)","options":{"case_sensitive":true,"min_length":3}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-934-101","name":"Node.js Injection Attack 2/2","tags":{"type":"js_code_injection","crs_id":"934101","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"\\\\b(?:w(?:atch|rite)|(?:spaw|ope)n|exists|close|fork|read)\\\\s*\\\\(","options":{"case_sensitive":true,"min_length":5}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-941-110","name":"XSS Filter - Category 1: Script Tag Vector","tags":{"type":"xss","crs_id":"941110","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]},{"address":"server.request.headers.no_cookies","key_path":["referer"]},{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"<script[^>]*>[\\\\s\\\\S]*?","options":{"min_length":8}},"operator":"match_regex"}],"transformers":["removeNulls","urlDecodeUni"]},{"id":"crs-941-120","name":"XSS Filter - Category 2: Event Handler Vector","tags":{"type":"xss","crs_id":"941120","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]},{"address":"server.request.headers.no_cookies","key_path":["referer"]},{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"[\\\\s\\\\\\"\'`;\\\\/0-9=\\\\x0B\\\\x09\\\\x0C\\\\x3B\\\\x2C\\\\x28\\\\x3B]on(?:d(?:r(?:ag(?:en(?:ter|d)|leave|start|over)?|op)|urationchange|blclick)|s(?:e(?:ek(?:ing|ed)|arch|lect)|u(?:spend|bmit)|talled|croll|how)|m(?:ouse(?:(?:lea|mo)ve|o(?:ver|ut)|enter|down|up)|essage)|p(?:a(?:ge(?:hide|show)|(?:st|us)e)|lay(?:ing)?|rogress)|c(?:anplay(?:through)?|o(?:ntextmenu|py)|hange|lick|ut)|a(?:nimation(?:iteration|start|end)|(?:fterprin|bor)t)|t(?:o(?:uch(?:cancel|start|move|end)|ggle)|imeupdate)|f(?:ullscreen(?:change|error)|ocus(?:out|in)?)|(?:(?:volume|hash)chang|o(?:ff|n)lin)e|b(?:efore(?:unload|print)|lur)|load(?:ed(?:meta)?data|start)?|r(?:es(?:ize|et)|atechange)|key(?:press|down|up)|w(?:aiting|heel)|in(?:valid|put)|e(?:nded|rror)|unload)[\\\\s\\\\x0B\\\\x09\\\\x0C\\\\x3B\\\\x2C\\\\x28\\\\x3B]*?=[^=]","options":{"min_length":8}},"operator":"match_regex"}],"transformers":["removeNulls","urlDecodeUni"]},{"id":"crs-941-140","name":"XSS Filter - Category 4: Javascript URI Vector","tags":{"type":"xss","crs_id":"941140","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]},{"address":"server.request.headers.no_cookies","key_path":["referer"]},{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"[a-z]+=(?:[^:=]+:.+;)*?[^:=]+:url\\\\(javascript","options":{"min_length":18}},"operator":"match_regex"}],"transformers":["removeNulls","urlDecodeUni"]},{"id":"crs-941-170","name":"NoScript XSS InjectionChecker: Attribute Injection","tags":{"type":"xss","crs_id":"941170","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]},{"address":"server.request.headers.no_cookies","key_path":["referer"]},{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"}],"regex":"(?:\\\\W|^)(?:javascript:(?:[\\\\s\\\\S]+[=\\\\x5c\\\\(\\\\[\\\\.<]|[\\\\s\\\\S]*?(?:\\\\bname\\\\b|\\\\x5c[ux]\\\\d)))|@\\\\W*?i\\\\W*?m\\\\W*?p\\\\W*?o\\\\W*?r\\\\W*?t\\\\W*?(?:/\\\\*[\\\\s\\\\S]*?)?(?:[\\\\\\"\']|\\\\W*?u\\\\W*?r\\\\W*?l[\\\\s\\\\S]*?\\\\()|[^-]*?-\\\\W*?m\\\\W*?o\\\\W*?z\\\\W*?-\\\\W*?b\\\\W*?i\\\\W*?n\\\\W*?d\\\\W*?i\\\\W*?n\\\\W*?g[^:]*?:\\\\W*?u\\\\W*?r\\\\W*?l[\\\\s\\\\S]*?\\\\(","options":{"min_length":6}},"operator":"match_regex"}],"transformers":["removeNulls","urlDecodeUni"]},{"id":"crs-941-180","name":"Node-Validator Deny List Keywords","tags":{"type":"xss","crs_id":"941180","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"list":["document.cookie","document.write",".parentnode",".innerhtml","window.location","-moz-binding"]},"operator":"phrase_match"}],"transformers":["removeNulls","lowercase"]},{"id":"crs-941-200","name":"IE XSS Filters - Attack Detected via vmlframe tag","tags":{"type":"xss","crs_id":"941200","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"(?i:<.*[:]?vmlframe.*?[\\\\s/+]*?src[\\\\s/+]*=)","options":{"case_sensitive":true,"min_length":13}},"operator":"match_regex"}],"transformers":["removeNulls"]},{"id":"crs-941-210","name":"IE XSS Filters - Obfuscated Attack Detected via javascript injection","tags":{"type":"xss","crs_id":"941210","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"(?i:(?:j|&#x?0*(?:74|4A|106|6A);?)(?:\\\\t|\\\\n|\\\\r|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:a|&#x?0*(?:65|41|97|61);?)(?:\\\\t|\\\\n|\\\\r|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:v|&#x?0*(?:86|56|118|76);?)(?:\\\\t|\\\\n|\\\\r|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:a|&#x?0*(?:65|41|97|61);?)(?:\\\\t|\\\\n|\\\\r|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:s|&#x?0*(?:83|53|115|73);?)(?:\\\\t|\\\\n|\\\\r|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:c|&#x?0*(?:67|43|99|63);?)(?:\\\\t|\\\\n|\\\\r|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:r|&#x?0*(?:82|52|114|72);?)(?:\\\\t|\\\\n|\\\\r|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:i|&#x?0*(?:73|49|105|69);?)(?:\\\\t|\\\\n|\\\\r|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:p|&#x?0*(?:80|50|112|70);?)(?:\\\\t|\\\\n|\\\\r|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:t|&#x?0*(?:84|54|116|74);?)(?:\\\\t|\\\\n|\\\\r|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?::|&(?:#x?0*(?:58|3A);?|colon;)).)","options":{"case_sensitive":true,"min_length":12}},"operator":"match_regex"}],"transformers":["removeNulls"]},{"id":"crs-941-220","name":"IE XSS Filters - Obfuscated Attack Detected via vbscript injection","tags":{"type":"xss","crs_id":"941220","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"(?i:(?:v|&#x?0*(?:86|56|118|76);?)(?:\\\\t|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:b|&#x?0*(?:66|42|98|62);?)(?:\\\\t|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:s|&#x?0*(?:83|53|115|73);?)(?:\\\\t|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:c|&#x?0*(?:67|43|99|63);?)(?:\\\\t|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:r|&#x?0*(?:82|52|114|72);?)(?:\\\\t|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:i|&#x?0*(?:73|49|105|69);?)(?:\\\\t|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:p|&#x?0*(?:80|50|112|70);?)(?:\\\\t|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?:t|&#x?0*(?:84|54|116|74);?)(?:\\\\t|&(?:#x?0*(?:9|13|10|A|D);?|tab;|newline;))*(?::|&(?:#x?0*(?:58|3A);?|colon;)).)","options":{"case_sensitive":true,"min_length":10}},"operator":"match_regex"}],"transformers":["removeNulls"]},{"id":"crs-941-230","name":"IE XSS Filters - Attack Detected via embed tag","tags":{"type":"xss","crs_id":"941230","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"<EMBED[\\\\s/+].*?(?:src|type).*?=","options":{"min_length":11}},"operator":"match_regex"}],"transformers":["removeNulls"]},{"id":"crs-941-240","name":"IE XSS Filters - Attack Detected via import tag","tags":{"type":"xss","crs_id":"941240","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"<[?]?import[\\\\s/+\\\\S]*?implementation[\\\\s/+]*?=","options":{"case_sensitive":true,"min_length":22}},"operator":"match_regex"}],"transformers":["lowercase","removeNulls"]},{"id":"crs-941-270","name":"IE XSS Filters - Attack Detected via link tag","tags":{"type":"xss","crs_id":"941270","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"<LINK[\\\\s/+].*?href[\\\\s/+]*=","options":{"min_length":11}},"operator":"match_regex"}],"transformers":["removeNulls"]},{"id":"crs-941-280","name":"IE XSS Filters - Attack Detected via base tag","tags":{"type":"xss","crs_id":"941280","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"<BASE[\\\\s/+].*?href[\\\\s/+]*=","options":{"min_length":11}},"operator":"match_regex"}],"transformers":["removeNulls"]},{"id":"crs-941-290","name":"IE XSS Filters - Attack Detected via applet tag","tags":{"type":"xss","crs_id":"941290","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"<APPLET[\\\\s/+>]","options":{"min_length":8}},"operator":"match_regex"}],"transformers":["removeNulls"]},{"id":"crs-941-300","name":"IE XSS Filters - Attack Detected via object tag","tags":{"type":"xss","crs_id":"941300","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"<OBJECT[\\\\s/+].*?(?:type|codetype|classid|code|data)[\\\\s/+]*=","options":{"min_length":13}},"operator":"match_regex"}],"transformers":["removeNulls"]},{"id":"crs-941-350","name":"UTF-7 Encoding IE XSS - Attack Detected","tags":{"type":"xss","crs_id":"941350","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"\\\\+ADw-.*(?:\\\\+AD4-|>)|<.*\\\\+AD4-","options":{"case_sensitive":true,"min_length":6}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-941-360","name":"JSFuck / Hieroglyphy obfuscation detected","tags":{"type":"xss","crs_id":"941360","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"![!+ ]\\\\[\\\\]","options":{"case_sensitive":true,"min_length":4}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-941-390","name":"Javascript method detected","tags":{"type":"xss","crs_id":"941390","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"\\\\b(?i:eval|settimeout|setinterval|new\\\\s+Function|alert|prompt)[\\\\s+]*\\\\([^\\\\)]","options":{"case_sensitive":true,"min_length":5}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-942-100","name":"SQL Injection Attack Detected via libinjection","tags":{"type":"sql_injection","crs_id":"942100","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}]},"operator":"is_sqli"}],"transformers":["removeNulls"]},{"id":"crs-942-160","name":"Detects blind sqli tests using sleep() or benchmark()","tags":{"type":"sql_injection","crs_id":"942160","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"(?i:sleep\\\\(\\\\s*?\\\\d*?\\\\s*?\\\\)|benchmark\\\\(.*?\\\\,.*?\\\\))","options":{"case_sensitive":true,"min_length":7}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-942-240","name":"Detects MySQL charset switch and MSSQL DoS attempts","tags":{"type":"sql_injection","crs_id":"942240","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"(?:[\\\\\\"\'`](?:;*?\\\\s*?waitfor\\\\s+(?:delay|time)\\\\s+[\\\\\\"\'`]|;.*?:\\\\s*?goto)|alter\\\\s*?\\\\w+.*?cha(?:racte)?r\\\\s+set\\\\s+\\\\w+)","options":{"min_length":7}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-942-250","name":"Detects MATCH AGAINST, MERGE and EXECUTE IMMEDIATE injections","tags":{"type":"sql_injection","crs_id":"942250","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"(?i:merge.*?using\\\\s*?\\\\(|execute\\\\s*?immediate\\\\s*?[\\\\\\"\'`]|match\\\\s*?[\\\\w(?:),+-]+\\\\s*?against\\\\s*?\\\\()","options":{"case_sensitive":true,"min_length":11}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-942-270","name":"Basic SQL injection","tags":{"type":"sql_injection","crs_id":"942270","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"union.*?select.*?from","options":{"min_length":15}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-942-280","name":"SQL Injection with delay functions","tags":{"type":"sql_injection","crs_id":"942280","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"(?:;\\\\s*?shutdown\\\\s*?(?:[#;{]|\\\\/\\\\*|--)|waitfor\\\\s*?delay\\\\s?[\\\\\\"\'`]+\\\\s?\\\\d|select\\\\s*?pg_sleep)","options":{"min_length":10}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-942-290","name":"Finds basic MongoDB SQL injection attempts","tags":{"type":"nosql_injection","crs_id":"942290","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"(?i:(?:\\\\[?\\\\$(?:(?:s(?:lic|iz)|wher)e|e(?:lemMatch|xists|q)|n(?:o[rt]|in?|e)|l(?:ike|te?)|t(?:ext|ype)|a(?:ll|nd)|jsonSchema|between|regex|x?or|div|mod)\\\\]?)\\\\b)","options":{"case_sensitive":true,"min_length":3}},"operator":"match_regex"}],"transformers":["keys_only"]},{"id":"crs-942-360","name":"Detects concatenated basic SQL injection and SQLLFI attempts","tags":{"type":"sql_injection","crs_id":"942360","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"(?:^[\\\\W\\\\d]+\\\\s*?(?:alter\\\\s*(?:a(?:(?:pplication\\\\s*rol|ggregat)e|s(?:ymmetric\\\\s*ke|sembl)y|u(?:thorization|dit)|vailability\\\\s*group)|c(?:r(?:yptographic\\\\s*provider|edential)|o(?:l(?:latio|um)|nversio)n|ertificate|luster)|s(?:e(?:rv(?:ice|er)|curity|quence|ssion|arch)|y(?:mmetric\\\\s*key|nonym)|togroup|chema)|m(?:a(?:s(?:ter\\\\s*key|k)|terialized)|e(?:ssage\\\\s*type|thod)|odule)|l(?:o(?:g(?:file\\\\s*group|in)|ckdown)|a(?:ngua|r)ge|ibrary)|t(?:(?:abl(?:espac)?|yp)e|r(?:igger|usted)|hreshold|ext)|p(?:a(?:rtition|ckage)|ro(?:cedur|fil)e|ermission)|d(?:i(?:mension|skgroup)|atabase|efault|omain)|r(?:o(?:l(?:lback|e)|ute)|e(?:sourc|mot)e)|f(?:u(?:lltext|nction)|lashback|oreign)|e(?:xte(?:nsion|rnal)|(?:ndpoi|ve)nt)|in(?:dex(?:type)?|memory|stance)|b(?:roker\\\\s*priority|ufferpool)|x(?:ml\\\\s*schema|srobject)|w(?:ork(?:load)?|rapper)|hi(?:erarchy|stogram)|o(?:perator|utline)|(?:nicknam|queu)e|us(?:age|er)|group|java|view)|union\\\\s*(?:(?:distin|sele)ct|all))\\\\b|\\\\b(?:(?:(?:trunc|cre|upd)at|renam)e|(?:inser|selec)t|de(?:lete|sc)|alter|load)\\\\s+(?:group_concat|load_file|char)\\\\b\\\\s*\\\\(?|[\\\\s(]load_file\\\\s*?\\\\(|[\\\\\\"\'`]\\\\s+regexp\\\\W)","options":{"min_length":5}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-942-500","name":"MySQL in-line comment detected","tags":{"type":"sql_injection","crs_id":"942500","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"(?i:/\\\\*[!+](?:[\\\\w\\\\s=_\\\\-(?:)]+)?\\\\*/)","options":{"case_sensitive":true,"min_length":5}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-943-100","name":"Possible Session Fixation Attack: Setting Cookie Values in HTML","tags":{"type":"http_protocol_violation","crs_id":"943100","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"}],"regex":"(?i:\\\\.cookie\\\\b.*?;\\\\W*?(?:expires|domain)\\\\W*?=|\\\\bhttp-equiv\\\\W+set-cookie\\\\b)","options":{"case_sensitive":true,"min_length":15}},"operator":"match_regex"}],"transformers":[]},{"id":"crs-944-100","name":"Remote Command Execution: Suspicious Java class detected","tags":{"type":"java_code_injection","crs_id":"944100","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"regex":"java\\\\.lang\\\\.(?:runtime|processbuilder)","options":{"case_sensitive":true,"min_length":17}},"operator":"match_regex"}],"transformers":["lowercase"]},{"id":"crs-944-110","name":"Remote Command Execution: Java process spawn (CVE-2017-9805)","tags":{"type":"java_code_injection","crs_id":"944110","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"regex":"(?:runtime|processbuilder)","options":{"case_sensitive":true,"min_length":7}},"operator":"match_regex"},{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"regex":"(?:unmarshaller|base64data|java\\\\.)","options":{"case_sensitive":true,"min_length":5}},"operator":"match_regex"}],"transformers":["lowercase"]},{"id":"crs-944-130","name":"Suspicious Java class detected","tags":{"type":"java_code_injection","crs_id":"944130","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"list":["com.opensymphony.xwork2","com.sun.org.apache","java.io.bufferedinputstream","java.io.bufferedreader","java.io.bytearrayinputstream","java.io.bytearrayoutputstream","java.io.chararrayreader","java.io.datainputstream","java.io.file","java.io.fileoutputstream","java.io.filepermission","java.io.filewriter","java.io.filterinputstream","java.io.filteroutputstream","java.io.filterreader","java.io.inputstream","java.io.inputstreamreader","java.io.linenumberreader","java.io.objectoutputstream","java.io.outputstream","java.io.pipedoutputstream","java.io.pipedreader","java.io.printstream","java.io.pushbackinputstream","java.io.reader","java.io.stringreader","java.lang.class","java.lang.integer","java.lang.number","java.lang.object","java.lang.process","java.lang.reflect","java.lang.string","java.lang.stringbuilder","java.lang.system","javax.script.scriptenginemanager","org.apache.commons","org.apache.struts","org.apache.struts2","org.omg.corba","java.beans.xmldecode"]},"operator":"phrase_match"}],"transformers":["lowercase"]},{"id":"crs-944-260","name":"Remote Command Execution: Malicious class-loading payload","tags":{"type":"java_code_injection","crs_id":"944260","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"regex":"(?:class\\\\.module\\\\.classLoader\\\\.resources\\\\.context\\\\.parent\\\\.pipeline|springframework\\\\.context\\\\.support\\\\.FileSystemXmlApplicationContext)","options":{"case_sensitive":true,"min_length":58}},"operator":"match_regex"}],"transformers":[]},{"id":"dog-000-001","name":"Look for Cassandra injections","tags":{"type":"nosql_injection","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"}],"regex":"\\\\ballow\\\\s+filtering\\\\b"},"operator":"match_regex"}],"transformers":["removeComments"]},{"id":"dog-000-002","name":"OGNL - Look for formatting injection patterns","tags":{"type":"java_code_injection","category":"attack_attempt"},"conditions":[{"operator":"match_regex","parameters":{"inputs":[{"address":"server.request.uri.raw"},{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"[#%$]{(?:[^}]+[^\\\\w\\\\s}\\\\-_][^}]+|\\\\d+-\\\\d+)}","options":{"case_sensitive":true}}}],"transformers":[]},{"id":"dog-000-003","name":"OGNL - Detect OGNL exploitation primitives","tags":{"type":"java_code_injection","category":"attack_attempt","confidence":"1"},"conditions":[{"operator":"match_regex","parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"regex":"[@#]ognl","options":{"case_sensitive":true}}}],"transformers":[]},{"id":"dog-000-004","name":"Spring4Shell - Attempts to exploit the Spring4shell vulnerability","tags":{"type":"exploit_detection","category":"attack_attempt","confidence":"1"},"conditions":[{"operator":"match_regex","parameters":{"inputs":[{"address":"server.request.body"}],"regex":"^class\\\\.module\\\\.classLoader\\\\.","options":{"case_sensitive":false}}}],"transformers":["keys_only"]},{"id":"dog-000-005","name":"Node.js: Prototype pollution through __proto__","tags":{"type":"js_code_injection","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"}],"regex":"^__proto__$"},"operator":"match_regex"}],"transformers":["keys_only"]},{"id":"dog-000-006","name":"Node.js: Prototype pollution through constructor.prototype","tags":{"type":"js_code_injection","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"}],"regex":"^constructor$"},"operator":"match_regex"},{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"}],"regex":"^prototype$"},"operator":"match_regex"}],"transformers":["keys_only"]},{"id":"dog-000-007","name":"Server side template injection: Velocity & Freemarker","tags":{"type":"java_code_injection","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"regex":"#(?:set|foreach|macro|parse|if)\\\\(.*\\\\)|<#assign.*>"},"operator":"match_regex"}],"transformers":[]},{"id":"dog-931-001","name":"RFI: URL Payload to well known RFI target","tags":{"type":"rfi","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"}],"regex":"^(?i:file|ftps?|https?).*/rfiinc\\\\.txt\\\\?+$","options":{"case_sensitive":true,"min_length":17}},"operator":"match_regex"}],"transformers":[]},{"id":"dog-934-001","name":"XXE - XML file loads external entity","tags":{"type":"xxe","category":"attack_attempt","confidence":"0"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.body"},{"address":"grpc.server.request.message"}],"regex":"(?:<\\\\?xml[^>]*>.*)<!ENTITY[^>]+SYSTEM\\\\s+[^>]+>","options":{"case_sensitive":false,"min_length":24}},"operator":"match_regex"}],"transformers":[]},{"id":"dog-942-001","name":"Blind XSS callback domains","tags":{"type":"xss","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"regex":"https?:\\\\/\\\\/(?:.*\\\\.)?(?:bxss\\\\.in|xss\\\\.ht|js\\\\.rip)","options":{"case_sensitive":false}},"operator":"match_regex"}],"transformers":[]},{"id":"nfd-000-001","name":"Detect common directory discovery scans","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"operator":"match_regex","parameters":{"inputs":[{"address":"server.response.status"}],"regex":"^404$","options":{"case_sensitive":true}}},{"operator":"phrase_match","parameters":{"inputs":[{"address":"server.request.uri.raw"}],"list":["/wordpress/","/etc/","/login.php","/install.php","/administrator","/admin.php","/wp-config","/phpmyadmin","/fckeditor","/mysql","/manager/html",".htaccess","/config.php","/configuration","/cgi-bin/php","/search.php","/tinymce","/tiny_mce","/settings.php","../../..","/install/","/download.php","/webdav","/forum.php","/user.php","/style.php","/jmx-console","/modules.php","/include.php","/default.asp","/help.php","/database.yml","/database.yml.pgsql","/database.yml.sqlite3","/database.yml.sqlite","/database.yml.mysql",".%2e/","/view.php","/header.php","/search.asp","%5c%5c","/server/php/","/invoker/jmxinvokerservlet","/phpmyadmin/index.php","/data/admin/allowurl.txt","/verify.php","/misc/ajax.js","/.idea","/module.php","/backup.rar","/backup.tar","/backup.zip","/backup.7z","/backup.gz","/backup.tgz","/backup.tar.gz","waitfor%20delay","/calendar.php","/news.php","/dompdf.php","))))))))))))))))","/web.config","tree.php","/cgi-bin-sdb/printenv","/comments.php","/detail.asp","/license.txt","/admin.asp","/auth.php","/list.php","/content.php","/mod.php","/mini.php","/install.pgsql","/install.mysql","/install.sqlite","/install.sqlite3","/install.txt","/install.md","/doku.php","/main.asp","/myadmin","/force-download.php","/iisprotect/admin","/.gitignore","/print.php","/common.php","/mainfile.php","/functions.php","/scripts/setup.php","/faq.php","/op/op.login.php","/home.php","/includes/hnmain.inc.php3","/preview.php","/dump.rar","/dump.tar","/dump.zip","/dump.7z","/dump.gz","/dump.tgz","/dump.tar.gz","/thumbnail.php","/sendcard.php","/global.asax","/directory.php","/footer.php","/error.asp","/forum.asp","/save.php","/htmlsax3.php","/adm/krgourl.php","/includes/converter.inc.php","/nucleus/libs/pluginadmin.php","/base_qry_common.php","/fileadmin","/bitrix/admin/","/adm.php","/util/barcode.php","/action.php","/rss.asp","/downloads.php","/page.php","/snarf_ajax.php","/fck/editor","/sendmail.php","/detail.php","/iframe.php","/swfupload.swf","/jenkins/login","/phpmyadmin/main.php","/phpmyadmin/scripts/setup.php","/user/index.php","/checkout.php","/process.php","/ks_inc/ajax.js","/export.php","/register.php","/cart.php","/console.php","/friend.php","/readmsg.php","/install.asp","/dagent/downloadreport.asp","/system/index.php","/core/changelog.txt","/js/util.js","/interna.php","/gallery.php","/links.php","/data/admin/ver.txt","/language/zh-cn.xml","/productdetails.asp","/admin/template/article_more/config.htm","/components/com_moofaq/includes/file_includer.php","/licence.txt","/rss.xsl","/vtigerservice.php","/mysql/main.php","/passwiki.php","/scr/soustab.php","/global.php","/email.php","/user.asp","/msd","/products.php","/cultbooking.php","/cron.php","/static/js/admincp.js","/comment.php","/maintainers","/modules/plain/adminpart/addplain.php","/wp-content/plugins/ungallery/source_vuln.php","/upgrade.txt","/category.php","/index_logged.php","/members.asp","/script/html.js","/images/ad.js","/awstats/awstats.pl","/includes/esqueletos/skel_null.php","/modules/profile/user.php","/window_top.php","/openbrowser.php","/thread.php","tinfoil_xss","/includes/include.php","/urheber.php","/header.inc.php","/mysqldumper","/display.php","/website.php","/stats.php","/assets/plugins/mp3_id/mp3_id.php","/siteminderagent/forms/smpwservices.fcc"]}}],"transformers":["lowercase"]},{"id":"nfd-000-002","name":"Detect failed attempt to fetch readme files","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"operator":"match_regex","parameters":{"inputs":[{"address":"server.response.status"}],"regex":"^404$","options":{"case_sensitive":true}}},{"operator":"match_regex","parameters":{"inputs":[{"address":"server.request.uri.raw"}],"regex":"readme\\\\.[\\\\.a-z0-9]+$","options":{"case_sensitive":false}}}],"transformers":[]},{"id":"nfd-000-003","name":"Detect failed attempt to fetch Java EE resource files","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"operator":"match_regex","parameters":{"inputs":[{"address":"server.response.status"}],"regex":"^404$","options":{"case_sensitive":true}}},{"operator":"match_regex","parameters":{"inputs":[{"address":"server.request.uri.raw"}],"regex":"^(?:.*web\\\\-inf)(?:.*web\\\\.xml).*$","options":{"case_sensitive":false}}}],"transformers":[]},{"id":"nfd-000-004","name":"Detect failed attempt to fetch code files","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"operator":"match_regex","parameters":{"inputs":[{"address":"server.response.status"}],"regex":"^404$","options":{"case_sensitive":true}}},{"operator":"match_regex","parameters":{"inputs":[{"address":"server.request.uri.raw"}],"regex":"\\\\.(java|pyc?|rb|class)\\\\b","options":{"case_sensitive":false}}}],"transformers":[]},{"id":"nfd-000-005","name":"Detect failed attempt to fetch source code archives","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"operator":"match_regex","parameters":{"inputs":[{"address":"server.response.status"}],"regex":"^404$","options":{"case_sensitive":true}}},{"operator":"match_regex","parameters":{"inputs":[{"address":"server.request.uri.raw"}],"regex":"\\\\.(sql|log|ndb|gz|zip|tar\\\\.gz|tar|regVV|reg|conf|bz2|ini|db|war|bat|inc|btr|server|ds|conf|config|admin|master|sln|bak)\\\\b(?:[^.]|$)","options":{"case_sensitive":false}}}],"transformers":[]},{"id":"nfd-000-006","name":"Detect failed attempt to fetch sensitive files","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"operator":"match_regex","parameters":{"inputs":[{"address":"server.response.status"}],"regex":"^404$","options":{"case_sensitive":true}}},{"operator":"match_regex","parameters":{"inputs":[{"address":"server.request.uri.raw"}],"regex":"\\\\.(cgi|bat|dll|exe|key|cert|crt|pem|der|pkcs|pkcs|pkcs[0-9]*|nsf|jsa|war|java|class|vb|vba|so|git|svn|hg|cvs)([^a-zA-Z0-9_]|$)","options":{"case_sensitive":false}}}],"transformers":[]},{"id":"nfd-000-007","name":"Detect failed attempt to fetch archives","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"operator":"match_regex","parameters":{"inputs":[{"address":"server.response.status"}],"regex":"^404$","options":{"case_sensitive":true}}},{"operator":"match_regex","parameters":{"inputs":[{"address":"server.request.uri.raw"}],"regex":"/[\\\\d\\\\-_]*\\\\.(rar|tar|zip|7z|gz|tgz|tar.gz)","options":{"case_sensitive":false}}}],"transformers":[]},{"id":"nfd-000-008","name":"Detect failed attempt to trigger incorrect application behavior","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"operator":"match_regex","parameters":{"inputs":[{"address":"server.response.status"}],"regex":"^404$","options":{"case_sensitive":true}}},{"operator":"match_regex","parameters":{"inputs":[{"address":"server.request.uri.raw"}],"regex":"(/(administrator/components/com.*\\\\.php|response\\\\.write\\\\(.+\\\\))|select\\\\(.+\\\\)from|\\\\(.*sleep\\\\(.+\\\\)|(%[a-zA-Z0-9]{2}[a-zA-Z]{0,1})+\\\\))","options":{"case_sensitive":false}}}],"transformers":[]},{"id":"nfd-000-009","name":"Detect failed attempt to leak the structure of the application","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"operator":"match_regex","parameters":{"inputs":[{"address":"server.response.status"}],"regex":"^404$","options":{"case_sensitive":true}}},{"operator":"match_regex","parameters":{"inputs":[{"address":"server.request.uri.raw"}],"regex":"/(login\\\\.rol|LICENSE|[\\\\w-]+\\\\.(plx|pwd))$","options":{"case_sensitive":false}}}],"transformers":[]},{"id":"sqr-000-001","name":"SSRF: Try to access the credential manager of the main cloud services","tags":{"type":"ssrf","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"(?i)^\\\\W*((http|ftp)s?://)?\\\\W*((::f{4}:)?(169|(0x)?0*a9|0+251)\\\\.?(254|(0x)?0*fe|0+376)[0-9a-fx\\\\.:]+|metadata\\\\.google\\\\.internal|metadata\\\\.goog)\\\\W*/","options":{"min_length":4}},"operator":"match_regex"}],"transformers":["removeNulls"]},{"id":"sqr-000-002","name":"Server-side Javascript injection: Try to detect obvious JS injection","tags":{"type":"js_code_injection","category":"attack_attempt"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"require\\\\([\'\\"][\\\\w\\\\.]+[\'\\"]\\\\)|process\\\\.\\\\w+\\\\([\\\\w\\\\.]*\\\\)|\\\\.toString\\\\(\\\\)","options":{"min_length":4}},"operator":"match_regex"}],"transformers":["removeNulls"]},{"id":"sqr-000-008","name":"Windows: Detect attempts to exfiltrate .ini files","tags":{"type":"command_injection","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"regex":"(?i)[&|]\\\\s*type\\\\s+%\\\\w+%\\\\\\\\+\\\\w+\\\\.ini\\\\s*[&|]"},"operator":"match_regex"}],"transformers":[]},{"id":"sqr-000-009","name":"Linux: Detect attempts to exfiltrate passwd files","tags":{"type":"command_injection","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"regex":"(?i)[&|]\\\\s*cat\\\\s+\\\\/etc\\\\/[\\\\w\\\\.\\\\/]*passwd\\\\s*[&|]"},"operator":"match_regex"}],"transformers":[]},{"id":"sqr-000-010","name":"Windows: Detect attempts to timeout a shell","tags":{"type":"command_injection","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"regex":"(?i)[&|]\\\\s*timeout\\\\s+/t\\\\s+\\\\d+\\\\s*[&|]"},"operator":"match_regex"}],"transformers":[]},{"id":"sqr-000-011","name":"SSRF: Try to access internal OMI service (CVE-2021-38647)","tags":{"type":"ssrf","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"http(s?):\\\\/\\\\/([A-Za-z0-9\\\\.\\\\-\\\\_]+|\\\\[[A-Fa-f0-9\\\\:]+\\\\]|):5986\\\\/wsman","options":{"min_length":4}},"operator":"match_regex"}],"transformers":[]},{"id":"sqr-000-012","name":"SSRF: Detect SSRF attempt on internal service","tags":{"type":"ssrf","category":"attack_attempt","confidence":"0"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"^(jar:)?(http|https):\\\\/\\\\/([0-9oq]{1,5}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}|[0-9]{1,10})(:[0-9]{1,5})?(\\\\/[^:@]*)?$"},"operator":"match_regex"}],"transformers":["lowercase"]},{"id":"sqr-000-013","name":"SSRF: Detect SSRF attempts using IPv6 or octal/hexdecimal obfuscation","tags":{"type":"ssrf","category":"attack_attempt","confidence":"0"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"grpc.server.request.message"}],"regex":"^(jar:)?(http|https):\\\\/\\\\/((\\\\[)?[:0-9a-f\\\\.x]{2,}(\\\\])?)(:[0-9]{1,5})?(\\\\/[^:@]*)?$"},"operator":"match_regex"}],"transformers":["lowercase"]},{"id":"sqr-000-014","name":"SSRF: Detect SSRF domain redirection bypass","tags":{"type":"ssrf","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"regex":"(http|https):\\\\/\\\\/(?:.*\\\\.)?(?:burpcollaborator\\\\.net|localtest\\\\.me|mail\\\\.ebc\\\\.apple\\\\.com|bugbounty\\\\.dod\\\\.network|.*\\\\.[nx]ip\\\\.io|oastify\\\\.com|oast\\\\.(?:pro|live|site|online|fun|me)|sslip\\\\.io|requestbin\\\\.com|requestbin\\\\.net|hookbin\\\\.com|webhook\\\\.site|canarytokens\\\\.com|interact\\\\.sh|ngrok\\\\.io|bugbounty\\\\.click|prbly\\\\.win|qualysperiscope\\\\.com|vii.one|act1on3.ru)"},"operator":"match_regex"}],"transformers":[]},{"id":"sqr-000-015","name":"SSRF: Detect SSRF attempt using non HTTP protocol","tags":{"type":"ssrf","category":"attack_attempt","confidence":"0"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"regex":"^(jar:)?((file|netdoc):\\\\/\\\\/[\\\\\\\\\\\\/]+|(dict|gopher|ldap|sftp|tftp):\\\\/\\\\/.*:[0-9]{1,5})"},"operator":"match_regex"}],"transformers":["lowercase"]},{"id":"sqr-000-017","name":"Log4shell: Attempt to exploit log4j CVE-2021-44228","tags":{"type":"exploit_detection","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.uri.raw"},{"address":"server.request.query"},{"address":"server.request.body"},{"address":"server.request.path_params"},{"address":"server.request.headers.no_cookies"},{"address":"grpc.server.request.message"}],"regex":"\\\\${[^j]*j[^n]*n[^d]*d[^i]*i[^:]*:[^}]*}"},"operator":"match_regex"}],"transformers":["unicode_normalize"]},{"id":"ua0-600-0xx","name":"Joomla exploitation tool","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"JDatabaseDriverMysqli"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-10x","name":"Nessus","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)^Nessus(/|([ :]+SOAP))"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-12x","name":"Arachni","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"^Arachni\\\\/v"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-13x","name":"Jorgee","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bJorgee\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-14x","name":"Probely","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bProbely\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-15x","name":"Metis","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bmetis\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-16x","name":"SQL power injector","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"sql power injector"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-18x","name":"N-Stealth","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bn-stealth\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-19x","name":"Brutus","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bbrutus\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-1xx","name":"Shellshock exploitation tool","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"\\\\(\\\\) \\\\{ :; *\\\\}"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-20x","name":"Netsparker","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)(<script>netsparker\\\\(0x0|ns:netsparker.*=vuln)"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-22x","name":"JAASCois","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bjaascois\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-23x","name":"PMAFind","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bpmafind\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-25x","name":"Webtrends","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"webtrends security analyzer"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-26x","name":"Nsauditor","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bnsauditor\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-27x","name":"Paros","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)Mozilla/.* Paros/"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-28x","name":"DirBuster","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bdirbuster\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-29x","name":"Pangolin","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bpangolin\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-2xx","name":"Qualys","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"0"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bqualys\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-30x","name":"SQLNinja","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bsqlninja\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-31x","name":"Nikto","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"\\\\(Nikto/[\\\\d\\\\.]+\\\\)"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-32x","name":"WebInspect","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bwebinspect\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-33x","name":"BlackWidow","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bblack\\\\s?widow\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-34x","name":"Grendel-Scan","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bgrendel-scan\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-35x","name":"Havij","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bhavij\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-36x","name":"w3af","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bw3af\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-37x","name":"Nmap","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"nmap (nse|scripting engine)"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-39x","name":"Nessus Scripted","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)^\'?[a-z0-9]+\\\\.nasl\'?$"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-3xx","name":"Evil Scanner","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bevilScanner\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-40x","name":"WebFuck","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bWebFuck\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-42x","name":"OpenVAS","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)OpenVAS\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-43x","name":"Spider-Pig","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"Powered by Spider-Pig by tinfoilsecurity\\\\.com"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-44x","name":"Zgrab","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"Mozilla/\\\\d+.\\\\d+ zgrab"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-45x","name":"Zmeu","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bZmEu\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-46x","name":"Crowdstrike","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bcrowdstrike\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-47x","name":"GoogleSecurityScanner","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bGoogleSecurityScanner\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-48x","name":"Commix","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"^commix\\\\/"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-49x","name":"Gobuster","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"^gobuster\\\\/"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-4xx","name":"CGIchk","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bcgichk\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-51x","name":"FFUF","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)^Fuzz Faster U Fool\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-52x","name":"Nuclei","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)^Nuclei\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-53x","name":"Tsunami","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bTsunamiSecurityScanner\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-54x","name":"Nimbostratus","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bnimbostratus-bot\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-55x","name":"Datadog test scanner: user-agent","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]},{"address":"grpc.server.request.metadata","key_path":["dd-canary"]}],"regex":"^dd-test-scanner-log$"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-56x","name":"Datadog test scanner - blocking version: user-agent","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]},{"address":"grpc.server.request.metadata","key_path":["dd-canary"]}],"regex":"^dd-test-scanner-log-block$"},"operator":"match_regex"}],"transformers":[],"on_match":["block"]},{"id":"ua0-600-57x","name":"AlertLogic","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"0"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"\\\\bAlertLogic-MDR-"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-5xx","name":"Blind SQL Injection Brute Forcer","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)\\\\bbsqlbf\\\\b"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-6xx","name":"Suspicious user agent","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"mozilla/4\\\\.0 \\\\(compatible(; msie 6\\\\.0; win32)?\\\\)"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-7xx","name":"SQLmap","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"^sqlmap/"},"operator":"match_regex"}],"transformers":[]},{"id":"ua0-600-9xx","name":"Skipfish","tags":{"type":"security_scanner","category":"attack_attempt","confidence":"1"},"conditions":[{"parameters":{"inputs":[{"address":"server.request.headers.no_cookies","key_path":["user-agent"]}],"regex":"(?i)mozilla/5\\\\.0 sf/"},"operator":"match_regex"}],"transformers":[]}]}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.c=__webpack_module_cache__,__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__=__webpack_require__(__webpack_require__.s=33927)})();