{
  "name": "appsec-iast",
  "cachegrind": false,
  "instructions": false,
  "iterations": 1,
  "variants": {
    "startup-time-control": {
      "run": "node --cpu-prof --cpu-prof-dir /tmp --cpu-prof-name control.cpuprofile --require ../../../init.js insecure-bank.js",
      "run_with_affinity": "bash -c \"taskset -c $CPU_AFFINITY node --require ../../../init.js insecure-bank.js\"",
      "teardown": "cp /tmp/control.cpuprofile /go/src/github.com/DataDog/apm-reliability/dd-trace-js/platform/artifacts/",
      "env": {
        "DD_IAST_ENABLED": "0"
      }
    },
    "startup-time-iast-enabled": {
      "run": "node --cpu-prof --cpu-prof-dir /tmp --cpu-prof-name iast.cpuprofile --require ../../../init.js insecure-bank.js",
      "run_with_affinity": "bash -c \"taskset -c $CPU_AFFINITY node --require ../../../init.js insecure-bank.js\"",
      "baseline": "startup-time-control",
      "teardown": "cp /tmp/iast.cpuprofile /go/src/github.com/DataDog/apm-reliability/dd-trace-js/platform/artifacts/",
      "env": {
        "DD_IAST_ENABLED": "1"
      }
    }
  }
}
